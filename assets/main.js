!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="assets/",t(0)}(function(e){for(var t in e)switch(typeof e[t]){case"number":e[t]=e[e[t]];break;case"object":e[t]=function(t){var n=t.slice(1),i=e[t[0]];return function(e,t,r){i.apply(null,[e,t,r].concat(n))}}(e[t])}return e}([function(e,t,n){(function(e){"use strict";Object.assign||(Object.assign=n(72)),n(358);var t=n(1),i=n(6),r=n(8);n(300),n(298);var o=n(5),s=n(23),a=n(30),l=n(370),c=n(13),u=c.METRICS_URL,d=c.APP_TITLE;window.jQuery=i,window.$=i,window.React=t,window.moment=n(2),window.Tether=n(546),e.ajaxPrefilter(function(e){e.xhrFields={withCredentials:!0}});var p=n(303),h=p();s.listen(o.once(function(e){r.run(h,function(n){var i,r=document.getElementById("main");e.currentUser?i=t.createElement(n,null):e.currentUserError&&(i=t.createElement(l,{error:e.currentUserError})),t.render(i,r)})})),a.fetchSelf(),function(){var e=window._paq||[];e.push(["trackPageView"]),e.push(["enableLinkTracking"]),function(){var t=document,n=t.createElement("script"),i=t.getElementsByTagName("script")[0],r=u;e.push(["setTrackerUrl",r+"piwik.php"]),e.push(["setSiteId",1]),n.type="text/javascript",n.async=!0,n.defer=!0,n.src=r+"piwik.js",i.parentNode.insertBefore(n,i)}(),window._paq=e}(),e(function(){e(document).classification({level:"U"})}),document.title=d}).call(t,n(6))},function(e,t,n){e.exports=n(499)},function(e,t,n){var i;(function(e,r){//! moment.js
//! version : 2.9.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(o){function s(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function a(e,t){return Nt.call(e,t)}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){Dt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function u(e,t){var n=!0;return y(function(){return n&&(c(e),n=!1),t.apply(this,arguments)},t)}function d(e,t){Tn[e]||(c(t),Tn[e]=!0)}function p(e,t){return function(n){return x(e.call(this,n),t)}}function h(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function f(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function m(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function g(){}function v(e,t){t!==!1&&P(e),w(this,e),this._d=new Date(+e._d),Dn===!1&&(Dn=!0,Dt.updateOffset(this),Dn=!1)}function b(e){var t=S(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=Dt.localeData(),this._bubble()}function y(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function w(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ft.length>0)for(n in Ft)i=Ft[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function _(e){return 0>e?Math.ceil(e):Math.floor(e)}function x(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function k(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function T(e,t){var n;return t=H(t,e),e.isBefore(t)?n=k(e,t):(n=k(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function C(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(d(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Dt.duration(n,i),D(this,r,e),this}}function D(e,t,n,i){var r=t._milliseconds,o=t._days,s=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),o&&wt(e,"Date",yt(e,"Date")+o*n),s&&bt(e,yt(e,"Month")+s*n),i&&Dt.updateOffset(e,o||s)}function E(e){return"[object Array]"===Object.prototype.toString.call(e)}function M(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function L(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&A(e[i])!==A(t[i]))&&s++;return s+o}function j(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=vn[e]||bn[t]||t}return e}function S(e){var t,n,i={};for(n in e)a(e,n)&&(t=j(n),t&&(i[t]=e[n]));return i}function N(e){var t,n;if(0===e.indexOf("week"))t=7,n="day";else{if(0!==e.indexOf("month"))return;t=12,n="month"}Dt[e]=function(i,r){var s,a,l=Dt._locale[e],c=[];if("number"==typeof i&&(r=i,i=o),a=function(e){var t=Dt().utc().set(n,e);return l.call(Dt._locale,t,i||"")},null!=r)return a(r);for(s=0;t>s;s++)c.push(a(s));return c}}function A(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function $(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function I(e,t,n){return ft(Dt([e,11,31+t-n]),t,n).week}function O(e){return R(e)?366:365}function R(e){return e%4===0&&e%100!==0||e%400===0}function P(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[$t]<0||e._a[$t]>11?$t:e._a[It]<1||e._a[It]>$(e._a[At],e._a[$t])?It:e._a[Ot]<0||e._a[Ot]>24||24===e._a[Ot]&&(0!==e._a[Rt]||0!==e._a[Pt]||0!==e._a[Yt])?Ot:e._a[Rt]<0||e._a[Rt]>59?Rt:e._a[Pt]<0||e._a[Pt]>59?Pt:e._a[Yt]<0||e._a[Yt]>999?Yt:-1,e._pf._overflowDayOfYear&&(At>t||t>It)&&(t=It),e._pf.overflow=t)}function Y(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===o)),e._isValid}function z(e){return e?e.toLowerCase().replace("_","-"):e}function F(e){for(var t,n,i,r,o=0;o<e.length;){for(r=z(e[o]).split("-"),t=r.length,n=z(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=U(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&L(r,n,!0)>=t-1)break;t--}o++}return null}function U(e){var t=null;if(!zt[e]&&Ut)try{t=Dt.locale(),n(428)("./"+e),Dt.locale(t)}catch(i){}return zt[e]}function H(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(Dt.isMoment(e)||M(e)?+e:+Dt(e))-+n,n._d.setTime(+n._d+i),Dt.updateOffset(n,!1),n):Dt(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,i=e.match(qt);for(t=0,n=i.length;n>t;t++)i[t]=kn[i[t]]?kn[i[t]]:B(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function q(e,t){return e.isValid()?(t=V(t,e.localeData()),yn[t]||(yn[t]=W(t)),yn[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Vt.lastIndex=0;i>=0&&Vt.test(e);)e=e.replace(Vt,n),Vt.lastIndex=0,i-=1;return e}function G(e,t){var n,i=t._strict;switch(e){case"Q":return on;case"DDDD":return an;case"YYYY":case"GGGG":case"gggg":return i?ln:Jt;case"Y":case"G":case"g":return un;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?cn:Qt;case"S":if(i)return on;case"SS":if(i)return sn;case"SSS":if(i)return an;case"DDD":return Kt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Zt;case"a":case"A":return t._locale._meridiemParse;case"x":return nn;case"X":return rn;case"Z":case"ZZ":return en;case"T":return tn;case"SSSS":return Xt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?sn:Gt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Gt;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(it(nt(e.replace("\\","")),"i"))}}function K(e){e=e||"";var t=e.match(en)||[],n=t[t.length-1]||[],i=(n+"").match(mn)||["-",0,0],r=+(60*i[1])+A(i[2]);return"+"===i[0]?r:-r}function J(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[$t]=3*(A(t)-1));break;case"M":case"MM":null!=t&&(r[$t]=A(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?r[$t]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[It]=A(t));break;case"Do":null!=t&&(r[It]=A(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=A(t));break;case"YY":r[At]=Dt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[At]=A(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[Ot]=A(t);break;case"m":case"mm":r[Rt]=A(t);break;case"s":case"ss":r[Pt]=A(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Yt]=A(1e3*("0."+t));break;case"x":n._d=new Date(A(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=K(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=A(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=Dt.parseTwoDigitYear(t)}}function Q(e){var t,n,i,r,o,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=s(t.GG,e._a[At],ft(Dt(),1,4).year),i=s(t.W,1),r=s(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=s(t.gg,e._a[At],ft(Dt(),o,a).year),i=s(t.w,1),null!=t.d?(r=t.d,o>r&&++i):r=null!=t.e?t.e+o:o),l=mt(n,i,r,a,o),e._a[At]=l.year,e._dayOfYear=l.dayOfYear}function X(e){var t,n,i,r,o=[];if(!e._d){for(i=et(e),e._w&&null==e._a[It]&&null==e._a[$t]&&Q(e),e._dayOfYear&&(r=s(e._a[At],i[At]),e._dayOfYear>O(r)&&(e._pf._overflowDayOfYear=!0),n=ut(r,0,e._dayOfYear),e._a[$t]=n.getUTCMonth(),e._a[It]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ot]&&0===e._a[Rt]&&0===e._a[Pt]&&0===e._a[Yt]&&(e._nextDay=!0,e._a[Ot]=0),e._d=(e._useUTC?ut:ct).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ot]=24)}}function Z(e){var t;e._d||(t=S(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],X(e))}function et(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function tt(e){if(e._f===Dt.ISO_8601)return void ot(e);e._a=[],e._pf.empty=!0;var t,n,i,r,s,a=""+e._i,l=a.length,c=0;for(i=V(e._f,e._locale).match(qt)||[],t=0;t<i.length;t++)r=i[t],n=(a.match(G(r,e))||[])[0],n&&(s=a.substr(0,a.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),c+=n.length),kn[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),J(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-c,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Ot]<=12&&(e._pf.bigHour=o),e._a[Ot]=m(e._locale,e._a[Ot],e._meridiem),X(e),P(e)}function nt(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function it(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function rt(e){var t,n,i,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)o=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=l(),t._f=e._f[r],tt(t),Y(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==i||i>o)&&(i=o,n=t));y(e,n||t)}function ot(e){var t,n,i=e._i,r=dn.exec(i);if(r){for(e._pf.iso=!0,t=0,n=hn.length;n>t;t++)if(hn[t][1].exec(i)){e._f=hn[t][0]+(r[6]||" ");break}for(t=0,n=fn.length;n>t;t++)if(fn[t][1].exec(i)){e._f+=fn[t][0];break}i.match(en)&&(e._f+="Z"),tt(e)}else e._isValid=!1}function st(e){ot(e),e._isValid===!1&&(delete e._isValid,Dt.createFromInputFallback(e))}function at(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function lt(e){var t,n=e._i;n===o?e._d=new Date:M(n)?e._d=new Date(+n):null!==(t=Ht.exec(n))?e._d=new Date(+t[1]):"string"==typeof n?st(e):E(n)?(e._a=at(n.slice(0),function(e){return parseInt(e,10)}),X(e)):"object"==typeof n?Z(e):"number"==typeof n?e._d=new Date(n):Dt.createFromInputFallback(e)}function ct(e,t,n,i,r,o,s){var a=new Date(e,t,n,i,r,o,s);return 1970>e&&a.setFullYear(e),a}function ut(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function dt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function pt(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ht(e,t,n){var i=Dt.duration(e).abs(),r=St(i.as("s")),o=St(i.as("m")),s=St(i.as("h")),a=St(i.as("d")),l=St(i.as("M")),c=St(i.as("y")),u=r<wn.s&&["s",r]||1===o&&["m"]||o<wn.m&&["mm",o]||1===s&&["h"]||s<wn.h&&["hh",s]||1===a&&["d"]||a<wn.d&&["dd",a]||1===l&&["M"]||l<wn.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,pt.apply({},u)}function ft(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=Dt(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function mt(e,t,n,i,r){var o,s,a=ut(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,o=r-a+(a>i?7:0)-(r>a?7:0),s=7*(t-1)+(n-r)+o+1,{year:s>0?e:e-1,dayOfYear:s>0?s:O(e-1)+s}}function gt(e){var t,n=e._i,i=e._f;return e._locale=e._locale||Dt.localeData(e._l),null===n||i===o&&""===n?Dt.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),Dt.isMoment(n)?new v(n,!0):(i?E(i)?rt(e):tt(e):lt(e),t=new v(e),t._nextDay&&(t.add(1,"d"),t._nextDay=o),t))}function vt(e,t){var n,i;if(1===t.length&&E(t[0])&&(t=t[0]),!t.length)return Dt();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function bt(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function yt(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function wt(e,t,n){return"Month"===t?bt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function _t(e,t){return function(n){return null!=n?(wt(this,e,n),Dt.updateOffset(this,t),this):yt(this,e)}}function xt(e){return 400*e/146097}function kt(e){return 146097*e/400}function Tt(e){Dt.duration.fn[e]=function(){return this._data[e]}}function Ct(e){"undefined"==typeof ender&&(Et=jt.moment,jt.moment=e?u("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Dt):Dt)}for(var Dt,Et,Mt,Lt="2.9.0",jt="undefined"==typeof e||"undefined"!=typeof window&&window!==e.window?this:e,St=Math.round,Nt=Object.prototype.hasOwnProperty,At=0,$t=1,It=2,Ot=3,Rt=4,Pt=5,Yt=6,zt={},Ft=[],Ut="undefined"!=typeof r&&r&&r.exports,Ht=/^\/?Date\((\-?\d+)/i,Bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Wt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,qt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Vt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gt=/\d\d?/,Kt=/\d{1,3}/,Jt=/\d{1,4}/,Qt=/[+\-]?\d{1,6}/,Xt=/\d+/,Zt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,en=/Z|[\+\-]\d\d:?\d\d/gi,tn=/T/i,nn=/[\+\-]?\d+/,rn=/[\+\-]?\d+(\.\d{1,3})?/,on=/\d/,sn=/\d\d/,an=/\d{3}/,ln=/\d{4}/,cn=/[+-]?\d{6}/,un=/[+-]?\d+/,dn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pn="YYYY-MM-DDTHH:mm:ssZ",hn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mn=/([\+\-]|\d\d)/gi,gn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),vn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},bn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},yn={},wn={s:45,m:45,h:22,d:26,M:11},_n="DDD w W M D d".split(" "),xn="M D H h m s w W".split(" "),kn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return x(this.year()%100,2)},YYYY:function(){return x(this.year(),4)},YYYYY:function(){return x(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+x(Math.abs(e),6)},gg:function(){return x(this.weekYear()%100,2)},gggg:function(){return x(this.weekYear(),4)},ggggg:function(){return x(this.weekYear(),5)},GG:function(){return x(this.isoWeekYear()%100,2)},GGGG:function(){return x(this.isoWeekYear(),4)},GGGGG:function(){return x(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return x(A(this.milliseconds()/10),2)},SSS:function(){return x(this.milliseconds(),3)},SSSS:function(){return x(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+x(A(e/60),2)+":"+x(A(e)%60,2)},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+x(A(e/60),2)+x(A(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Tn={},Cn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],Dn=!1;_n.length;)Mt=_n.pop(),kn[Mt+"o"]=h(kn[Mt],Mt);for(;xn.length;)Mt=xn.pop(),kn[Mt+Mt]=p(kn[Mt],2);kn.DDDD=p(kn.DDD,3),y(g.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=Dt.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Dt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ft(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Dt=function(e,t,n,i){var r;return"boolean"==typeof n&&(i=n,n=o),r={},r._isAMomentObject=!0,r._i=e,r._f=t,r._l=n,r._strict=i,r._isUTC=!1,r._pf=l(),gt(r)},Dt.suppressDeprecationWarnings=!1,Dt.createFromInputFallback=u("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Dt.min=function(){var e=[].slice.call(arguments,0);return vt("isBefore",e)},Dt.max=function(){var e=[].slice.call(arguments,0);return vt("isAfter",e)},Dt.utc=function(e,t,n,i){var r;return"boolean"==typeof n&&(i=n,n=o),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=n,r._i=e,r._f=t,r._strict=i,r._pf=l(),gt(r).utc()},Dt.unix=function(e){return Dt(1e3*e)},Dt.duration=function(e,t){var n,i,r,o,s=e,l=null;return Dt.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=Bt.exec(e))?(n="-"===l[1]?-1:1,s={y:0,d:A(l[It])*n,h:A(l[Ot])*n,m:A(l[Rt])*n,s:A(l[Pt])*n,ms:A(l[Yt])*n}):(l=Wt.exec(e))?(n="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},s={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=T(Dt(s.from),Dt(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new b(s),Dt.isDuration(e)&&a(e,"_locale")&&(i._locale=e._locale),i},Dt.version=Lt,Dt.defaultFormat=pn,Dt.ISO_8601=function(){},Dt.momentProperties=Ft,Dt.updateOffset=function(){},Dt.relativeTimeThreshold=function(e,t){return wn[e]===o?!1:t===o?wn[e]:(wn[e]=t,!0)},Dt.lang=u("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return Dt.locale(e,t)}),Dt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?Dt.defineLocale(e,t):Dt.localeData(e),n&&(Dt.duration._locale=Dt._locale=n)),Dt._locale._abbr},Dt.defineLocale=function(e,t){return null!==t?(t.abbr=e,zt[e]||(zt[e]=new g),zt[e].set(t),Dt.locale(e),zt[e]):(delete zt[e],null)},Dt.langData=u("moment.langData is deprecated. Use moment.localeData instead.",function(e){return Dt.localeData(e)}),Dt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Dt._locale;if(!E(e)){if(t=U(e))return t;e=[e]}return F(e)},Dt.isMoment=function(e){return e instanceof v||null!=e&&a(e,"_isAMomentObject")},Dt.isDuration=function(e){return e instanceof b};for(Mt=Cn.length-1;Mt>=0;--Mt)N(Cn[Mt]);Dt.normalizeUnits=function(e){return j(e)},Dt.invalid=function(e){var t=Dt.utc(0/0);return null!=e?y(t._pf,e):t._pf.userInvalidated=!0,t},Dt.parseZone=function(){return Dt.apply(null,arguments).parseZone()},Dt.parseTwoDigitYear=function(e){return A(e)+(A(e)>68?1900:2e3)},Dt.isDate=M,y(Dt.fn=v.prototype,{clone:function(){return Dt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=Dt(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return Y(this)},isDSTShifted:function(){return this._a?this.isValid()&&L(this._a,(this._isUTC?Dt.utc(this._a):Dt(this._a)).toArray())>0:!1},parsingFlags:function(){return y({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=q(this,e||Dt.defaultFormat);return this.localeData().postformat(t)},add:C(1,"add"),subtract:C(-1,"subtract"),diff:function(e,t,n){var i,r,o=H(e,this),s=6e4*(o.utcOffset()-this.utcOffset());return t=j(t),"year"===t||"month"===t||"quarter"===t?(r=f(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?r:_(r)},from:function(e,t){return Dt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(Dt(),e)},calendar:function(e){var t=e||Dt(),n=H(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,Dt(t)))},isLeapYear:function(){return R(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=dt(e,this.localeData()),this.add(e-t,"d")):t},month:_t("Month",!0),startOf:function(e){switch(e=j(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=j(e),e===o||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){var n;return t=j("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Dt.isMoment(e)?e:Dt(e),+this>+e):(n=Dt.isMoment(e)?+e:+Dt(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=j("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=Dt.isMoment(e)?e:Dt(e),+e>+this):(n=Dt.isMoment(e)?+e:+Dt(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=j(t||"millisecond"),"millisecond"===t?(e=Dt.isMoment(e)?e:Dt(e),+this===+e):(n=+Dt(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:u("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=Dt.apply(null,arguments),this>e?this:e}),max:u("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=Dt.apply(null,arguments),e>this?this:e}),zone:u("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=K(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?D(this,Dt.duration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Dt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(K(this._i)),this},hasAlignedHourOffset:function(e){return e=e?Dt(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return $(this.year(),this.month())},dayOfYear:function(e){var t=St((Dt(this).startOf("day")-Dt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ft(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ft(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ft(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return I(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return I(this.year(),e.dow,e.doy)},get:function(e){return e=j(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=j(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(e){var t;return e===o?this._locale._abbr:(t=Dt.localeData(e),null!=t&&(this._locale=t),this)},lang:u("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===o?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Dt.fn.millisecond=Dt.fn.milliseconds=_t("Milliseconds",!1),Dt.fn.second=Dt.fn.seconds=_t("Seconds",!1),Dt.fn.minute=Dt.fn.minutes=_t("Minutes",!1),Dt.fn.hour=Dt.fn.hours=_t("Hours",!0),Dt.fn.date=_t("Date",!0),Dt.fn.dates=u("dates accessor is deprecated. Use date instead.",_t("Date",!0)),Dt.fn.year=_t("FullYear",!0),Dt.fn.years=u("years accessor is deprecated. Use year instead.",_t("FullYear",!0)),Dt.fn.days=Dt.fn.day,Dt.fn.months=Dt.fn.month,Dt.fn.weeks=Dt.fn.week,Dt.fn.isoWeeks=Dt.fn.isoWeek,Dt.fn.quarters=Dt.fn.quarter,Dt.fn.toJSON=Dt.fn.toISOString,Dt.fn.isUTC=Dt.fn.isUtc,y(Dt.duration.fn=b.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,s=this._data,a=0;s.milliseconds=i%1e3,e=_(i/1e3),s.seconds=e%60,t=_(e/60),s.minutes=t%60,n=_(t/60),s.hours=n%24,r+=_(n/24),a=_(xt(r)),r-=_(kt(a)),o+=_(r/30),r%=30,a+=_(o/12),o%=12,s.days=r,s.months=o,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return _(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(e){var t=ht(this,!e,this.localeData());
return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=Dt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=Dt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=j(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=j(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*xt(t),"month"===e?n:n/12;switch(t=this._days+Math.round(kt(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:Dt.fn.lang,locale:Dt.fn.locale,toIsoString:u("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Dt.duration.fn.toString=Dt.duration.fn.toISOString;for(Mt in gn)a(gn,Mt)&&Tt(Mt.toLowerCase());Dt.duration.fn.asMilliseconds=function(){return this.as("ms")},Dt.duration.fn.asSeconds=function(){return this.as("s")},Dt.duration.fn.asMinutes=function(){return this.as("m")},Dt.duration.fn.asHours=function(){return this.as("h")},Dt.duration.fn.asDays=function(){return this.as("d")},Dt.duration.fn.asWeeks=function(){return this.as("weeks")},Dt.duration.fn.asMonths=function(){return this.as("M")},Dt.duration.fn.asYears=function(){return this.as("y")},Dt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===A(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ut?r.exports=Dt:(i=function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(jt.moment=Et),Dt}.call(t,n,t,r),!(i!==o&&(r.exports=i)),Ct(!0))}).call(this)}).call(t,function(){return this}(),n(547)(e))},function(e){"use strict";var t=function(e,t,n,i,r,o,s,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};e.exports=t},function(e,t,n){t.ListenerMethods=n(292),t.PublisherMethods=n(534),t.createAction=n(536),t.createStore=n(293),t.connect=n(535),t.ListenerMixin=n(533),t.listenTo=n(537),t.listenToMany=n(538);var i=n(294).staticJoinCreator;t.joinTrailing=t.all=i("last"),t.joinLeading=i("first"),t.joinStrict=i("strict"),t.joinConcat=i("all"),t.createActions=function(e){for(var n=0,i={};n<e.length;n++)i[e[n]]=t.createAction();return i},t.setEventEmitter=function(e){var t=n(28);t.EventEmitter=e},t.nextTick=function(e){var t=n(28);t.nextTick=e},t.__keep=n(126)},function(e,t,n){e.exports={assign:Object.assign,clone:n(416),cloneDeep:n(417),forOwn:n(17),isArray:n(33),isBoolean:n(419),isFunction:n(48),isString:n(105),isEmpty:n(420),isEqual:n(421),pick:n(164),omit:n(163),values:n(422),find:n(395),filter:n(394),contains:n(392),map:n(100),reduce:n(149),forEach:n(99),every:n(393),groupBy:n(396),findIndex:n(386),compact:n(385),flatten:n(387),without:n(389),zipObject:n(391),zip:n(390),last:n(147),remove:n(148),range:n(388),partial:n(402),once:n(401),debounce:n(400),escape:n(424),noop:function(){}}},function(e,t){var n,i;/*!
	 * jQuery JavaScript Library v2.1.3
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-12-18T15:11Z
	 */
!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(r,o){function s(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(dt.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return J.call(t,e)>=0!==n})}function l(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var t=bt[e]={};return it.each(e.match(vt)||[],function(e,n){t[n]=!0}),t}function u(){tt.removeEventListener("DOMContentLoaded",u,!1),r.removeEventListener("load",u,!1),it.ready()}function d(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=it.expando+d.uid++}function p(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Tt,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?it.parseJSON(n):n}catch(r){}xt.set(e,t,n)}else n=void 0;return n}function h(){return!0}function f(){return!1}function m(){try{return tt.activeElement}catch(e){}}function g(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=zt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n=0,i=e.length;i>n;n++)_t.set(e[n],"globalEval",!t||_t.get(t[n],"globalEval"))}function w(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(_t.hasData(e)&&(o=_t.access(e),s=_t.set(t,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)it.event.add(t,r,c[r][n])}xt.hasData(e)&&(a=xt.access(e),l=it.extend({},a),xt.set(t,l))}}function _(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&it.nodeName(e,t)?it.merge([e],n):n}function x(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Mt.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function k(e,t){var n,i=it(t.createElement(e)).appendTo(t.body),o=r.getDefaultComputedStyle&&(n=r.getDefaultComputedStyle(i[0]))?n.display:it.css(i[0],"display");return i.detach(),o}function T(e){var t=tt,n=Bt[e];return n||(n=k(e,t),"none"!==n&&n||(Ht=(Ht||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Ht[0].contentDocument,t.write(),t.close(),n=k(e,t),Ht.detach()),Bt[e]=n),n}function C(e,t,n){var i,r,o,s,a=e.style;return n=n||Vt(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||it.contains(e.ownerDocument,e)||(s=it.style(e,t)),qt.test(s)&&Wt.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function D(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Zt.length;r--;)if(t=Zt[r]+n,t in e)return t;return i}function M(e,t,n){var i=Kt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function L(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=it.css(e,n+Dt[o],!0,r)),i?("content"===n&&(s-=it.css(e,"padding"+Dt[o],!0,r)),"margin"!==n&&(s-=it.css(e,"border"+Dt[o]+"Width",!0,r))):(s+=it.css(e,"padding"+Dt[o],!0,r),"padding"!==n&&(s+=it.css(e,"border"+Dt[o]+"Width",!0,r)));return s}function j(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Vt(e),s="border-box"===it.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=C(e,t,o),(0>r||null==r)&&(r=e.style[t]),qt.test(r))return r;i=s&&(et.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,n||(s?"border":"content"),i,o)+"px"}function S(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=_t.get(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Et(i)&&(o[s]=_t.access(i,"olddisplay",T(i.nodeName)))):(r=Et(i),"none"===n&&r||_t.set(i,"olddisplay",r?n:it.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function N(e,t,n,i,r){return new N.prototype.init(e,t,n,i,r)}function A(){return setTimeout(function(){en=void 0}),en=it.now()}function $(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Dt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function I(e,t,n){for(var i,r=(an[t]||[]).concat(an["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function O(e,t,n){var i,r,o,s,a,l,c,u,d=this,p={},h=e.style,f=e.nodeType&&Et(e),m=_t.get(e,"fxshow");n.queue||(a=it._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,it.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=it.css(e,"display"),u="none"===c?_t.get(e,"olddisplay")||T(e.nodeName):c,"inline"===u&&"none"===it.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],nn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||it.style(e,i)}else c=void 0;if(it.isEmptyObject(p))"inline"===("none"===c?T(e.nodeName):c)&&(h.display=c);else{m?"hidden"in m&&(f=m.hidden):m=_t.access(e,"fxshow",{}),o&&(m.hidden=!f),f?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;_t.remove(e,"fxshow");for(t in p)it.style(e,t,p[t])});for(i in p)s=I(f?m[i]:0,i,d),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,r,o,s;for(n in e)if(i=it.camelCase(n),r=t[i],o=e[n],it.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=it.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,o=0,s=sn.length,a=it.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=en||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:en||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=it.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);s>o;o++)if(i=sn[o].call(c,e,u,c.opts))return i;return it.map(u,I,c),it.isFunction(c.opts.start)&&c.opts.start.call(e,c),it.fx.timer(it.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Y(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(vt)||[];if(it.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function z(e,t,n,i){function r(a){var l;return o[a]=!0,it.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===Tn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function F(e,t){var n,i,r=it.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&it.extend(!0,e,i),e}function U(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function B(e,t,n,i){var r;if(it.isArray(t))it.each(t,function(t,r){n||Ln.test(e)?i(e,r):B(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==it.type(t))i(e,t);else for(r in t)B(e+"["+r+"]",t[r],n,i)}function W(e){return it.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],V=q.slice,G=q.concat,K=q.push,J=q.indexOf,Q={},X=Q.toString,Z=Q.hasOwnProperty,et={},tt=r.document,nt="2.1.3",it=function(e,t){return new it.fn.init(e,t)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,at=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:nt,constructor:it,selector:"",length:0,toArray:function(){return V.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:V.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:q.sort,splice:q.splice},it.extend=it.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||it.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],i=e[t],s!==i&&(c&&i&&(it.isPlainObject(i)||(r=it.isArray(i)))?(r?(r=!1,o=n&&it.isArray(n)?n:[]):o=n&&it.isPlainObject(n)?n:{},s[t]=it.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},it.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==it.type(e)||e.nodeType||it.isWindow(e)?!1:e.constructor&&!Z.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Q[X.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=it.trim(e),e&&(1===e.indexOf("use strict")?(t=tt.createElement("script"),t.text=e,tt.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(ot,"ms-").replace(st,at)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,r=0,o=e.length,a=s(e);if(n){if(a)for(;o>r&&(i=t.apply(e[r],n),i!==!1);r++);else for(r in e)if(i=t.apply(e[r],n),i===!1)break}else if(a)for(;o>r&&(i=t.call(e[r],r,e[r]),i!==!1);r++);else for(r in e)if(i=t.call(e[r],r,e[r]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(rt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?it.merge(n,"string"==typeof e?[e]:e):K.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:J.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,n){var i,r=0,o=e.length,a=s(e),l=[];if(a)for(;o>r;r++)i=t(e[r],r,n),null!=i&&l.push(i);else for(r in e)i=t(e[r],r,n),null!=i&&l.push(i);return G.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),it.isFunction(e)?(i=V.call(arguments,2),r=function(){return e.apply(t||this,i.concat(V.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:Date.now,support:et}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()});var lt=/*!
	 * Sizzle CSS Selector Engine v2.2.0-pre
	 * http://sizzlejs.com/
	 *
	 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-12-16
	 */
function(e){function t(e,t,n,i){var r,o,s,a,l,c,d,h,f,m;if((t?t.ownerDocument||t:z)!==N&&S(t),t=t||N,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&$){if(11!==a&&(r=bt.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&P(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return X.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&_.getElementsByClassName)return X.apply(n,t.getElementsByClassName(s)),n}if(_.qsa&&(!I||!I.test(e))){if(h=d=Y,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=C(e),(d=t.getAttribute("id"))?h=d.replace(wt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=yt.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return X.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return E(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[Y]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=U++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c=[F,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[Y]||(t[Y]={}),(a=l[i])&&a[0]===F&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[Y]&&(r=v(r)),o&&!o[Y]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,d,p=[],h=[],f=s.length,v=i||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!i&&t?v:g(v,p,e,a,l),y=n?o||(i?e:f||r)?[]:s:b;if(n&&n(b,y,a,l),r)for(c=g(y,h),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(y[h[u]]=!(b[h[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?et(i,d):p[u])>-1&&(i[c]=!(s[c]=d))}}else y=g(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):X.apply(s,y)})}function b(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],s=o||x.relative[" "],a=o?1:0,l=h(function(e){return e===t},s,!0),c=h(function(e){return et(t,e)>-1},s,!0),u=[function(e,n,i){var r=!o&&(i||n!==M)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>a;a++)if(n=x.relative[e[a].type])u=[h(f(u),n)];else{if(n=x.filter[e[a].type].apply(null,e[a].matches),n[Y]){for(i=++a;r>i&&!x.relative[e[i].type];i++);return v(a>1&&f(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&b(e.slice(a,i)),r>i&&b(e=e.slice(i)),r>i&&p(e))}u.push(n)}return f(u)}function y(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,d,p,h=0,f="0",m=i&&[],v=[],b=M,y=i||o&&x.find.TAG("*",c),w=F+=null==b?1:Math.random()||.1,_=y.length;for(c&&(M=s!==N&&s);f!==_&&null!=(u=y[f]);f++){if(o&&u){for(d=0;p=e[d++];)if(p(u,s,a)){l.push(u);break}c&&(F=w)}r&&((u=!p&&u)&&h--,i&&m.push(u))}if(h+=f,r&&f!==h){for(d=0;p=n[d++];)p(m,v,s,a);if(i){if(h>0)for(;f--;)m[f]||v[f]||(v[f]=J.call(l));v=g(v)}X.apply(l,v),c&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return c&&(F=w,M=b),m};return r?i(s):s}var w,_,x,k,T,C,D,E,M,L,j,S,N,A,$,I,O,R,P,Y="sizzle"+1*new Date,z=e.document,F=0,U=0,H=n(),B=n(),W=n(),q=function(e,t){return e===t&&(j=!0),0},V=1<<31,G={}.hasOwnProperty,K=[],J=K.pop,Q=K.push,X=K.push,Z=K.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),pt=new RegExp(st),ht=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},kt=function(){S()};try{X.apply(K=Z.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(Tt){X={apply:K.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}_=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,A=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),$=!T(i),_.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=vt.test(i.getElementsByClassName),_.getById=r(function(e){return A.appendChild(e).id=Y,!i.getElementsByName||!i.getElementsByName(Y).length}),_.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&$){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=_.getElementsByClassName&&function(e,t){return $?t.getElementsByClassName(e):void 0},O=[],I=[],(_.qsa=vt.test(i.querySelectorAll))&&(r(function(e){A.appendChild(e).innerHTML="<a id='"+Y+"'></a><select id='"+Y+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+Y+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+Y+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(_.matchesSelector=vt.test(R=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(e){_.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),O.push("!=",st)}),I=I.length&&new RegExp(I.join("|")),O=O.length&&new RegExp(O.join("|")),t=vt.test(A.compareDocumentPosition),P=t||vt.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===z&&P(z,e)?-1:t===i||t.ownerDocument===z&&P(z,t)?1:L?et(L,e)-et(L,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:L?et(L,e)-et(L,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===z?-1:c[r]===z?1:0},i):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&S(e),n=n.replace(dt,"='$1']"),!(!_.matchesSelector||!$||O&&O.test(n)||I&&I.test(n)))try{var i=R.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&S(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&S(e);var n=x.attrHandle[t.toLowerCase()],i=n&&G.call(x.attrHandle,t.toLowerCase())?n(e,t,!$):void 0;return void 0!==i?i:_.attributes||!$?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(j=!_.detectDuplicates,L=!_.sortStable&&e.slice(0),e.sort(q),j){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return L=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,xt),e[3]=(e[3]||e[4]||e[5]||"").replace(_t,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pt.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&b){for(u=g[Y]||(g[Y]={}),c=u[e]||[],h=c[0]===F&&c[1],p=c[0]===F&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[F,h,p];break}}else if(b&&(c=(t[Y]||(t[Y]={}))[e])&&c[0]===F)p=c[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(b&&((d[Y]||(d[Y]={}))[e]=[F,p]),d!==t)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[Y]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=et(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(lt,"$1"));return r[Y]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(_t,xt),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_t,xt).toLowerCase(),function(t){var n;do if(n=$?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,C=t.tokenize=function(e,n){var i,r,o,s,a,l,c,u=B[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=x.preFilter;a;){(!i||(r=ct.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in x.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):B(e,l).slice(0)},D=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)o=b(t[n]),o[Y]?i.push(o):r.push(o);o=W(e,y(r,i)),o.selector=e}return o},E=t.select=function(e,t,n,i){var r,o,s,a,l,c="function"==typeof e&&e,d=!i&&C(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===t.nodeType&&$&&x.relative[o[1].type]){if(t=(x.find.ID(s.matches[0].replace(_t,xt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ft.needsContext.test(e)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(_t,xt),yt.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return X.apply(n,i),n;break}}return(c||D(e,d))(i,t,!$,n,yt.test(e)&&u(t.parentNode)||t),n},_.sortStable=Y.split("").sort(q).join("")===Y,_.detectDuplicates=!!j,S(),_.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(r);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=it.expr.match.needsContext,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?it.find.matchesSelector(i,e)?[i]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;n>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;n>t;t++)it.find(e,r[t],i);return i=this.pushStack(n>1?it.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&ct.test(e)?it(e):e||[],!1).length}});var pt,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=it.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ht.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:tt,!0)),ut.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=tt.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=tt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};ft.prototype=it.fn,pt=it(tt);var mt=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&it(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t=it(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(it.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=ct.test(e)||"string"!=typeof e?it(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(e){return e?"string"==typeof e?J.call(it(e),this[0]):J.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return e.contentDocument||it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,i){var r=it.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=it.filter(i,r)),this.length>1&&(gt[e]||it.unique(r),mt.test(e)&&r.reverse()),this.pushStack(r)}});var vt=/\S+/g,bt={};it.Callbacks=function(e){e="string"==typeof e?bt[e]||c(e):it.extend({},e);var t,n,i,r,o,s,a=[],l=!e.once&&[],u=function(c){for(t=e.memory&&c,n=!0,s=r||0,r=0,o=a.length,i=!0;a&&o>s;s++)if(a[s].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(l?l.length&&u(l.shift()):t?a=[]:d.disable())},d={add:function(){if(a){var n=a.length;!function s(t){it.each(t,function(t,n){var i=it.type(n);"function"===i?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=a.length:t&&(r=n,u(t))}return this},remove:function(){return a&&it.each(arguments,function(e,t){for(var n;(n=it.inArray(t,a,n))>-1;)a.splice(n,1),i&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?it.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=l=t=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,t||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!a||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],i?l.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,o){var s=it.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,i):i}},r={};return i.pipe=i.then,it.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=V.call(arguments),s=o.length,a=1!==s||e&&it.isFunction(e.promise)?s:0,l=1===a?e:it.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?V.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&it.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var yt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){(e===!0?--it.readyWait:it.isReady)||(it.isReady=!0,e!==!0&&--it.readyWait>0||(yt.resolveWith(tt,[it]),it.fn.triggerHandler&&(it(tt).triggerHandler("ready"),it(tt).off("ready"))))}}),it.ready.promise=function(e){return yt||(yt=it.Deferred(),"complete"===tt.readyState?setTimeout(it.ready):(tt.addEventListener("DOMContentLoaded",u,!1),r.addEventListener("load",u,!1))),yt.promise(e)},it.ready.promise();var wt=it.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===it.type(n)){r=!0;for(a in n)it.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,it.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(it(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o};it.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},d.uid=1,d.accepts=it.acceptData,d.prototype={key:function(e){if(!d.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=d.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,it.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(it.isEmptyObject(o))it.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,it.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{it.isArray(t)?i=t.concat(t.map(it.camelCase)):(r=it.camelCase(t),t in s?i=[t,r]:(i=r,i=i in s?[i]:i.match(vt)||[])),n=i.length;for(;n--;)delete s[i[n]]}},hasData:function(e){return!it.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var _t=new d,xt=new d,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Tt=/([A-Z])/g;it.extend({hasData:function(e){return xt.hasData(e)||_t.hasData(e)},data:function(e,t,n){return xt.access(e,t,n)},removeData:function(e,t){xt.remove(e,t)},_data:function(e,t,n){return _t.access(e,t,n)},_removeData:function(e,t){_t.remove(e,t)}}),it.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=xt.get(o),1===o.nodeType&&!_t.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=it.camelCase(i.slice(5)),p(o,i,r[i])));_t.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){xt.set(this,e)}):wt(this,function(t){var n,i=it.camelCase(e);if(o&&void 0===t){if(n=xt.get(o,e),void 0!==n)return n;if(n=xt.get(o,i),void 0!==n)return n;if(n=p(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=xt.get(this,i);xt.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&xt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){xt.remove(this,e)})}}),it.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=_t.get(e,t),n&&(!i||it.isArray(n)?i=_t.access(e,t,it.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),i=n.length,r=n.shift(),o=it._queueHooks(e,t),s=function(){it.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _t.get(e,n)||_t.access(e,n,{empty:it.Callbacks("once memory").add(function(){_t.remove(e,[t+"queue",n])})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=it.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=_t.get(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=["Top","Right","Bottom","Left"],Et=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Mt=/^(?:checkbox|radio)$/i;!function(){var e=tt.createDocumentFragment(),t=e.appendChild(tt.createElement("div")),n=tt.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),et.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",et.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Lt="undefined";et.focusinBubbles="onfocusin"in r;var jt=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,p,h,f,m,g=_t.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=it.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return typeof it!==Lt&&it.event.triggered!==t.type?it.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(vt)||[""],c=t.length;c--;)a=At.exec(t[c])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h&&(d=it.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=it.event.special[h]||{},u=it.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&it.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[h])||(p=l[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,f,s)!==!1||e.addEventListener&&e.addEventListener(h,s,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),it.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,p,h,f,m,g=_t.hasData(e)&&_t.get(e);if(g&&(l=g.events)){for(t=(t||"").match(vt)||[""],c=t.length;c--;)if(a=At.exec(t[c])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(d=it.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=l[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));s&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||it.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)it.event.remove(e,h+t[c],n,i,!0);it.isEmptyObject(l)&&(delete g.handle,_t.remove(e,"events"))}},trigger:function(e,t,n,i){var o,s,a,l,c,u,d,p=[n||tt],h=Z.call(e,"type")?e.type:e,f=Z.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||tt,3!==n.nodeType&&8!==n.nodeType&&!Nt.test(h+it.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),c=h.indexOf(":")<0&&"on"+h,e=e[it.expando]?e:new it.Event(h,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:it.makeArray(t,[e]),d=it.event.special[h]||{},i||!d.trigger||d.trigger.apply(n,t)!==!1)){if(!i&&!d.noBubble&&!it.isWindow(n)){for(l=d.delegateType||h,Nt.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;
a===(n.ownerDocument||tt)&&p.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||h,u=(_t.get(s,"events")||{})[e.type]&&_t.get(s,"handle"),u&&u.apply(s,t),u=c&&s[c],u&&u.apply&&it.acceptData(s)&&(e.result=u.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),t)!==!1||!it.acceptData(n)||c&&it.isFunction(n[h])&&!it.isWindow(n)&&(a=n[c],a&&(n[c]=null),it.event.triggered=h,n[h](),it.event.triggered=void 0,a&&(n[c]=a)),e.result}},dispatch:function(e){e=it.event.fix(e);var t,n,i,r,o,s=[],a=V.call(arguments),l=(_t.get(this,"events")||{})[e.type]||[],c=it.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=it.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((it.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;a>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?it(r,this).index(l)>=0:it.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||tt,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[it.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=St.test(r)?this.mouseHooks:jt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new it.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=tt),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&it.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?it.event.trigger(r,null,t):it.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!it.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),et.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=_t.access(i,t);r||i.addEventListener(e,n,!0),_t.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=_t.access(i,t)-1;r?_t.access(i,t,r):(i.removeEventListener(e,n,!0),_t.remove(i,t))}}}),it.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===r&&(o=i,i=function(e){return it().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=it.guid++)),this.each(function(){it.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,it(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var $t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,Ot=/<|&#?\w+;/,Rt=/<(?:script|style|link)/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/^$|\/(?:java|ecma)script/i,zt=/^true\/(.*)/,Ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ut={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ut.optgroup=Ut.option,Ut.tbody=Ut.tfoot=Ut.colgroup=Ut.caption=Ut.thead,Ut.th=Ut.td,it.extend({clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=it.contains(e.ownerDocument,e);if(!(et.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(s=_(a),o=_(e),i=0,r=o.length;r>i;i++)x(o[i],s[i]);if(t)if(n)for(o=o||_(e),s=s||_(a),i=0,r=o.length;r>i;i++)w(o[i],s[i]);else w(e,a);return s=_(a,"script"),s.length>0&&y(s,!l&&_(e,"script")),a},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u=t.createDocumentFragment(),d=[],p=0,h=e.length;h>p;p++)if(r=e[p],r||0===r)if("object"===it.type(r))it.merge(d,r.nodeType?[r]:r);else if(Ot.test(r)){for(o=o||u.appendChild(t.createElement("div")),s=(It.exec(r)||["",""])[1].toLowerCase(),a=Ut[s]||Ut._default,o.innerHTML=a[1]+r.replace($t,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;it.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if((!i||-1===it.inArray(r,i))&&(l=it.contains(r.ownerDocument,r),o=_(u.appendChild(r),"script"),l&&y(o),n))for(c=0;r=o[c++];)Yt.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=it.event.special,s=0;void 0!==(n=e[s]);s++){if(it.acceptData(n)&&(r=n[_t.expando],r&&(t=_t.cache[r]))){if(t.events)for(i in t.events)o[i]?it.event.remove(n,i):it.removeEvent(n,i,t.handle);_t.cache[r]&&delete _t.cache[r]}delete xt.cache[n[xt.expando]]}}}),it.fn.extend({text:function(e){return wt(this,function(e){return void 0===e?it.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?it.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||it.cleanData(_(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&y(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(it.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return wt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Rt.test(e)&&!Ut[(It.exec(e)||["",""])[1].toLowerCase()]){e=e.replace($t,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(_(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,i,r,o,s,a,l=0,c=this.length,u=this,d=c-1,p=e[0],h=it.isFunction(p);if(h||c>1&&"string"==typeof p&&!et.checkClone&&Pt.test(p))return this.each(function(n){var i=u.eq(n);h&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=it.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=it.map(_(n,"script"),v),o=r.length;c>l;l++)s=n,l!==d&&(s=it.clone(s,!0,!0),o&&it.merge(r,_(s,"script"))),t.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,it.map(r,b),l=0;o>l;l++)s=r[l],Yt.test(s.type||"")&&!_t.access(s,"globalEval")&&it.contains(a,s)&&(s.src?it._evalUrl&&it._evalUrl(s.src):it.globalEval(s.textContent.replace(Ft,"")))}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,i=[],r=it(e),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),it(r[s])[t](n),K.apply(i,n.get());return this.pushStack(i)}});var Ht,Bt={},Wt=/^margin/,qt=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),Vt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):r.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=r.getComputedStyle(s,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(o)}var t,n,i=tt.documentElement,o=tt.createElement("div"),s=tt.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",et.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),r.getComputedStyle&&it.extend(et,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=s.appendChild(tt.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(r.getComputedStyle(t,null).marginRight),i.removeChild(o),s.removeChild(t),e}}))}(),it.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var Gt=/^(none|table(?!-c[ea]).+)/,Kt=new RegExp("^("+Ct+")(.*)$","i"),Jt=new RegExp("^([+-])=("+Ct+")","i"),Qt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=C(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=it.camelCase(t),l=e.style;return t=it.cssProps[a]||(it.cssProps[a]=E(l,a)),s=it.cssHooks[t]||it.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Jt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(it.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[a]||(n+="px"),et.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l[t]=n)),void 0)}},css:function(e,t,n,i){var r,o,s,a=it.camelCase(t);return t=it.cssProps[a]||(it.cssProps[a]=E(e.style,a)),s=it.cssHooks[t]||it.cssHooks[a],s&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=C(e,t,i)),"normal"===r&&t in Xt&&(r=Xt[t]),""===n||n?(o=parseFloat(r),n===!0||it.isNumeric(o)?o||0:r):r}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,i){return n?Gt.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,Qt,function(){return j(e,t,i)}):j(e,t,i):void 0},set:function(e,n,i){var r=i&&Vt(e);return M(e,n,i?L(e,t,i,"border-box"===it.css(e,"boxSizing",!1,r),r):0)}}}),it.cssHooks.marginRight=D(et.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},C,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Dt[i]+t]=o[i]||o[i-2]||o[0];return r}},Wt.test(e)||(it.cssHooks[e+t].set=M)}),it.fn.extend({css:function(e,t){return wt(this,function(e,t,n){var i,r,o={},s=0;if(it.isArray(t)){for(i=Vt(e),r=t.length;r>s;s++)o[t[s]]=it.css(e,t[s],!1,i);return o}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Et(this)?it(this).show():it(this).hide()})}}),it.Tween=N,N.prototype={constructor:N,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,n=N.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=N.prototype.init,it.fx.step={};var en,tn,nn=/^(?:toggle|show|hide)$/,rn=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),on=/queueHooks$/,sn=[O],an={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=rn.exec(t),o=r&&r[3]||(it.cssNumber[e]?"":"px"),s=(it.cssNumber[e]||"px"!==o&&+i)&&rn.exec(it.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,it.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};it.Animation=it.extend(P,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],an[n]=an[n]||[],an[n].unshift(t)},prefilter:function(e,t){t?sn.unshift(e):sn.push(e)}}),it.speed=function(e,t,n){var i=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return i.duration=it.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in it.fx.speeds?it.fx.speeds[i.duration]:it.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){it.isFunction(i.old)&&i.old.call(this),i.queue&&it.dequeue(this,i.queue)},i},it.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Et).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=it.isEmptyObject(e),o=it.speed(t,n,i),s=function(){var t=P(this,it.extend({},e),o);(r||_t.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=it.timers,s=_t.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&on.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=_t.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=it.timers,s=i?i.length:0;for(n.finish=!0,it.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,i,r)}}),it.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),it.timers=[],it.fx.tick=function(){var e,t=0,n=it.timers;for(en=it.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||it.fx.stop(),en=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){tn||(tn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(tn),tn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=tt.createElement("input"),t=tt.createElement("select"),n=t.appendChild(tt.createElement("option"));e.type="checkbox",et.checkOn=""!==e.value,et.optSelected=n.selected,t.disabled=!0,et.optDisabled=!n.disabled,e=tt.createElement("input"),e.value="t",e.type="radio",et.radioValue="t"===e.value}();var ln,cn,un=it.expr.attrHandle;it.fn.extend({attr:function(e,t){return wt(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Lt?it.prop(e,t,n):(1===o&&it.isXMLDoc(e)||(t=t.toLowerCase(),i=it.attrHooks[t]||(it.expr.match.bool.test(t)?cn:ln)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=it.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(vt);if(o&&1===e.nodeType)for(;n=o[r++];)i=it.propFix[n]||n,it.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!et.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),cn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):e.setAttribute(n,n),n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=un[t]||it.find.attr;un[t]=function(e,t,i){var r,o;return i||(o=un[t],un[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,un[t]=o),r}});var dn=/^(?:input|select|textarea|button)$/i;it.fn.extend({prop:function(e,t){return wt(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[it.propFix[e]||e]})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!it.isXMLDoc(e),o&&(t=it.propFix[t]||t,r=it.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||dn.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),et.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this});var pn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,i,r,o,s,a="string"==typeof e&&e,l=0,c=this.length;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(vt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(pn," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=it.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(vt)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(pn," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?it.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=it(this),o=e.match(vt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Lt||"boolean"===n)&&(this.className&&_t.set(this,"__className__",this.className),this.className=this.className||e===!1?"":_t.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(pn," ").indexOf(t)>=0)return!0;return!1}});var hn=/\r/g;it.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=it.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,it(this).val()):e,null==r?r="":"number"==typeof r?r+="":it.isArray(r)&&(r=it.map(r,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=it.valHooks[r.type]||it.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(hn,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(et.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=it.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=it.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},et.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var fn=it.now(),mn=/\?/;it.parseJSON=function(e){return JSON.parse(e+"")},it.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&it.error("Invalid XML: "+e),t};var gn=/#.*$/,vn=/([?&])_=[^&]*/,bn=/^(.*?):[ \t]*([^\r\n]*)$/gm,yn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wn=/^(?:GET|HEAD)$/,_n=/^\/\//,xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,kn={},Tn={},Cn="*/".concat("*"),Dn=r.location.href,En=xn.exec(Dn.toLowerCase())||[];it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dn,type:"GET",isLocal:yn.test(En[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Cn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,it.ajaxSettings),t):F(it.ajaxSettings,e)},ajaxPrefilter:Y(kn),ajaxTransport:Y(Tn),ajax:function(e,t){function n(e,t,n,s){var l,u,v,b,w,x=t;2!==y&&(y=2,a&&clearTimeout(a),i=void 0,o=s||"",_.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=U(d,_,n)),b=H(d,b,_,l),l?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(it.lastModified[r]=w),w=_.getResponseHeader("etag"),w&&(it.etag[r]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=b.state,u=b.data,v=b.error,l=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",l?f.resolveWith(p,[u,x,_]):f.rejectWith(p,[_,x,v]),_.statusCode(g),g=void 0,c&&h.trigger(l?"ajaxSuccess":"ajaxError",[_,d,l?u:v]),m.fireWith(p,[_,x]),c&&(h.trigger("ajaxComplete",[_,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,c,u,d=it.ajaxSetup({},t),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?it(p):it.event,f=it.Deferred(),m=it.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!s)for(s={};t=bn.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||Dn)+"").replace(gn,"").replace(_n,En[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(vt)||[""],null==d.crossDomain&&(l=xn.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===En[1]&&l[2]===En[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(En[3]||("http:"===En[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),z(kn,d,t,_),2===y)return _;c=it.event&&d.global,c&&0===it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!wn.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(mn.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=vn.test(r)?r.replace(vn,"$1_="+fn++):r+(mn.test(r)?"&":"?")+"_="+fn++)),d.ifModified&&(it.lastModified[r]&&_.setRequestHeader("If-Modified-Since",it.lastModified[r]),it.etag[r]&&_.setRequestHeader("If-None-Match",it.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Cn+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)_.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===y))return _.abort();w="abort";for(u in{success:1,error:1,complete:1})_[u](d[u]);if(i=z(Tn,d,t,_)){_.readyState=1,c&&h.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},d.timeout));try{y=1,i.send(v,n)}catch(x){if(!(2>y))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,i,r){return it.isFunction(n)&&(r=r||i,i=n,n=void 0),it.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){var t;return it.isFunction(e)?this.each(function(t){it(this).wrapAll(e.call(this,t))}):(this[0]&&(t=it(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var Mn=/%20/g,Ln=/\[\]$/,jn=/\r?\n/g,Sn=/^(?:submit|button|image|reset|file)$/i,Nn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,i=[],r=function(e,t){t=it.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){r(this.name,this.value)});else for(n in e)B(n,e[n],t,r);return i.join("&").replace(Mn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Nn.test(this.nodeName)&&!Sn.test(e)&&(this.checked||!Mt.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(jn,"\r\n")}}):{name:t.name,value:n.replace(jn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var An=0,$n={},In={0:200,1223:204},On=it.ajaxSettings.xhr();r.attachEvent&&r.attachEvent("onunload",function(){for(var e in $n)$n[e]()}),et.cors=!!On&&"withCredentials"in On,et.ajax=On=!!On,it.ajaxTransport(function(e){var t;return et.cors||On&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),s=++An;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete $n[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(In[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=$n[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=it("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),tt.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Rn=[],Pn=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Rn.pop()||it.expando+"_"+fn++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,s,a=e.jsonp!==!1&&(Pn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=it.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Pn,"$1"+i):e.jsonp!==!1&&(e.url+=(mn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||it.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always(function(){r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Rn.push(i)),s&&it.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||tt;var i=ut.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=it.buildFragment([e],t,r),r&&r.length&&it(r).remove(),it.merge([],i.childNodes))};var Yn=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&Yn)return Yn.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=it.trim(e.slice(a)),e=e.slice(0,a)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&it.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?it("<div>").append(it.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var zn=r.document.documentElement;it.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=it.css(e,"position"),d=it(e),p={};"static"===u&&(e.style.position="relative"),a=d.offset(),o=it.css(e,"top"),l=it.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),it.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):d.css(p)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==Lt&&(r=i.getBoundingClientRect()),n=W(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===it.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(i=e.offset()),i.top+=it.css(e[0],"borderTopWidth",!0),i.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-it.css(n,"marginTop",!0),left:t.left-i.left-it.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||zn;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||zn})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;it.fn[e]=function(i){return wt(this,function(e,i,o){var s=W(e);return void 0===o?s?s[t]:e[i]:void(s?s.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=D(et.pixelPosition,function(e,n){return n?(n=C(e,t),qt.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){it.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return wt(this,function(t,n,i){var r;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?it.css(t,n,s):it.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,n=[],i=function(){return it}.apply(t,n),!(void 0!==i&&(e.exports=i));var Fn=r.jQuery,Un=r.$;return it.noConflict=function(e){return r.$===it&&(r.$=Un),e&&r.jQuery===it&&(r.jQuery=Fn),it},typeof o===Lt&&(r.jQuery=r.$=it),it})},function(e){function t(e){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var t=Object(e),n=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r){var o=Object(r);for(var s in o)n.call(o,s)&&(t[s]=o[s])}}return t}e.exports=t},function(e,t,n){t.DefaultRoute=n(247),t.Link=n(436),t.NotFoundRoute=n(248),t.Redirect=n(249),t.Route=n(250),t.RouteHandler=n(251),t.HashLocation=n(252),t.HistoryLocation=n(106),t.RefreshLocation=n(253),t.ImitateBrowserBehavior=n(246),t.ScrollToTopBehavior=n(435),t.Navigation=n(254),t.State=n(255),t.create=n(257),t.run=n(447),t.History=n(61)},function(e,t,n){"use strict";function i(e,t){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:function(){return this._store?this._store[t]:null},set:function(e){a(!1,"Don't set the "+t+" property of the component. Mutate the existing props object instead."),this._store[t]=e}})}function r(e){try{var t={props:!0};for(var n in t)i(e,n);c=!0}catch(r){}}var o=n(111),s=n(42),a=n(11),l={key:!0,ref:!0},c=!1,u=function(e,t,n,i,r,o){return this.type=e,this.key=t,this.ref=n,this._owner=i,this._context=r,this._store={validated:!1,props:o},c?void Object.freeze(this):void(this.props=o)};u.prototype={_isReactElement:!0},r(u.prototype),u.createElement=function(e,t,n){var i,r={},c=null,d=null;if(null!=t){d=void 0===t.ref?null:t.ref,a(null!==t.key,"createElement(...): Encountered component with a `key` of null. In a future version, this will be treated as equivalent to the string 'null'; instead, provide an explicit key or use undefined."),c=null==t.key?null:""+t.key;for(i in t)t.hasOwnProperty(i)&&!l.hasOwnProperty(i)&&(r[i]=t[i])}var p=arguments.length-2;if(1===p)r.children=n;else if(p>1){for(var h=Array(p),f=0;p>f;f++)h[f]=arguments[f+2];r.children=h}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)"undefined"==typeof r[i]&&(r[i]=m[i])}return new u(e,c,d,s.current,o.current,r)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceProps=function(e,t){var n=new u(e.type,e.key,e.ref,e._owner,e._context,t);return n._store.validated=e._store.validated,n},u.isValidElement=function(e){var t=!(!e||!e._isReactElement);return t},e.exports=u},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=n},function(e,t,n){"use strict";var i=n(25),r=i;r=function(e,t){for(var n=[],i=2,r=arguments.length;r>i;i++)n.push(arguments[i]);if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){var o=0;console.warn("Warning: "+t.replace(/%s/g,function(){return n[o++]}))}},e.exports=r},function(e,t,n){"use strict";var i=n(4),r=n(141),o=r({fetchAllListings:null,fetchAllChangeLogs:null,fetchNewArrivals:null,fetchMostPopular:null,fetchFeatured:null,fetchById:null,search:null,fetchChangeLogs:null,fetchOwnedListings:null,fetchReviews:null,saveReview:null,deleteReview:null,launch:null,save:null,reject:null,enable:null,disable:null,approve:null,approveByOrg:null,setFeatured:null});o.listingChangeCompleted=i.createAction(),e.exports=o},function(e){"use strict";e.exports=Object.freeze(window.OzoneConfig)},function(e){"use strict";e.exports={PAGINATION_MAX:24,FOCUSABLE_ELEMENTS:"input, select, textarea",URL_REGEX:/^(((https|http|ftp|sftp|file):\/)|(\/)){1}(.*)+$/,PHONE_REGEX:/(^\+\d((([\s.-])?\d+)?)+$)|(^(\(\d{3}\)\s?|^\d{3}[\s.-]?)?\d{3}[\s.-]?\d{4}$)/,EMAIL_REGEX:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,listingActions:{MODIFIED:"modified",ADD_RELATED_TO_ITEM:"addrelatedtoitem",REMOVE_RELATED_TO_ITEM:"removerelatedtoitem",ADD_RELATED_ITEMS:"addrelateditems",REMOVE_RELATED_ITEMS:"removerelateditems",OUTSIDE:"outside",INSIDE:"inside",APPROVED_ORG:"approved_org",APPROVED:"approved",REJECTED:"rejected",SUBMITTED:"submitted",CREATED:"created",ENABLED:"enabled",DISABLED:"disabled",TAG_CREATED:"tag_created",TAG_DELETED:"tag_deleted",REVIEW_EDITED:"review_edited",REVIEW_DELETED:"review_deleted",EMS_INCLUDED:"ems_included",EMS_NOT_INCLUDED:"ems_not_included",CLOUD_HOST_INCLUDED:"cloud_host_included",CLOUD_HOST_NOT_INCLUDED:"cloud_host_not_included",SECURITY_SERVICES_INCLUDED:"security_services_included",SECURITY_SERVICES_NOT_INCLUDED:"security_services_not_included",SCALE_INCLUDED:"scale_included",SCALE_NOT_INCLUDED:"scale_not_included",LICENSE_FREE_INCLUDED:"license_free_included",LICENSE_FREE_NOT_INCLUDED:"license_free_not_included",CLOUD_STORAGE_INCLUDED:"cloud_storage_included",CLOUD_STORAGE_NOT_INCLUDED:"cloud_storage_not_included",BROWSER_INCLUDED:"browser_included",BROWSER_NOT_INCLUDED:"browser_not_included",LOCAL_SCORECARD_QUESTION_UPDATED:"local_scorecard_question_updated"},approvalStatus:{IN_PROGRESS:"Draft",PENDING:"Pending, Organization",APPROVED_ORG:"Pending, Marketplace",APPROVED:"Published",REJECTED:"Returned to Owner"},UserRole:{USER:1,ORG_STEWARD:2,ADMIN:3},listingFieldName:{title:"Title",description:"Description",descriptionShort:"Short Description",screenshots:"Screenshots",contacts:"Contacts",height:"Height",width:"Width",tags:"Tags",requirements:"Requirements",categories:"Categories",intents:"Intents",launchUrl:"Launch URL",agency:"Organization",whatIsNew:"What's New",owners:"Owners",versionName:"Version",singleton:"Singleton",type:"Type",imageLargeUrl:"Banner URL",imageMediumUrl:"Large Icon URL",imageSmallUrl:"Small Icon URL",imageXlargeUrl:"Featured Banner",docUrls:"Resources",isFeatured:"Featured Flag"}}},function(e,t,n){"use strict";var i=n(56),r=i({bubbled:null,captured:null}),o=i({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),s={topLevelTypes:o,PropagationPhases:r};e.exports=s},function(e,t,n){var i,r;i=[n(31),n(154),n(34),n(49),n(427)],r=function(e,t,n,i,r){function o(o,s,a){var l=typeof o;if(null==o||"function"==l)return e(o,s,a);if("object"!=l)return r(o);var c=i(o),u=c[0],d=o[u];return 1!=c.length||d!==d||n(d)?function(e){for(var n=c.length,i=!1;n--&&(i=t(e[c[n]],o[c[n]],null,!0)););return i}:function(e){var t=e[u];return d===t&&(0!==d||1/d==1/t)}}return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(31),n(49),n(47)],r=function(e,t,n){var i=function(i,r,o){var s,a=i,l=a;if(!a)return l;if(!n[typeof a])return l;r=r&&"undefined"==typeof o?r:e(r,o,3);for(var c=-1,u=n[typeof a]&&t(a),d=u?u.length:0;++c<d;)if(s=u[c],r(a[s],s,i)===!1)return l;return l};return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i=n(5),r={mixins:[n(8).State],getActiveRoute:function(){return i.last(this.getRoutes())},getActiveRoutePath:function(){return i.last(this.getRoutes()).path}};e.exports=r},function(e,t,n){"use strict";var i=n(4),r=n(93),o=n(23);e.exports={mixins:[i.connect(r),i.connect(o)],getInitialState:function(){return Object.assign({},r.getDefaultData(),o.getDefaultData())}}},function(e,t,n){"use strict";function i(e){var t=_(e);return t&&R.getID(t)}function r(e){var t=o(e);if(t)if(L.hasOwnProperty(t)){var n=L[t];n!==e&&(k(!l(n,t),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",M,t),L[t]=e)}else L[t]=e;return t}function o(e){return e&&e.getAttribute&&e.getAttribute(M)||""}function s(e,t){var n=o(e);n!==t&&delete L[n],e.setAttribute(M,t),L[t]=e}function a(e){return L.hasOwnProperty(e)&&l(L[e],e)||(L[e]=R.findReactNodeByID(e)),L[e]}function l(e,t){if(e){k(o(e)===t,"ReactMount: Unexpected modification of `%s`",M);var n=R.findReactContainerForID(t);if(n&&y(n,e))return!0}return!1}function c(e){delete L[e]}function u(e){var t=L[e];return t&&l(t,e)?void(O=t):!1}function d(e){O=null,v.traverseAncestors(e,u);var t=O;return O=null,t}var p=n(39),h=n(41),f=n(42),m=n(9),g=n(62),v=n(55),b=n(27),y=n(279),w=n(117),_=n(283),x=n(80),k=n(3),T=n(125),C=n(11),D=g.wrapCreateElement(m.createElement),E=v.SEPARATOR,M=p.ID_ATTRIBUTE_NAME,L={},j=1,S=9,N={},A={},$={},I=[],O=null,R={_instancesByReactRootID:N,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){var o=t.props;return R.scrollMonitor(n,function(){e.replaceProps(o,r)}),$[i(n)]=_(n),e},_registerComponent:function(e,t){k(t&&(t.nodeType===j||t.nodeType===S),"_registerComponent(...): Target container is not a DOM element."),h.ensureScrollValueMonitoring();var n=R.registerContainer(t);return N[n]=e,n},_renderNewRootComponent:b.measure("ReactMount","_renderNewRootComponent",function(e,t,n){C(null==f.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var i=x(e,null),r=R._registerComponent(i,t);return i.mountComponentIntoNode(r,t,n),$[r]=_(t),i}),render:function(e,t,n){k(m.isValidElement(e),"renderComponent(): Invalid component element.%s","string"==typeof e?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":g.isValidFactory(e)?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":"undefined"!=typeof e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var r=N[i(t)];if(r){var o=r._currentElement;if(T(o,e))return R._updateRootComponent(r,e,t,n);R.unmountComponentAtNode(t)}var s=_(t),a=s&&R.isRenderedByReact(s),l=a&&!r,c=R._renderNewRootComponent(e,t,l);return n&&n.call(c),c},constructAndRenderComponent:function(e,t,n){var i=D(e,t);return R.render(i,n)},constructAndRenderComponentByID:function(e,t,n){var i=document.getElementById(n);return k(i,'Tried to get element with id of "%s" but it is not present on the page.',n),R.constructAndRenderComponent(e,t,i)},registerContainer:function(e){var t=i(e);return t&&(t=v.getReactRootIDFromNodeID(t)),t||(t=v.createReactRootID()),A[t]=e,t},unmountComponentAtNode:function(e){C(null==f.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.");var t=i(e),n=N[t];return n?(R.unmountComponentFromNode(n,e),delete N[t],delete A[t],delete $[t],!0):!1},unmountComponentFromNode:function(e,t){for(e.unmountComponent(),t.nodeType===S&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=v.getReactRootIDFromNodeID(e),n=A[t],i=$[t];if(i&&i.parentNode!==n){k(o(i)===t,"ReactMount: Root element ID differed from reactRootID.");var r=n.firstChild;r&&t===o(r)?$[t]=r:console.warn("ReactMount: Root element has been removed from its original container. New container:",i.parentNode)}return n},findReactNodeByID:function(e){var t=R.findReactContainerForID(e);return R.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=R.getID(e);return t?t.charAt(0)===E:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(R.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=I,i=0,r=d(t)||e;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,s=n[i++];s;){var a=R.getID(s);a?t===a?o=s:v.isAncestorIDOf(a,t)&&(n.length=i=0,n.push(s.firstChild)):n.push(s.firstChild),s=s.nextSibling}if(o)return n.length=0,o}n.length=0,k(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",t,R.getID(e))},getReactRootID:i,getID:r,setID:s,getNode:a,purgeID:c};R.renderComponent=w("ReactMount","renderComponent","render",this,R.render),e.exports=R},function(e,t,n){"use strict";function i(){g(E.ReactReconcileTransaction&&_,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=u.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled()}function o(e,t,n){i(),_.batchedUpdates(e,t,n)}function s(e,t){return e._mountDepth-t._mountDepth}function a(e){var t=e.dirtyComponentsLength;g(t===b.length,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,b.length),b.sort(s);for(var n=0;t>n;n++){var i=b[n];if(i.isMounted()){var r=i._pendingCallbacks;if(i._pendingCallbacks=null,i.performUpdateIfNecessary(e.reconcileTransaction),r)for(var o=0;o<r.length;o++)e.callbackQueue.enqueue(r[o],i)}}}function l(e,t){return g(!t||"function"==typeof t,"enqueueUpdate(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."),i(),v(null==p.current,"enqueueUpdate(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate."),_.isBatchingUpdates?(b.push(e),void(t&&(e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t]))):void _.batchedUpdates(l,e,t)}function c(e,t){g(_.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),y.enqueue(e,t),w=!0}var u=n(108),d=n(35),p=n(42),h=n(27),f=n(79),m=n(7),g=n(3),v=n(11),b=[],y=u.getPooled(),w=!1,_=null,x={initialize:function(){this.dirtyComponentsLength=b.length},close:function(){this.dirtyComponentsLength!==b.length?(b.splice(0,this.dirtyComponentsLength),C()):b.length=0}},k={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[x,k];m(r.prototype,f.Mixin,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,u.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return f.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(r);var C=h.measure("ReactUpdates","flushBatchedUpdates",function(){for(;b.length||w;){if(b.length){var e=r.getPooled();e.perform(a,null,e),r.release(e)}if(w){w=!1;var t=y;y=u.getPooled(),t.notifyAll(),u.release(t)}}}),D={injectReconcileTransaction:function(e){g(e,"ReactUpdates: must provide a reconcile transaction class"),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){g(e,"ReactUpdates: must provide a batching strategy"),g("function"==typeof e.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"),g("boolean"==typeof e.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"),_=e}},E={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:C,injection:D,asap:c};e.exports=E},function(e){var t=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=t},function(e,t,n){"use strict";n(72);var i=n(4),r=n(45),o=n(30),s=n(95),a=n(14),l=a.UserRole,c=n(378),u=l,d=u.ORG_STEWARD,p=u.ADMIN,h={isAdmin:function(){return l[this.highestRole]>=p},isOwner:function(e){return e.owners.some(function(e){return e.username===this.username}.bind(this))},isOrgSteward:function(e){return l[this.highestRole]>=d&&this.stewardedOrganizations.some(function(t){return t===e})},canEdit:function(e){return e&&(this.isAdmin()||this.isOwner(e)||this.isOrgSteward(e.agency))}},f=i.createStore({currentUser:null,currentUserError:!1,notifications:null,listenables:o,doTrigger:function(){this.trigger(this.getDefaultData())},handleProfileChange:function(e){var t=this,n=t.doTrigger.bind(t);e.then(function(e){t.currentUserError=!1,t.currentUser=Object.assign({},e,h)},function(){t.currentUserError=c.apply(null,arguments),t.currentUser=null}).then(n,n)},onFetchSelf:function(){this.handleProfileChange(s.getProfile("self"))},onUpdateLaunchPreference:function(e){var t=this,n=t.currentUser;this.handleProfileChange(s.updateProfile(n.id,Object.assign({},n,{launchInWebtop:e})))},getDefaultData:function(){return r.pick(this,"currentUser","currentUserError","notifications")},onFetchNotificationsCompleted:function(e){this.notifications=e.getItemAsList(),this.doTrigger()},onDismissNotificationCompleted:function(e){r.remove(this.notifications,e),this.doTrigger()}});e.exports=f},function(e,t,n){"use strict";function i(e){var t=e._owner||null;return t&&t.constructor&&t.constructor.displayName?" Check the render method of `"+t.constructor.displayName+"`.":""}function r(e,t,n){for(var i in t)t.hasOwnProperty(i)&&M("function"==typeof t[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactCompositeComponent",T[n],i)}function o(e,t){var n=P.hasOwnProperty(t)?P[t]:null;F.hasOwnProperty(t)&&M(n===O.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e.hasOwnProperty(t)&&M(n===O.DEFINE_MANY||n===O.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function s(e){var t=e._compositeLifeCycleState;M(e.isMounted()||t===z.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."),M(null==f.current,"replaceState(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),M(t!==z.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component.")}function a(e,t){if(t){M(!y.isValidFactory(t),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."),M(!m.isValidElement(t),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype;t.hasOwnProperty(I)&&Y.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==I){var r=t[i];if(o(n,i),Y.hasOwnProperty(i))Y[i](e,r);else{var s=P.hasOwnProperty(i),a=n.hasOwnProperty(i),l=r&&r.__reactDontBind,c="function"==typeof r,p=c&&!s&&!a&&!l;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=r,n[i]=r;else if(a){var h=P[i];M(s&&(h===O.DEFINE_MANY_MERGED||h===O.DEFINE_MANY),"ReactCompositeComponent: Unexpected spec policy %s for key %s when mixing in component specs.",h,i),h===O.DEFINE_MANY_MERGED?n[i]=u(n[i],r):h===O.DEFINE_MANY&&(n[i]=d(n[i],r))}else n[i]=r,"function"==typeof r&&t.displayName&&(n[i].displayName=t.displayName+"_"+i)}}}}function l(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in Y;M(!r,'ReactCompositeComponent: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;M(!o,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=i}}}function c(e,t){return M(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"),N(t,function(t,n){M(void 0===e[n],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t}),e}function u(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);return null==n?i:null==i?n:c(n,i)}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var p=n(54),h=n(111),f=n(42),m=n(9),g=n(112),v=n(77),b=n(487),y=n(62),w=n(269),_=n(27),x=n(270),k=n(272),T=n(271),C=n(21),D=n(7),E=n(80),M=n(3),L=n(56),j=n(22),S=n(81),N=n(286),A=n(125),$=n(11),I=j({mixins:null}),O=L({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),R=[],P={mixins:O.DEFINE_MANY,statics:O.DEFINE_MANY,propTypes:O.DEFINE_MANY,contextTypes:O.DEFINE_MANY,childContextTypes:O.DEFINE_MANY,getDefaultProps:O.DEFINE_MANY_MERGED,getInitialState:O.DEFINE_MANY_MERGED,getChildContext:O.DEFINE_MANY_MERGED,render:O.DEFINE_ONCE,componentWillMount:O.DEFINE_MANY,componentDidMount:O.DEFINE_MANY,componentWillReceiveProps:O.DEFINE_MANY,shouldComponentUpdate:O.DEFINE_ONCE,componentWillUpdate:O.DEFINE_MANY,componentDidUpdate:O.DEFINE_MANY,componentWillUnmount:O.DEFINE_MANY,updateComponent:O.OVERRIDE_BASE},Y={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,t){r(e,t,k.childContext),e.childContextTypes=D({},e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,k.context),e.contextTypes=D({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?u(e.getDefaultProps,t):t},propTypes:function(e,t){r(e,t,k.prop),e.propTypes=D({},e.propTypes,t)},statics:function(e,t){l(e,t)}},z=L({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null}),F={construct:function(){p.Mixin.construct.apply(this,arguments),w.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return p.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==z.MOUNTING},mountComponent:_.measure("ReactCompositeComponent","mountComponent",function(e,t,n){p.Mixin.mountComponent.call(this,e,t,n),this._compositeLifeCycleState=z.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._currentElement._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,M("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=E(this._renderValidatedComponent(),this._currentElement.type),this._compositeLifeCycleState=null;var i=this._renderedComponent.mountComponent(e,t,n+1);return this.componentDidMount&&t.getReactMountReady().enqueue(this.componentDidMount,this),i}),unmountComponent:function(){this._compositeLifeCycleState=z.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,p.Mixin.unmountComponent.call(this)},setState:function(e,t){M("object"==typeof e||null==e,"setState(...): takes an object of state variables to update."),$(null!=e,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.replaceState(D({},this._pendingState||this.state,e),t)},replaceState:function(e,t){s(this),this._pendingState=e,this._compositeLifeCycleState!==z.MOUNTING&&C.enqueueUpdate(this,t)},_processContext:function(e){var t=null,n=this.constructor.contextTypes;if(n){t={};for(var i in n)t[i]=e[i];this._checkPropTypes(n,t,k.context)}return t},_processChildContext:function(e){var t=this.getChildContext&&this.getChildContext(),n=this.constructor.displayName||"ReactCompositeComponent";if(t){M("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",n),this._checkPropTypes(this.constructor.childContextTypes,t,k.childContext);for(var i in t)M(i in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',n,i);return D({},e,t)}return e},_processProps:function(e){var t=this.constructor.propTypes;return t&&this._checkPropTypes(t,e,k.prop),e},_checkPropTypes:function(e,t,n){var r=this.constructor.displayName;for(var o in e)if(e.hasOwnProperty(o)){var s=e[o](t,o,r,n);if(s instanceof Error){var a=i(this);$(!1,s.message+a)
}}},performUpdateIfNecessary:function(e){var t=this._compositeLifeCycleState;if(t!==z.MOUNTING&&t!==z.RECEIVING_PROPS&&(null!=this._pendingElement||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,i=this.props,r=this._currentElement;null!=this._pendingElement&&(r=this._pendingElement,n=this._processContext(r._context),i=this._processProps(r.props),this._pendingElement=null,this._compositeLifeCycleState=z.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(i,n)),this._compositeLifeCycleState=null;var o=this._pendingState||this.state;this._pendingState=null;var s=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(i,o,n);"undefined"==typeof s&&console.warn((this.constructor.displayName||"ReactCompositeComponent")+".shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false."),s?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,i,o,n,e)):(this._currentElement=r,this.props=i,this.state=o,this.context=n,this._owner=r._owner)}},_performComponentUpdate:function(e,t,n,i,r){var o=this._currentElement,s=this.props,a=this.state,l=this.context;this.componentWillUpdate&&this.componentWillUpdate(t,n,i),this._currentElement=e,this.props=t,this.state=n,this.context=i,this._owner=e._owner,this.updateComponent(r,o),this.componentDidUpdate&&r.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,s,a,l),this)},receiveComponent:function(e,t){(e!==this._currentElement||null==e._owner)&&p.Mixin.receiveComponent.call(this,e,t)},updateComponent:_.measure("ReactCompositeComponent","updateComponent",function(e,t){p.Mixin.updateComponent.call(this,e,t);var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent();if(A(i,r))n.receiveComponent(r,e);else{var o=this._rootNodeID,s=n._rootNodeID;n.unmountComponent(),this._renderedComponent=E(r,this._currentElement.type);var a=this._renderedComponent.mountComponent(o,e,this._mountDepth+1);p.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(s,a)}}),forceUpdate:function(e){var t=this._compositeLifeCycleState;M(this.isMounted()||t===z.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."),M(t!==z.UNMOUNTING&&null==f.current,"forceUpdate(...): Cannot force an update while unmounting component or within a `render` function."),this._pendingForceUpdate=!0,C.enqueueUpdate(this,e)},_renderValidatedComponent:_.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var e,t=h.current;h.current=this._processChildContext(this._currentElement._context),f.current=this;try{e=this.render(),null===e||e===!1?(e=v.getEmptyComponent(),v.registerNullComponentID(this._rootNodeID)):v.deregisterNullComponentID(this._rootNodeID)}finally{h.current=t,f.current=null}return M(m.isValidElement(e),"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"),e}),_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(b.guard(t,this.constructor.displayName+"."+e))}},_bindAutoBindMethod:function(e){var t=this,n=e.bind(t);n.__reactBoundContext=t,n.__reactBoundMethod=e,n.__reactBoundArguments=null;var i=t.constructor.displayName,r=n.bind;return n.bind=function(o){for(var s=[],a=1,l=arguments.length;l>a;a++)s.push(arguments[a]);if(o!==t&&null!==o)S("react_bind_warning",{component:i}),console.warn("bind(): React component methods may only be bound to the component instance. See "+i);else if(!s.length)return S("react_bind_warning",{component:i}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+i),n;var c=r.apply(n,arguments);return c.__reactBoundContext=t,c.__reactBoundMethod=e,c.__reactBoundArguments=s,c},n}},U=function(){};D(U.prototype,p.Mixin,w.Mixin,x.Mixin,F);var H={LifeCycle:z,Base:U,createClass:function(e){var t=function(){};t.prototype=new U,t.prototype.constructor=t,R.forEach(a.bind(null,t)),a(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),M(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),t.prototype.componentShouldUpdate&&(S("react_component_should_update_warning",{component:e.displayName}),console.warn((e.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value."));for(var n in P)t.prototype[n]||(t.prototype[n]=null);return y.wrapFactory(g.createFactory(t))},injection:{injectMixin:function(e){R.push(e)}}};e.exports=H},function(e){function t(e){return function(){return e}}function n(){}n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,n){"use strict";var i=n(77),r=n(20),o=n(3),s={getDOMNode:function(){return o(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."),i.isNullComponentID(this._rootNodeID)?null:r.getNode(this._rootNodeID)}};e.exports=s},function(e){"use strict";function t(e,t,n){return n}var n={enableMeasure:!1,storedMeasure:t,measure:function(e,t,i){var r=null,o=function(){return n.enableMeasure?(r||(r=n.storedMeasure(e,t,i)),r.apply(this,arguments)):i.apply(this,arguments)};return o.displayName=e+"_"+t,o},injection:{injectMeasure:function(e){n.storedMeasure=e}}};e.exports=n},function(e,t,n){var i=t.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e};t.extend=function(e){if(!i(e))return e;for(var t,n,r=1,o=arguments.length;o>r;r++){t=arguments[r];for(n in t)e[n]=t[n]}return e},t.isFunction=function(e){return"function"==typeof e},t.EventEmitter=n(532),t.nextTick=function(e){setTimeout(e,0)},t.callbackName=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)},t.object=function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t[i];return n},t.isArguments=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&("[object Arguments]"===toString.call(e)||hasOwnProperty.call(e,"callee"&&!propertyIsEnumerable.call(e,"callee")))||!1},t.throwIf=function(e,t){if(e)throw Error(t||e)}},function(e,t,n){/**
	 * tcomb-form - Domain Driven Forms. Automatically generate form markup from a domain model
	 * @version v0.2.1
	 * @link https://github.com/gcanti/tcomb-form
	 * @license MIT
	 */
"use strict";function i(e){return e.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return r(i(e).replace(/_id$/,"").replace(/_/g," "))}function s(e,t){return t=t||lt,t.hasOwnProperty(X(e))?s(e.meta.type,t):e}function a(e,t){return R.is(e)?t:e}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function c(e,t,n){var i=Object.keys(e).map(function(t){return{value:t,text:e[t]}});return t&&i.sort(nt.meta.map[t]),n&&i.unshift(n),i}function u(e,t){return e=o(e),t?N.createElement("span",null,e,N.createElement("small",{className:"text-muted"},t)):N.createElement("span",null,e)}function d(e,t){var n={};return t&&(n["control-label"]=!0,n[t.toLabelClassName()]=!0),e?N.createElement("label",{className:A(n)},e):null}function p(e,t){return t=t||{},t["help-block"]=!0,e?N.createElement("span",{className:A(t)},e):null}function h(e,t){return t.hasError?(H.is(e)&&(e=e(t.value)),p(e,{"error-block":!0})):null}function f(e){return e?N.createElement("span",{className:"input-group-addon"},e):null}function m(e){return function(){var t={};for(var n in this){var i=this[n];this.hasOwnProperty(n)&&!R.is(i)&&(t["col-"+n+"-"+i[e]]=!0)}return A(t)}}function g(e,t){return N.createElement("option",{key:t,value:e.value},e.text)}function v(e,t,n){if(H.is(e))return c(e.meta.map,t,n).map(g);var i=[];return n&&i.push(g(n,-1)),e.forEach(function(e,t){i.push(e.group?N.createElement("optgroup",{label:e.group,key:t},e.options.map(function(e,n){return g(e,String(t)+"-"+String(n))})):g(e,t))}),i}function b(e,t){var n=e.slice();return n.splice(t,1),n}function y(e,t,n){var i=e.slice();if(t===n)return i;var r=i.splice(t,1)[0];return i.splice(n,0,r),i}function w(e,t){return y(e,t,t-1)}function _(e,t){return y(e,t,t+1)}function x(e,t){return function(){return{hasError:a(e,!1),value:t}}}function k(e){return function(){var t=this.getRawValue(),n=$.validate(t,e),i=n.isValid();return this.setState({hasError:!i,value:t}),i?n.value:n}}function T(e){e=s(e);var t=X(e),n=kt.inputs[t];return H.is(n)?n:(n=n[Z(e)],H.is(n)?n:C)}function C(e,t){I(Q.is(e)),t=new mt(t||{});var n=s(e),i=t.type||"text",r=t.i17n||rt,o=r.format(a(t.value,null),n),l=d(t.label,t.breakpoints),c=p(t.help),u=f(t.addonBefore),m=f(t.addonAfter),g={"form-control":!0};return t.height&&(g["input-"+t.height]=!0),N.createClass({displayName:"Textbox",getInitialState:x(t.hasError,o),getRawValue:function(){var e=this.refs.input.getDOMNode().value.trim()||null;return e=r.parse(e,n)},getValue:k(e),render:function(){var e=h(t.message,this.state),n=J({"form-group":!0,"has-error":this.state.hasError},t.groupClasses),r="textarea",s={ref:"input",name:t.name,className:A(g),defaultValue:o,disabled:t.disabled,readOnly:t.readOnly,placeholder:t.placeholder,onChange:t.onChange};"textarea"!==i&&(r="input",s.type=i);var a=N.DOM[r](s);return(u||m)&&(a=N.createElement("div",{className:"input-group"},u,a,m)),t.breakpoints&&(a=N.createElement("div",{className:t.breakpoints.toInputClassName()},a)),N.createElement("div",{className:A(n)},l,a,e,c)}})}function D(e,t){I(Q.is(e)),t=new gt(t||{});var n=s(e,vt),i=t.multiple===!0,r=i?null:t.emptyOption,o=r?r.value:null,l=a(t.value,o),c=d(t.label,t.breakpoints),u=p(t.help),f=v(t.options||n,t.order,r),m={"form-control":!0};return t.height&&(m["input-"+t.height]=!0),N.createClass({displayName:"Select",getInitialState:x(t.hasError,l),getRawValue:function(){var e=this.refs.input.getDOMNode();if(i){for(var t=[],n=0,r=e.options.length;r>n;n++){var s=e.options[n];s.selected&&t.push(s.value)}return t}return e.value===o?null:e.value},getValue:k(e),render:function(){var e=h(t.message,this.state),n=J({"form-group":!0,"has-error":this.state.hasError},t.groupClasses),r=N.createElement("select",{ref:"input",name:t.name,className:A(m),disabled:t.disabled,readOnly:t.readOnly,defaultValue:l,multiple:i},f);return t.breakpoints&&(r=N.createElement("div",{className:t.breakpoints.toInputClassName()},r)),N.createElement("div",{className:A(n)},c,r,e,u)}})}function E(e,t){I(Q.is(e)),t=new bt(t||{});var n=s(e),i=a(t.value,null),r=d(t.label,t.breakpoints),o=p(t.help),u=c(n.meta.map,t.order),f=u.length,m=t.name||l();return N.createClass({displayName:"Radio",getInitialState:x(t.hasError,i),getRawValue:function(){for(var e=null,t=0;f>t;t++){var n=this.refs[m+t].getDOMNode();if(n.checked){e=n.value;break}}return e},getValue:k(e),render:function(){var e=h(t.message,this.state),n=J({"form-group":!0,"has-error":this.state.hasError},t.groupClasses),s=u.map(function(e,t){return N.createElement("div",{className:"radio",key:t},N.createElement("label",null,N.createElement("input",{type:"radio",ref:m+t,name:m,value:e.value,defaultChecked:e.value===i}),e.text))});return t.breakpoints&&(s=N.createElement("div",{className:t.breakpoints.toInputClassName()},s)),N.createElement("div",{className:A(n)},r,s,e,o)}})}function M(e,t){I(Q.is(e)),t=new yt(t||{});var n=a(t.value,!1),i=p(t.help);return N.createClass({displayName:"Checkbox",getInitialState:x(t.hasError,n),getRawValue:function(){return this.refs.input.getDOMNode().checked},getValue:k(e),render:function(){var e=h(t.message,this.state),r=J({"form-group":!0,"has-error":this.state.hasError},t.groupClasses),o=N.createElement("div",{className:"checkbox"},N.createElement("label",null,N.createElement("input",{ref:"input",type:"checkbox",name:t.name,defaultChecked:n})," ",t.label));return t.breakpoints&&(o=N.createElement("div",{className:t.breakpoints.toCheckboxClassName()},o)),N.createElement("div",{className:A(r)},o,e,i)}})}function L(e,t){I(Q.is(e)),t=new _t(t||{});var n=s(e),i=n.meta.props,r=Object.keys(i),a=t.order||r,l=a.length,c=t.fields||{},p=t.value||{},h=d(t.label),f=t.i18n?new ot(t.i18n):st,m=t.auto||"placeholders",g=a.map(function(e){if(!i.hasOwnProperty(e))return function(t){return N.createElement("div",{key:t.key,className:"form-group"},e)};var n=i[e],r=J({ctx:t.ctx,value:p[e],breakpoints:t.breakpoints,i17n:t.i17n,i18n:t.i18n},c[e],!0),s=r.input?r.input:T(n),a="maybe"===X(n)?f.optional:"";return(s===j||s===L||s===M||s===E)&&(r.label=r.label||u(e,a)),s===L?r.auto=m:(s===j?(r.item=r.item||{},r.item.name=r.item.name||e):r.name=r.name||e,"labels"===m?(r.label=r.label||u(e,a),s===D&&(r.emptyOption=r.emptyOption||{value:"",text:"-"})):"placeholders"!==m||r.label||(s===D?r.emptyOption=r.emptyOption||{value:"",text:o(f.select+e+a)}:s===C&&(r.placeholder=r.placeholder||o(e+a)))),N.createFactory(s(n,r))});return N.createClass({displayName:"Form",getInitialState:x(t.hasError,p),getValue:function(t){t=t||0;for(var i,r=[],o={},s=0;l>s;s++){var c=a[s],i=this.refs[c].getValue(t+1);et.is(i)?(r=r.concat(i.errors),o[c]=i.value):o[c]=i}if(r.length)return t?new et({errors:r,value:o}):null;i=$.validate(new n(o),e);var u=i.isValid();return this.setState({hasError:!u,value:o}),u?i.value:t?i:null},render:function(){var e={"has-error":this.state.hasError},t=a.map(function(e,t){return g[t]({key:t,ref:e})});return N.createElement("fieldset",{className:A(e)},h,t)}})}function j(e,t){I(Q.is(e)),t=new xt(t||{});var n=e,i=s(n.meta.type),r=t.input||T(i),o=a(t.value,[]),l=d(t.label),c=t.i18n?new ot(t.i18n):st;return N.createClass({displayName:"List",getInitialState:x(t.hasError,o),getValue:function(t){t=t||0;for(var n,i=[],r=[],o=0,s=this.state.value.length;s>o;o++){var n=this.refs[o].getValue(t+1);et.is(n)?r[name]=n.value:r.push(n)}if(i.length)return t?new et({errors:i,value:r}):null;n=$.validate(r,e);var a=n.isValid();return this.setState({hasError:!a,value:r}),a?n.value:t?n:null},add:function(e){e.preventDefault();var t=this.getValue();t&&(t=t.concat(null),this.setState({hasError:this.state.hasError,value:t}))},remove:function(e,t){t.preventDefault();var n=this.getValue();n=n?b(n,e):b(this.state.value,e),this.setState({hasError:this.state.hasError,value:n})},moveUp:function(e,t){t.preventDefault();var n=this.getValue();e>0&&n&&(n=w(n,e),this.setState({hasError:this.state.hasError,value:n}))},moveDown:function(e,t){t.preventDefault();var n=this.getValue();e<this.state.value.length-1&&n&&(n=_(n,e),this.setState({hasError:this.state.hasError,value:n}))},render:function(){for(var e={"form-group":!0,"has-error":this.state.hasError},n=[],o=0,s=this.state.value.length;s>o;o++){var a=J({ctx:t.ctx,value:this.state.value[o],i17n:t.i17n,i18n:t.i18n,name:t.name},t.item,!0);n.push(N.createElement("div",{className:"row",key:o},N.createElement("div",{className:"col-md-7"},N.createFactory(r(i,a))({ref:o})),N.createElement("div",{className:"col-md-5"},N.createElement("div",{className:"btn-group"},t.disableRemove?null:N.createElement("button",{className:"btn btn-default btn-remove",onClick:this.remove.bind(this,o)},c.remove),t.disableOrder?null:N.createElement("button",{className:"btn btn-default btn-move-up",onClick:this.moveUp.bind(this,o)},c.up),t.disableOrder?null:N.createElement("button",{className:"btn btn-default btn-move-down",onClick:this.moveDown.bind(this,o)},c.down)))))}var u=t.disableAdd?null:N.createElement("div",{className:"form-group"},N.createElement("button",{className:"btn btn-default btn-add",onClick:this.add},c.add));return N.createElement("fieldset",{className:A(e)},l,n,u)}})}function S(e,t){return"struct"===X(s(e))?L(e,t):j(e,t)}var N=n(1),A=n(116),$=n(544),I=$.assert,O=$.Any,R=$.Nil,P=$.Str,Y=$.Num,z=$.Bool,F=$.Obj,U=$.Arr,H=$.Func,B=$.subtype,W=$.maybe,q=$.enums,V=$.list,G=$.struct,K=$.tuple,J=($.func,$.util.mixin),Q=$.Type,X=$.util.getKind,Z=$.util.getName,et=$.ValidationResult,tt=$.irriducible("ReactElement",N.isValidElement),nt=q({asc:function(e,t){return e.text<t.text?-1:e.text>t.text?1:0},desc:function(e,t){return e.text<t.text?1:e.text>t.text?-1:0}},"Order"),it=G({format:H,parse:H},"I17n"),rt=new it({parse:function(e,t){return t!==Y||R.is(e)?e:parseFloat(e)},format:function(e){return e}}),ot=G({select:P,optional:P,add:P,remove:P,up:P,down:P},"I18n"),st=new ot({select:"Select your ",optional:" (optional)",add:"Add",remove:"Remove",up:"Up",down:"Down"}),at=G({value:P,text:P},"Option"),lt={maybe:1,subtype:1},ct=B(Y,function(e){return e%1===0&&e>=0},"Positive"),ut=B(K([ct,ct]),function(e){return e[0]+e[1]===12},"Cols"),dt=G({xs:W(ut),sm:W(ut),md:W(ut),lg:W(ut)},"Breakpoints"),pt=q.of("xs sm md lg","Size");dt.prototype.toLabelClassName=m(0),dt.prototype.toInputClassName=m(1),dt.prototype.toCheckboxClassName=function(){var e={};for(var t in this){var n=this[t];this.hasOwnProperty(t)&&!R.is(n)&&(e["col-"+t+"-offset-"+n[0]]=!0,e["col-"+t+"-"+n[1]]=!0)}return A(e)};var ht=G({ctx:O,value:O,name:W(P),label:O,help:O,message:W($.union([P,H])),hasError:W(z),onChange:W(H)}),ft=q.of("hidden text textarea password color date datetime datetime-local email month number range search tel time url week","TypeAttr"),mt=ht.extend([{type:W(ft),groupClasses:W(F),placeholder:W(P),i17n:W(it),disabled:W(z),readOnly:W(z),addonBefore:O,addonAfter:O,breakpoints:W(dt),height:W(pt)}],"TextboxOpts"),gt=ht.extend([{options:O,groupClasses:W(F),emptyOption:W(at),order:W(nt),disabled:W(z),breakpoints:W(dt),height:W(pt),multiple:W(z)}],"SelectOpts"),vt={maybe:1,subtype:1,list:1},bt=ht.extend([{groupClasses:W(F),order:W(nt),breakpoints:W(dt)}],"RadioOpts"),yt=ht.extend([{groupClasses:W(F),breakpoints:W(dt)}],"CheckboxOpts"),wt=q.of("none placeholders labels","FormAuto"),_t=G({ctx:O,value:W(F),label:O,auto:W(wt),order:W(V($.union([P,tt]))),fields:W(F),breakpoints:W(dt),i17n:W(it),i18n:W(ot)},"FormOpts"),xt=G({ctx:O,value:W(U),label:O,disableAdd:W(z),disableRemove:W(z),disableOrder:W(z),item:W(F),i17n:W(it),i18n:W(ot)},"ListOpts"),kt={inputs:{irriducible:{Bool:M},enums:D,struct:L,list:j}};$.form={options:kt,util:{humanize:o,Option:at,Breakpoints:dt},I17n:it,I18n:ot,textbox:C,select:D,radio:E,checkbox:M,createForm:L,createList:j,create:S},e.exports=$},function(e,t,n){"use strict";var i=n(4),r=n(379),o=n(95),s=n(45),a=r({fetchNotifications:function(){o.fetchNotifications().done(a.fetchNotificationsCompleted).fail(a.fetchNotificationsFailed)},dismissNotification:function(e){o.dismissNotification(e.id).done(function(){a.dismissNotificationCompleted(e)}).fail(function(){a.dismissNotificationFailed(e)})}});s.assign(a,i.createActions(["fetchProfile","fetchSelf","fetchLibrary","fetchOwnedListings","updateLaunchPreference"])),e.exports=a},function(e,t,n){var i,r;i=[n(399),n(425),n(103),n(423)],r=function(e,t,n,i){function r(r,l,c){if("function"!=typeof r)return t;if("undefined"==typeof l||!("prototype"in r))return r;var u=r.__bindData__;if("undefined"==typeof u&&(i.funcNames&&(u=!r.name),u=u||!i.funcDecomp,!u)){var d=a.call(r);i.funcNames||(u=!o.test(d)),u||(u=s.test(d),n(r,u))}if(u===!1||u!==!0&&1&u[1])return r;switch(c){case 1:return function(e){return r.call(l,e)};case 2:return function(e,t){return r.call(l,e,t)};case 3:return function(e,t,n){return r.call(l,e,t,n)};case 4:return function(e,t,n,i){return r.call(l,e,t,n,i)}}return e(r,l)}var o=/^\s*function[ \n\r\t]+\w/,s=/\bthis\b/,a=Function.prototype.toString;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,o=Array(0>r?0:r);++i<r;)o[i]=e[t+i];return o}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(46)],r=function(e){var t="[object Array]",n=Object.prototype,i=n.toString,r=e(r=Array.isArray)&&r,o=r||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&i.call(e)==t||!1};return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(47)],r=function(e){function t(t){return!(!t||!e[typeof t])}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i=n(3),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},s=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},a=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var s=o.instancePool.pop();return o.call(s,e,t,n,i,r),s}return new o(e,t,n,i,r)},l=function(e){var t=this;i(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,u=r,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||u,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:s,fiveArgumentPooler:a};e.exports=p},function(e,t,n){"use strict";function i(e){return o.markNonLegacyFactory(r.createFactory(e))}var r=(n(9),n(112)),o=n(62),s=n(286),a=s({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);e.exports=a},function(e,t,n){"use strict";function i(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];this[r]=o?o(n):n[r]}var a=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=a?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse}var r=n(35),o=n(7),s=n(25),a=n(122),l={type:null,target:a,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=s.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=s.thatReturnsTrue},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=l,i.augmentClass=function(e,t){var n=this,i=Object.create(n.prototype);o(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.threeArgumentPooler)},r.addPoolingTo(i,r.threeArgumentPooler),e.exports=i},function(e,t,n){(function(t){"use strict";var i=n(1);n(429);var r=i.createClass({displayName:"BootstrapModal",propTypes:{buttons:i.PropTypes.array,confirm:i.PropTypes.string,cancel:i.PropTypes.string,onConfirm:i.PropTypes.func,onCancel:i.PropTypes.func,onShown:i.PropTypes.func,onHidden:i.PropTypes.func},componentDidMount:function(){var e=this;t(this.getDOMNode()).one("shown.bs.modal",function(){e.props.onShown&&e.props.onShown()}).one("hidden.bs.modal",function(){e.props.onHidden&&e.props.onHidden()}).modal({backdrop:"static",keyboard:!1,show:!0})},close:function(){t(this.getDOMNode()).modal("hide")},render:function(){var e=this.props.buttons;e||(this.props.cancel&&(e=[i.createElement("a",{key:"cancel",role:"button",className:"btn btn-link",onClick:this.handleCancel},this.props.cancel)]),this.props.confirm&&e.push(i.createElement("a",{key:"confirm",role:"button",className:"btn btn-info",onClick:this.handleConfirm},this.props.confirm)));var t=i.addons.classSet({"modal-dialog":!0,"modal-lg":"small"!==this.props.size});return this.transferPropsTo(i.createElement("div",{className:"modal fade",tabIndex:"-1",role:"dialog","aria-hidden":"true"},i.createElement("div",{className:t},i.createElement("div",{className:"modal-content"},this.props.title&&i.createElement("div",{className:"modal-header"},i.createElement("button",{type:"button",className:"close",onClick:this.handleCancel},i.createElement("span",{"aria-hidden":"true"},""),i.createElement("span",{className:"sr-only"},"Close")),i.createElement("h4",{className:"modal-title"},this.props.title)),i.createElement("div",{className:"modal-body"},this.props.children),e&&e.length>0&&i.createElement("div",{className:"modal-footer"},e)))))},handleCancel:function(){this.props.onCancel&&this.props.onCancel(),this.close()},handleConfirm:function(){this.props.onConfirm&&this.props.onConfirm()}});e.exports=r}).call(t,n(6))},function(e,t,n){"use strict";function i(e,t){return(e&t)===t}var r=n(3),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},n=e.DOMAttributeNames||{},s=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var c in t){r(!a.isStandardName.hasOwnProperty(c),"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",c),a.isStandardName[c]=!0;var u=c.toLowerCase();if(a.getPossibleStandardName[u]=c,n.hasOwnProperty(c)){var d=n[c];a.getPossibleStandardName[d]=c,a.getAttributeName[c]=d}else a.getAttributeName[c]=u;a.getPropertyName[c]=s.hasOwnProperty(c)?s[c]:c,a.getMutationMethod[c]=l.hasOwnProperty(c)?l[c]:null;var p=t[c];a.mustUseAttribute[c]=i(p,o.MUST_USE_ATTRIBUTE),a.mustUseProperty[c]=i(p,o.MUST_USE_PROPERTY),a.hasSideEffects[c]=i(p,o.HAS_SIDE_EFFECTS),a.hasBooleanValue[c]=i(p,o.HAS_BOOLEAN_VALUE),a.hasNumericValue[c]=i(p,o.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[c]=i(p,o.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[c]=i(p,o.HAS_OVERLOADED_BOOLEAN_VALUE),r(!a.mustUseAttribute[c]||!a.mustUseProperty[c],"DOMProperty: Cannot require using both attribute and property: %s",c),r(a.mustUseProperty[c]||!a.hasSideEffects[c],"DOMProperty: Properties that have side effects must use property: %s",c),r(!!a.hasBooleanValue[c]+!!a.hasNumericValue[c]+!!a.hasOverloadedBooleanValue[c]<=1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",c)}}},s={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var n=a._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,i=s[e];return i||(s[e]=i={}),t in i||(n=document.createElement(e),i[t]=n[t]),i[t]},injection:o};e.exports=a},function(e,t,n){"use strict";function i(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return g(e,i)}function r(e,t,n){if(!e)throw new Error("Dispatching id must not be null");var r=t?m.bubbled:m.captured,o=i(e,n,r);o&&(n._dispatchListeners=h(n._dispatchListeners,o),n._dispatchIDs=h(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=g(e,i);r&&(n._dispatchListeners=h(n._dispatchListeners,r),n._dispatchIDs=h(n._dispatchIDs,e))}}function a(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function l(e){f(e,o)}function c(e,t,n,i){p.injection.getInstanceHandle().traverseEnterLeave(n,i,s,e,t)}function u(e){f(e,a)}var d=n(15),p=n(52),h=n(115),f=n(119),m=d.PropagationPhases,g=p.getListener,v={accumulateTwoPhaseDispatches:l,accumulateDirectDispatches:u,accumulateEnterLeaveDispatches:c};e.exports=v},function(e,t,n){"use strict";function i(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,d[e[m]]={}),d[e[m]]}var r=n(15),o=n(52),s=n(260),a=n(488),l=n(277),c=n(7),u=n(124),d={},p=!1,h=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=i(n),a=s.registrationNameDependencies[e],l=r.topLevelTypes,c=0,d=a.length;d>c;c++){var p=a[c];o.hasOwnProperty(p)&&o[p]||(p===l.topWheel?u("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):u("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):p===l.topScroll?u("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===l.topFocus||p===l.topBlur?(u("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):u("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],n),o[p]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!p){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});e.exports=g},function(e){"use strict";var t={current:null};e.exports=t},function(e,t,n){"use strict";var i=n(1),r=i.addons,o=r.cloneWithProps,s=r.classSet,a={getInitialState:function(){return{value:this.props.value,blurred:!1}},render:function(){var e=s({"input-optional":this.props.optional});return i.createElement("div",{className:this.getClasses()},i.createElement("label",{htmlFor:this.props.id,className:e},this.props.label),i.createElement("p",{className:"small"},this.props.description),this.props.help&&i.createElement("p",{className:"help-block small"},this.props.help),o(this.renderInput(),this.getInputProps()))},shouldComponentUpdate:function(e,t){return e.id!==this.props.id?!0:e.value!==t.value?!0:e.description!==this.props.description?!0:e.label!==this.props.label?!0:e.help!==this.props.help?!0:e.optional!==this.props.optional?!0:t.blurred!==this.state.blurred?!0:this.showWarning(e,t)!==this.showWarning(this.props,this.state)?!0:this.showError(e,t)!==this.showError(this.props,this.state)?!0:!1},getClasses:function(){return s({"form-group":!0,"has-error":this.showError(this.props,this.state),"has-warning":this.showWarning(this.props,this.state)})},showWarning:function(e,t){return!this.showError(e,t.blurred)&&e.warning&&t.blurred},showError:function(e,t){return e.error&&(t||e.forceError)},_onBlur:function(e){e.preventDefault(),this.setState({blurred:!0})},_onChange:function(e){e.preventDefault();var t=e.target,n=t.value;this.setState({value:n}),this.props.setter(n)},getInputProps:function(){var e=this.getValue?this.getValue(this.props.value):this.state.value||this.props.value,t=this.onChange?this.onChange:this._onChange,n=this.onBlur?this.onBlur:this._onBlur;return{ref:"input",className:"form-control",id:this.props.id,value:e,onBlur:n,onChange:t}}};e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(433),o=i.createClass({mixins:[i.addons.PureRenderMixin],displayName:"IconRatingExtended",getDefaultProps:function(){return{className:"icon-rating",toggledClassName:"fa fa-star",untoggledClassName:"fa fa-star-o",halfClassName:"fa fa-star-half-o"}},getInitialState:function(){return{rating:this.roundRating(this.props.currentRating)}},componentWillReceiveProps:function(e){this.props.currentRating!==e.currentRating&&this.setState({rating:this.roundRating(e.currentRating)})},roundRating:function(e){var t=Math.floor(e),n=e-t,i=t;return n>=.25&&.75>n?i+=.5:n>=.75&&(i+=1),i},render:function(){return this.transferPropsTo(i.createElement(r,{key:this.props.currentRating,currentRating:this.state.rating,className:this.props.className,toggledClassName:this.props.toggledClassName,untoggledClassName:this.props.untoggledClassName,halfClassName:this.props.halfClassName}))}});e.exports=o},function(e,t,n){var i=n(72);e.exports={assign:i,pick:n(164),omit:n(163),last:n(147),remove:n(148),reduce:n(149),isArray:n(33)}},function(e,t){var n,i;n=[],i=function(){function e(e){return"function"==typeof e&&i.test(e)}var t=Object.prototype,n=t.toString,i=RegExp("^"+String(n).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){var e={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){function e(e){return"function"==typeof e}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(46),n(34),n(414)],r=function(e,t,n){var i=e(i=Object.keys)&&i,r=i?function(e){return t(e)?i(e):[]}:n;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){function i(e){if(!(e in d)){var t=[],n=e.replace(a,function(e,n){return n?(t.push(n),"([^/?#]+)"):"*"===e?(t.push("splat"),"(.*?)"):"\\"+e});d[e]={matcher:new RegExp("^"+n+"$","i"),paramNames:t}}return d[e]}var r=n(3),o=n(107).merge,s=n(449),a=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|[*.()\[\]\\+|{}^$]/g,l=/:([a-zA-Z_$][a-zA-Z0-9_$?]*[?]?)|[*]/g,c=/\/\/\?|\/\?/g,u=/\?(.+)/,d={},p={decode:function(e){return decodeURI(e.replace(/\+/g," "))},encode:function(e){return encodeURI(e).replace(/%20/g,"+")},extractParamNames:function(e){return i(e).paramNames},extractParams:function(e,t){var n=i(e),r=t.match(n.matcher);if(!r)return null;var o={};return n.paramNames.forEach(function(e,t){o[e]=r[t+1]}),o},injectParams:function(e,t){t=t||{};var n=0;return e.replace(l,function(i,o){if(o=o||"splat","?"!==o.slice(-1))r(null!=t[o],'Missing "'+o+'" parameter for path "'+e+'"');else if(o=o.slice(0,-1),null==t[o])return"";var s;return"splat"===o&&Array.isArray(t[o])?(s=t[o][n++],r(null!=s,"Missing splat # "+n+' for path "'+e+'"')):s=t[o],s}).replace(c,"/")},extractQuery:function(e){var t=e.match(u);return t&&s.parse(t[1])},withoutQuery:function(e){return e.replace(u,"")},withQuery:function(e,t){var n=p.extractQuery(e);n&&(t=t?o(n,t):n);var i=t&&s.stringify(t);return i?p.withoutQuery(e)+"?"+i:e},isAbsolute:function(e){return"/"===e.charAt(0)},normalize:function(e){return e.replace(/^\/*/,"/")},join:function(e,t){return e.replace(/\/*$/,"/")+t}};e.exports=p},function(e,t,n){"use strict";function i(e,t){return null==t||r.hasBooleanValue[e]&&!t||r.hasNumericValue[e]&&isNaN(t)||r.hasPositiveNumericValue[e]&&1>t||r.hasOverloadedBooleanValue[e]&&t===!1}var r=n(39),o=n(118),s=n(287),a=n(11),l=s(function(e){return o(e)+'="'}),c={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},u={},d=function(e){if(!(c.hasOwnProperty(e)&&c[e]||u.hasOwnProperty(e)&&u[e])){u[e]=!0;var t=e.toLowerCase(),n=r.isCustomAttribute(t)?t:r.getPossibleStandardName.hasOwnProperty(t)?r.getPossibleStandardName[t]:null;
a(null==n,"Unknown DOM property "+e+". Did you mean "+n+"?")}},p={createMarkupForID:function(e){return l(r.ID_ATTRIBUTE_NAME)+o(e)+'"'},createMarkupForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){if(i(e,t))return"";var n=r.getAttributeName[e];return r.hasBooleanValue[e]||r.hasOverloadedBooleanValue[e]&&t===!0?o(n):l(n)+o(t)+'"'}return r.isCustomAttribute(e)?null==t?"":l(e)+o(t)+'"':(d(e),null)},setValueForProperty:function(e,t,n){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var o=r.getMutationMethod[t];if(o)o(e,n);else if(i(t,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute[t])e.setAttribute(r.getAttributeName[t],""+n);else{var s=r.getPropertyName[t];r.hasSideEffects[t]&&""+e[s]==""+n||(e[s]=n)}}else r.isCustomAttribute(t)?null==n?e.removeAttribute(t):e.setAttribute(t,""+n):d(t)},deleteValueForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var n=r.getMutationMethod[t];if(n)n(e,void 0);else if(r.mustUseAttribute[t])e.removeAttribute(r.getAttributeName[t]);else{var i=r.getPropertyName[t],o=r.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects[t]&&""+e[i]===o||(e[i]=o)}}else r.isCustomAttribute(t)?e.removeAttribute(t):d(t)}};e.exports=p},function(e,t,n){"use strict";function i(){var e=!p||!p.traverseTwoPhase||!p.traverseEnterLeave;if(e)throw new Error("InstanceHandle not injected before use!")}var r=n(260),o=n(109),s=n(115),a=n(119),l=n(3),c={},u=null,d=function(e){if(e){var t=o.executeDispatch,n=r.getPluginModuleForEvent(e);n&&n.executeDispatch&&(t=n.executeDispatch),o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},p=null,h={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){p=e,i()},getInstanceHandle:function(){return i(),p},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){l(!n||"function"==typeof n,"Expected %s listener to be a function, instead got type %s",t,typeof n);var i=c[t]||(c[t]={});i[e]=n},getListener:function(e,t){var n=c[t];return n&&n[e]},deleteListener:function(e,t){var n=c[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in c)delete c[t][e]},extractEvents:function(e,t,n,i){for(var o,a=r.plugins,l=0,c=a.length;c>l;l++){var u=a[l];if(u){var d=u.extractEvents(e,t,n,i);d&&(o=s(o,d))}}return o},enqueueEvents:function(e){e&&(u=s(u,e))},processEventQueue:function(){var e=u;u=null,a(e,d),l(!u,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented.")},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=h},function(e,t,n){"use strict";var i=n(51),r=n(109),o=n(262),s=n(54),a=n(24),l=n(111),c=n(42),u=n(9),d=n(112),p=n(36),h=n(263),f=n(485),m=n(55),g=n(62),v=n(20),b=n(266),y=n(27),w=n(273),_=n(493),x=n(114),k=n(7),T=n(117),C=n(288);f.inject();var D=u.createElement,E=u.createFactory;D=d.createElement,E=d.createFactory,D=g.wrapCreateElement(D),E=g.wrapCreateFactory(E);var M=y.measure("React","render",v.render),L={Children:{map:o.map,forEach:o.forEach,count:o.count,only:C},DOM:p,PropTypes:w,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:a.createClass,createElement:D,createFactory:E,constructAndRenderComponent:v.constructAndRenderComponent,constructAndRenderComponentByID:v.constructAndRenderComponentByID,render:M,renderToString:_.renderToString,renderToStaticMarkup:_.renderToStaticMarkup,unmountComponentAtNode:v.unmountComponentAtNode,isValidClass:g.isValidClass,isValidElement:u.isValidElement,withContext:l.withContext,__spread:k,renderComponent:T("React","renderComponent","render",this,M),renderComponentToString:T("React","renderComponentToString","renderToString",this,_.renderToString),renderComponentToStaticMarkup:T("React","renderComponentToStaticMarkup","renderToStaticMarkup",this,_.renderToStaticMarkup),isValidComponent:T("React","isValidComponent","isValidElement",this,u.isValidElement)};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({Component:s,CurrentOwner:c,DOMComponent:h,DOMPropertyOperations:i,InstanceHandles:m,Mount:v,MultiChild:b,TextComponent:x});var j=n(10);if(j.canUseDOM&&window.top===window.self){navigator.userAgent.indexOf("Chrome")>-1&&"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools");for(var S=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],N=0;N<S.length;N++)if(!S[N]){console.error("One or more ES5 shim/shams expected by React are not available: http://fb.me/react-warning-polyfills");break}}L.version="0.12.2",e.exports=L},function(e,t,n){"use strict";var i=n(9),r=n(269),o=n(21),s=n(7),a=n(3),l=n(56),c=l({MOUNTED:null,UNMOUNTED:null}),u=!1,d=null,p=null,h={injection:{injectEnvironment:function(e){a(!u,"ReactComponent: injectEnvironment() can only be called once."),p=e.mountImageIntoNode,d=e.unmountIDFromEnvironment,h.BackendIDOperations=e.BackendIDOperations,u=!0}},LifeCycle:c,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===c.MOUNTED},setProps:function(e,t){var n=this._pendingElement||this._currentElement;this.replaceProps(s({},n.props,e),t)},replaceProps:function(e,t){a(this.isMounted(),"replaceProps(...): Can only update a mounted component."),a(0===this._mountDepth,"replaceProps(...): You called `setProps` or `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."),this._pendingElement=i.cloneAndReplaceProps(this._pendingElement||this._currentElement,e),o.enqueueUpdate(this,t)},_setPropsInternal:function(e,t){var n=this._pendingElement||this._currentElement;this._pendingElement=i.cloneAndReplaceProps(n,s({},n.props,e)),o.enqueueUpdate(this,t)},construct:function(e){this.props=e.props,this._owner=e._owner,this._lifeCycleState=c.UNMOUNTED,this._pendingCallbacks=null,this._currentElement=e,this._pendingElement=null},mountComponent:function(e,t,n){a(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. Make sure to avoid storing components between renders or reusing a single component instance in multiple places.",e);var i=this._currentElement.ref;if(null!=i){var o=this._currentElement._owner;r.addComponentAsRefTo(this,i,o)}this._rootNodeID=e,this._lifeCycleState=c.MOUNTED,this._mountDepth=n},unmountComponent:function(){a(this.isMounted(),"unmountComponent(): Can only unmount a mounted component.");var e=this._currentElement.ref;null!=e&&r.removeComponentAsRefFrom(this,e,this._owner),d(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=c.UNMOUNTED},receiveComponent:function(e,t){a(this.isMounted(),"receiveComponent(...): Can only update a mounted component."),this._pendingElement=e,this.performUpdateIfNecessary(t)},performUpdateIfNecessary:function(e){if(null!=this._pendingElement){var t=this._currentElement,n=this._pendingElement;this._currentElement=n,this.props=n.props,this._owner=n._owner,this._pendingElement=null,this.updateComponent(e,t)}},updateComponent:function(e,t){var n=this._currentElement;(n._owner!==t._owner||n.ref!==t.ref)&&(null!=t.ref&&r.removeComponentAsRefFrom(this,t.ref,t._owner),null!=n.ref&&r.addComponentAsRefTo(this,n.ref,n._owner))},mountComponentIntoNode:function(e,t,n){var i=o.ReactReconcileTransaction.getPooled();i.perform(this._mountComponentIntoNode,this,e,t,i,n),o.ReactReconcileTransaction.release(i)},_mountComponentIntoNode:function(e,t,n,i){var r=this.mountComponent(e,n,0);p(r,t,i)},isOwnedBy:function(e){return this._owner===e},getSiblingByRef:function(e){var t=this._owner;return t&&t.refs?t.refs[e]:null}}};e.exports=h},function(e,t,n){"use strict";function i(e){return h+e.toString(36)}function r(e,t){return e.charAt(t)===h||t===e.length}function o(e){return""===e||e.charAt(0)===h&&e.charAt(e.length-1)!==h}function s(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function a(e){return e?e.substr(0,e.lastIndexOf(h)):""}function l(e,t){if(p(o(e)&&o(t),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",e,t),p(s(e,t),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",e,t),e===t)return e;for(var n=e.length+f,i=n;i<t.length&&!r(t,i);i++);return t.substr(0,i)}function c(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var i=0,s=0;n>=s;s++)if(r(e,s)&&r(t,s))i=s;else if(e.charAt(s)!==t.charAt(s))break;var a=e.substr(0,i);return p(o(a),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",e,t,a),a}function u(e,t,n,i,r,o){e=e||"",t=t||"",p(e!==t,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",e);var c=s(t,e);p(c||s(e,t),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",e,t);for(var u=0,d=c?a:l,h=e;;h=d(h,t)){var f;if(r&&h===e||o&&h===t||(f=n(h,c,i)),f===!1||h===t)break;p(u++<m,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",e,t)}}var d=n(275),p=n(3),h=".",f=h.length,m=100,g={createReactRootID:function(){return i(d.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===h&&e.length>1){var t=e.indexOf(h,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,i,r){var o=c(e,t);o!==e&&u(e,o,n,i,!1,!0),o!==t&&u(o,t,n,r,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(u("",e,t,n,!0,!1),u(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){u("",e,t,n,!0,!1)},_getFirstCommonAncestorID:c,_getNextDescendantID:l,isAncestorIDOf:s,SEPARATOR:h};e.exports=g},function(e,t,n){"use strict";var i=n(3),r=function(e){var t,n={};i(e instanceof Object&&!Array.isArray(e),"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=r},function(e,t,n){"use strict";var i=n(5),r=n(141),o=n(366),s=n(30),a=r({createNotification:function(e,t){o.create(t).then(function(t){a.createNotificationCompleted(e,t),s.fetchNotifications()}).fail(i.partial(a.createNotificationFailed,e))},expireNotification:function(e){e.expiresDate=new Date,o.update(e).then(function(e){a.expireNotificationCompleted(e),s.fetchNotifications()}).fail(a.expireFailed)},fetchActive:function(){o.fetchActive().then(a.fetchActiveCompleted).fail(a.fetchActiveFailed)},fetchPast:function(e){var t;e&&e.nextLink&&(t=e.nextLink),o.fetchPast(t).then(a.fetchPastCompleted).fail(a.fetchPastFailed)}});e.exports=a},function(e,t,n){"use strict";n(543),n(540),w2utils.settings.dataType="RESTFULL";var i=n(1),r=n(6),o=n(29),s=n(38),a=n(5),l=n(94),c=n(134),u=c.DeleteConfirmation,d=n(14),p=d.FOCUSABLE_ELEMENTS,h=n(137),f=i.createClass({displayName:"CreateEditModal",propTypes:{title:i.PropTypes.string.isRequired},render:function(){return this.transferPropsTo(i.createElement(s,{ref:"modal",confirm:"Save",cancel:"Cancel",size:"small",title:this.props.title,onShown:this.onShown},this.props.children))},onShown:function(){var e=r(this.getDOMNode()).find(p).not(":disabled").get(0);if(e){var t=r(e).focus();("INPUT"===e.tagName||"TEXTAREA"===e.tagName)&&t.val(t.val())}},close:function(){this.refs.modal.close()}}),m=i.createClass({displayName:"Crud",mixins:[h],propTypes:{title:i.PropTypes.string.isRequired,getDisplayName:i.PropTypes.func.isRequired,url:i.PropTypes.string.isRequired,Schema:i.PropTypes.func.isRequired,form:i.PropTypes.oneOfType([i.PropTypes.func,i.PropTypes.shape({fields:i.PropTypes.object.isRequired})]).isRequired,grid:i.PropTypes.shape({columns:i.PropTypes.array.isRequired})},getInitialState:function(){return{adding:!1,editing:!1,deleting:!1,records:[],formState:null}},render:function(){return i.createElement("div",null,i.createElement("section",{ref:"grid"}),this.state.adding&&this.renderCreateForm(),this.state.editing&&this.renderEditForm(),this.state.deleting&&this.renderDeleteConfirmation())},onFormChange:function(){this.state.formState=this.refs.form.getValue()},_renderCreateEditForm:function(e,t,n){var r=this,s=a.cloneDeep(t),l=s.fields||(s.fields={});this.state.errors&&Object.keys(this.state.errors).forEach(function(e){l[e]=a.assign(l[e]||{},{message:this.state.errors[e],hasError:!0})}.bind(this)),Object.keys(l).forEach(function(e){var t=l[e];t.onChange=r.onFormChange});var c=o.form.createForm(this.props.Schema,s);return i.createElement(f,{ref:"modal",title:e,onHidden:this.resetState,onConfirm:n},i.createElement("form",null,i.createElement(c,{ref:"form"})))},renderCreateForm:function(){var e="Create "+this.props.title,t=a.assign({auto:"labels",value:this.state.formState},a.isFunction(this.props.form)?this.props.form():this.props.form);return this._renderCreateEditForm(e,t,this.onCreate)},renderEditForm:function(){var e="Edit "+this.props.title,t=this.state.formState||this.getSelectedRecord(),n=a.assign({auto:"labels",value:t},a.isFunction(this.props.form)?this.props.form(t):this.props.form);return this._renderCreateEditForm(e,n,this.onEdit)},renderDeleteConfirmation:function(){var e=this.props.title.toLowerCase(),t=this.props.getDisplayName(this.getSelectedRecord());return i.createElement(u,{ref:"modal",kind:e,title:t,errorMessage:this.state.errorMessage,onHidden:this.resetState,onDelete:this.onDelete})},getSelectedId:function(){return this.grid.getSelection()[0]},getSelectedRecord:function(){return a.find(this.records,{id:this.getSelectedId()})},getUrlWithoutParams:function(){return this.props.url.replace(/\?.*/,"")},onCreate:function(){var e=this.refs.form.getValue(),t=this.props.onCreate||this._onCreate;return e?t(e):void 0},_onCreate:function(e){return r.ajax({url:this.getUrlWithoutParams(),type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(e)}).done(this.reload).fail(this.handleError)},onEdit:function(){var e=this.refs.form.getValue(),t=this.props.onEdit||this._onEdit;return e?t(e):void 0},_onEdit:function(e){var t=this.getSelectedId();return r.ajax({url:this.getUrlWithoutParams()+"/"+t,type:"put",dataType:"json",contentType:"application/json",data:JSON.stringify(e)}).done(this.reload).fail(this.handleError)},onDelete:function(){var e=this.getSelectedId();r.ajax({url:this.getUrlWithoutParams()+"/"+e,type:"delete",dataType:"json",contentType:"application/json"}).done(this.reload).fail(this.handleError)},reload:function(){this.grid.reload(),this.refs.modal.close()},resetState:function(){this.setState(this.getInitialState()),this.props.onResetState&&this.props.onResetState()},componentDidMount:function(){var e=a.assign({recid:"id",name:l(),fixedBody:!1,multiSelect:!1,show:{toolbar:!0,toolbarAdd:!0,toolbarEdit:!0,toolbarDelete:!0,toolbarSearch:!1,toolbarReload:!1,toolbarColumns:!1},buttons:{add:{icon:"icon-square-plus"},edit:{icon:"fa fa-pencil"},"delete":{icon:"fa fa-trash-o"}},url:this.props.url,parser:function(e){var t=JSON.parse(e);return this.records=t.total>0?[].concat(t._embedded.item):[],{total:this.records.length,records:this.records}}.bind(this),getCellValue:function(){var e=w2obj.grid.prototype.getCellValue.apply(this.grid,arguments);return a.escape(e)}.bind(this),onAdd:function(e){e.preventDefault(),this.setState({adding:!0,editing:!1,deleting:!1})}.bind(this),onEdit:function(e){e.preventDefault(),this.setState({adding:!1,editing:!0,deleting:!1})}.bind(this),onDelete:function(e){e.preventDefault(),this.setState({adding:!1,editing:!1,deleting:!0})}.bind(this)},this.props.grid);this.grid=r(this.refs.grid.getDOMNode()).w2grid(e)},componentWillUnmount:function(){this.grid.destroy()}});e.exports=m},function(e,t,n){"use strict";function i(e){return e=e||{},d.forEach(function(t){this[t]=e[t]}.bind(this)),this.intents=this.intents||[],this.screenshots=this.screenshots||[],this.categories=this.categories||[],this.contacts=this.contacts||[],this.docUrls=this.docUrls||[],this.owners=this.owners||[],this.tags=this.tags||[],this.changeLogs=[],this}function r(e){return new l(e,i).getItemAsList()}var o=n(6),s=n(5),a=n(84),l=n(144),c=n(13),u=c.API_URL,d=["id","title","description","descriptionShort","screenshots","contacts","totalComments","avgRate","totalRate1","totalRate2","totalRate3","totalRate4","height","width","totalRate5","totalVotes","state","tags","type","uuid","requirements","singleton","versionName","imageLargeUrl","imageSmallUrl","imageMediumUrl","imageXlargeUrl","launchUrl","company","whatIsNew","owners","agency","agencyShort","currentRejection","isEnabled","categories","releaseDate","editedDate","intents","docUrls","approvalStatus","isFeatured","smallIconId","largeIconId","bannerIconId","featuredBannerIconId"],p=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}(),h={getFeatured:function(){return o.getJSON(u+"/api/listing/search?isFeatured=true&sort=avgRate&order=DESC&max=24").then(r)},getNewArrivals:function(){return o.getJSON(u+"/api/listing/search?sort=approvedDate&order=DESC&max=24").then(r)},getMostPopular:function(){return o.getJSON(u+"/api/listing/search?sort=avgRate&order=DESC&max=36").then(r)},search:function(e){var t=o.param(e,!0);return o.getJSON(u+"/api/listing/search?"+t).then(function(t){if(e.categories&&e.categories.length>0)for(var n=0;n<e.categories.length;n++)a.trackCategorization("Categorization",e.categories[n],t.total);else p(function(){var n=e.queryString.replace(/[*]$/,"");a.trackSiteSearch("Application Search",n,t.total)},800);return t}).then(r)},getById:function(e){return o.getJSON(u+"/api/listing/"+e)},save:function(e){var t=e.id?"PUT":"POST",n=u+"/api/listing";return n=e.id?n+"/"+e.id:n,o.ajax({type:t,url:n,data:JSON.stringify(e),dataType:"json",contentType:"application/json"})},del:function(e){return o.ajax({type:"DELETE",url:u+"/api/listing/"+encodeURIComponent(e)})},getChangeLogs:function(e){return o.getJSON(u+"/api/listing/"+e+"/activity").then(function(e){return new l(e).getItemAsList()})},fetchReviews:function(e){return o.getJSON(u+"/api/listing/"+e+"/itemComment").then(function(e){return new l(e).getItemAsList()})},saveReview:function(e,t){var n=u+"/api/listing/"+e+"/itemComment",i="POST";return t.id&&(i="PUT",n+="/"+t.id),t.rate||(t.rate=1),o.ajax({type:i,url:n,data:JSON.stringify(t),dataType:"json",contentType:"application/json"})},deleteReview:function(e,t){return o.ajax({type:"DELETE",url:u+"/api/listing/"+e+"/itemComment/"+t,dataType:"json",contentType:"application/json"})},getOwnedListings:function(e){var t=e?e.id:"self";return o.getJSON(u+"/api/profile/"+t+"/listing").then(r)},rejectListing:function(e,t){return o.ajax({type:"POST",url:u+"/api/listing/"+e+"/rejectionListing",data:JSON.stringify({description:t}),dataType:"json",contentType:"application/json"})},getAllListings:function(e,t){return s.isString(e)||(e=u+"/api/listing?"+o.param(t)),o.getJSON(e).then(function(e){return new l(e,i)})},getAllChangeLogs:function(e,t,n){return s.isString(t)||(t=e.isAdmin()||"ORG_STEWARD"===e.highestRole?u+"/api/listing/activity?"+o.param(n):u+"/api/profile/"+e.id+"/listing/activity?"+o.param(n)),o.getJSON(t).then(function(e){return new l(e)})}};e.exports.Listing=i,e.exports.ListingApi=h},function(e,t,n){var i=n(1),r=i.createClass({displayName:"RadioGroup",getInitialState:function(){return{defaultValue:this.props.defaultValue}},componentDidMount:function(){this.setRadioNames(),this.setCheckedRadio()},componentDidUpdate:function(){this.setRadioNames(),this.setCheckedRadio()},render:function(){return this.transferPropsTo(i.createElement("div",{onChange:this.props.onChange},this.props.children))},setRadioNames:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)e[t].setAttribute("name",this.props.name)},getRadios:function(){return this.getDOMNode().querySelectorAll('input[type="radio"]')},setCheckedRadio:function(){for(var e=this.getRadios(),t=null!=this.props.value?this.props.value:this.state.defaultValue,n=0,i=e.length;i>n;n++){var r=e[n];r.value==t&&(r.checked=!0)}},getCheckedValue:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)if(e[t].checked)return e[t].value;return null}});e.exports=r},function(e,t,n){var i=n(3),r=n(10).canUseDOM,o={back:function(){i(r,"Cannot use History.back without a DOM"),o.length-=1,window.history.back()},length:1};e.exports=o},function(e,t,n){"use strict";function i(){if(f._isLegacyCallWarningEnabled){var e=a.current,t=e&&e.constructor?e.constructor.displayName:"";t||(t="Something"),d.hasOwnProperty(t)||(d[t]=!0,u(!1,t+" is calling a React component directly. Use a factory or JSX instead. See: http://fb.me/react-legacyfactory"),c("react_legacy_factory_call",{version:3,name:t}))}}function r(e){var t=e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent;if(t)u(!1,"Did not expect to get a React class here. Use `Component` instead of `Component.type` or `this.constructor`.");else{if(!e._reactWarnedForThisType){try{e._reactWarnedForThisType=!0}catch(n){}c("react_non_component_in_jsx",{version:3,name:e.name})}u(!1,"This JSX uses a plain function. Only React components are valid in React's JSX transform.")}}function o(e){u(!1,"Do not pass React.DOM."+e.type+' to JSX or createFactory. Use the string "'+e.type+'" instead.')}function s(e,t){if("function"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if("function"==typeof i){var r=i.bind(t);for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);e[n]=r}else e[n]=i}}var a=n(42),l=n(3),c=n(81),u=n(11),d={},p={},h={},f={};f.wrapCreateFactory=function(e){var t=function(t){return"function"!=typeof t?e(t):t.isReactNonLegacyFactory?(o(t),e(t.type)):t.isReactLegacyFactory?e(t.type):(r(t),t)};return t},f.wrapCreateElement=function(e){var t=function(t){if("function"!=typeof t)return e.apply(this,arguments);var n;return t.isReactNonLegacyFactory?(o(t),n=Array.prototype.slice.call(arguments,0),n[0]=t.type,e.apply(this,n)):t.isReactLegacyFactory?(t._isMockFunction&&(t.type._mockedReactClassConstructor=t),n=Array.prototype.slice.call(arguments,0),n[0]=t.type,e.apply(this,n)):(r(t),t.apply(null,Array.prototype.slice.call(arguments,1)))};return t},f.wrapFactory=function(e){l("function"==typeof e,"This is suppose to accept a element factory");var t=function(){return i(),e.apply(this,arguments)};return s(t,e.type),t.isReactLegacyFactory=p,t.type=e.type,t},f.markNonLegacyFactory=function(e){return e.isReactNonLegacyFactory=h,e},f.isValidFactory=function(e){return"function"==typeof e&&e.isReactLegacyFactory===p},f.isValidClass=function(e){return u(!1,"isValidClass is deprecated and will be removed in a future release. Use a more specific validator instead."),f.isValidFactory(e)},f._isLegacyCallWarningEnabled=!0,e.exports=f},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(37),o=n(122),s={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(i,s),e.exports=i},function(e){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";var i=n(4),r=n(84),o=i.createActions(["fetchLibrary","addToLibrary","removeFromLibrary"]);o.addToLibrary.listen(function(e){r.trackEvent("Favorited Applications",e.title)}),e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(372),o=n(302),s=n(90),a=n(85),l=n(13),c=l.HUD_URL,u=l.METRICS_URL,d=l.WEBTOP_URL,p=l.DEVELOPER_RESOURCES_URL,h=n(19),f=i.createClass({displayName:"NavBar",mixins:[h],getInitialState:function(){return{showHelp:!1}},render:function(){var e=this.isAdmin()||this.isOrgSteward()?i.createElement("li",null,i.createElement("a",{href:u},i.createElement("i",{className:"icon-bar-graph-2"}),"Metrics")):"";return i.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top",id:"globalNav"},i.createElement("div",{className:"container-fluid container",id:"centered"},i.createElement("div",{className:"navbar-left"},i.createElement("ul",{className:"nav navbar-nav"},i.createElement("li",null,i.createElement("a",{className:"lrg",href:c},i.createElement("i",{className:"icon-home"}))),i.createElement("li",{className:"active"},i.createElement("a",{className:"lrg",href:"#/home"},i.createElement("i",{className:"icon-shopping activeIcon"}))),i.createElement("li",null,i.createElement("a",{className:"lrg",href:d},i.createElement("i",{className:"icon-layout"}))))),i.createElement("div",{className:"navbar-right"},i.createElement("ul",{className:"nav navbar-nav"},i.createElement(r,null),i.createElement("li",null,i.createElement("a",{onClick:this.showHelpModal},i.createElement("i",{className:"icon-question"}))),i.createElement("li",{className:"dropdown"},i.createElement("a",{href:"#",className:"lrg","data-toggle":"dropdown"},i.createElement("i",{className:"icon-menu"})),i.createElement("ul",{className:"dropdown-menu"},i.createElement("li",{className:"dropdown-header"},"Personalize"),i.createElement("li",null,i.createElement("a",{href:c},i.createElement("i",{className:"icon-ribbon"}),"Bookmarks")),i.createElement("li",null,i.createElement(s,{profileId:"self"},i.createElement("i",{className:"icon-head"}),"Profile")),i.createElement("li",null,i.createElement(a,{queryParams:{settings:!0}},i.createElement("i",{className:"icon-cog"}),"Settings")),i.createElement("li",{className:"divider"}),i.createElement("li",{className:"dropdown-header"},"Create"),i.createElement("li",null,i.createElement("a",{href:"#/edit"},i.createElement("i",{className:"icon-square-plus"}),"Submit a Listing")),i.createElement("li",null,i.createElement("a",{href:p},i.createElement("i",{className:"icon-cloud"}),"Developer Resources")),i.createElement("li",{className:"divider"}),i.createElement("li",{className:"dropdown-header"},"Manage"),i.createElement("li",null,i.createElement("a",{href:"#/user-management/my-listings"},i.createElement("i",{className:"icon-layers"}),"Listing Management")),this.isAdmin()&&i.createElement("li",null,i.createElement("a",{href:"#/mall-management/categories"},i.createElement("i",{className:"icon-shopping-settings"}),"Marketplace Settings")),e))))),this.state.showHelp&&i.createElement(o,{onHidden:this.onModalHidden}))},isOrgSteward:function(){return"ORG_STEWARD"===this.state.currentUser.highestRole?!0:!1},isAdmin:function(){return this.state.currentUser.isAdmin()},showHelpModal:function(){this.setState({showHelp:!0})},onModalHidden:function(){this.setState({showHelp:!1})}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(321),s=n(360),a=i.createClass({displayName:"Header",mixins:[r.connect(s,"bodyPaddingRight")],getInitialState:function(){return{bodyPaddingRight:0}},render:function(){var e={paddingRight:this.state.bodyPaddingRight};return i.createElement("div",{id:"header",style:e},i.createElement("div",{className:"row"},i.createElement(o,null),this.props.children),i.createElement("div",{className:"row"},i.createElement("div",{className:"spacer"})),this.props.subHeader)}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=i,o=r.PropTypes,s=i.createClass({displayName:"LoadMore",propTypes:{children:o.arrayOf(o.element).isRequired,hasMore:o.bool.isRequired,onLoadMore:o.func.isRequired},render:function(){return this.transferPropsTo(i.createElement("div",{className:"LoadMore"},this.renderList(),this.renderLoadMoreButton()))},renderList:function(){var e=this.props,t=e.children;return t&&t.length>0?i.createElement("ol",{className:"list-unstyled"},this.props.children):i.createElement("h5",{style:{marginTop:0}},"No results found!")},renderLoadMoreButton:function(){return this.props.hasMore?i.createElement("div",{className:"text-center LoadMore__Toolbar"},i.createElement("button",{className:"btn btn-default LoadMore__Button",onClick:this.props.onLoadMore},"Load More")):void 0}});e.exports=s},function(e,t,n){"use strict";function i(){var e=I.screenshots.map(function(e){return u.omit(e,"smallImage","largeImage","smallImageUrl","largeImageUrl")}),t=u.omit(I,"imageSmallUrl","imageMediumUrl","imageLargeUrl","imageXlargeUrl","smallIcon","largeIcon","bannerIcon","featuredBannerIcon","screenshots"),n=Object.assign(t,{screenshots:e});return n}function r(e){e&&window.URL&&0===e.indexOf("blob:")&&URL.revokeObjectURL(e)}function o(e,t,n){var i=t[0];if(1===t.length){var s=F[i],a=e[s];r(a),e[s]=n,e[i+"Id"]=null}else o(e[i],t.slice(1),n)}function s(e,t,n){if(1===t.length)e[t[0]]=n;else{var i=e[t[0]];void 0===i&&(e[t[0]]=i={}),s(i,t.slice(1),n)}}function a(){return f.getSystem()}function l(){if(I){var e=Object.keys(Y).map(function(e){return Y[e]}),t=Object.keys(z).map(function(e){return z[e]});e.forEach(function(e){return r(I[e])}),I.screenshots.forEach(function(e){return t.forEach(function(t){return r(e[t])})})}}var c=n(6),u=n(5),d=n(4),p=d.createStore,h=n(70),f=n(93),m=n(23),g=n(82),v=n(12),b=v.save,y=n(315),w=y.validateDraft,_=y.validateFull,x=n(146),k=x.listingMessages,T=n(59),C=T.Listing,D=n(14),E=D.approvalStatus,M=n(5),L=M.cloneDeep,j=M.assign,S=n(59),N=S.ListingApi,A=n(143),$=A.ImageApi;g.systemUpdated=f,g.cacheUpdated=h;var I=null,O=!1,R={screenshots:[]},P=["smallIcon","largeIcon","bannerIcon","featuredBannerIcon","smallImage","largeImage"],Y={smallIcon:"imageSmallUrl",largeIcon:"imageMediumUrl",bannerIcon:"imageLargeUrl",featuredBannerIcon:"imageXlargeUrl"},z={smallImage:"smallImageUrl",largeImage:"largeImageUrl"},F=Object.assign({},Y,z),U=p({listenables:[g,{profileUpdate:m}],currentUser:null,refreshListing:function(e){l(),I=e,O=!1;var t=this.doValidation();this.trigger({listing:I,isValid:!0,hasChanges:!1,saveStatus:null,errors:t.errors,warnings:t.warnings,imageErrors:R})},onListingCreated:function(e){this.refreshListing(L(e))},onCacheUpdated:function(){if(I&&I.id){var e=h.getById(I.id);e&&this.refreshListing(L(e))}},onProfileUpdate:function(e){this.currentUser=e.currentUser},onUpdateListing:function(e,t){if(e.length<1||!Array.isArray(e))throw"propertyPath needs to be an array with non zero length";s(I,e,t),-1!==P.indexOf(u.last(e))&&this.updateImage(e,t);var n=this.doValidation();this.trigger({listing:I,hasChanges:!0,errors:n.errors,warnings:n.warnings,imageErrors:R})},updateImage:function(e,t){var n=window.URL&&window.Blob&&t instanceof Blob?URL.createObjectURL(t):void 0;o(I,e,n),s(R,e,null)},onSystemUpdated:function(){this.trigger(this.resolveMessages())},onSubmit:function(){var e=I.approvalStatus;I.approvalStatus="PENDING",O=!0,this._save({approvalStatus:e})},onSave:function(){O=!1,this._save()},_save:function(e){var t=this;this.trigger({saveStatus:"images"}),this.saveImages().then(function(){t.trigger({saveStatus:"listing"});var n=t.doValidation();n.isValid?b(i()):(Object.assign(I,e),t.trigger(Object.assign({saveStatus:null},n)))})},doValidation:function(){var e=E[I.approvalStatus],t=!e||e===E.IN_PROGRESS;return t&&!O?this.getDraftValidation():this.getFullValidation()},getDraftValidation:function(){var e=w(I,a()),t=e.errors,n=e.isValid;return{isValid:n,errors:t,warnings:_(I,a()).errors}},getFullValidation:function(){var e=_(I,a()),t=e.errors,n=e.isValid;return{errors:t,isValid:n,warnings:{}}},resolveMessages:function(){var e=k,t=a().contactTypes.filter(function(e){return e.required}).map(function(e){return e.title});return t.length>0&&(e["help.contacts"]="At least one contact of each of the following types must be provided: "+t.join(", ")+"."),{messages:e}},getDefaultData:function(){return j({},this.resolveMessages(),{listing:I,imageErrors:R})},currentUserCanEdit:function(){return this.currentUser&&this.currentUser.canEdit(I)},getChangeLogs:function(){return h.getChangeLogsForListing(I.id)
},getReviews:function(){return h.getReviewsForListing(I)},loadListing:function(e){var t=c.Deferred(),n=t.promise();if(e){var i=h.getCache()[e];i?(this.refreshListing(L(i)),t.resolve(I)):N.getById(e).then(function(e){this.refreshListing(new C(e)),t.resolve(I)}.bind(this))}else this.refreshListing(new C({owners:[this.currentUser]})),t.resolve(I);return n},saveImages:function(){function e(e,n){var i=e?$.save(e):null;return i&&i.fail(t.handleImageSaveFailure.bind(t,n)),i}R={screenshots:[]};var t=this,n=I,i=n.smallIcon,r=n.largeIcon,o=n.bannerIcon,s=n.featuredBannerIcon,a=n.screenshots,l=e(i,"smallIcon"),d=e(r,"largeIcon"),p=e(o,"bannerIcon"),h=e(s,"featuredBannerIcon"),f=u.flatten(a.map(function(t,n){return[e(t.smallImage,["screenshots",n,"smallImage"]),e(t.largeImage,["screenshots",n,"largeImage"])]})),m=[l,d,p,h].concat(f);return c.when.apply(c,m).then(t.handleImageSaveResponses.bind(t))},handleImageSaveResponses:function(e,t,n,i){for(var r=[],o=4,s=arguments.length;s>o;o++)r.push(arguments[o]);var a=u.values(u.groupBy(r,function(e,t){return Math.floor(t/2)})),l=a.map(function(e){return{smallImageResponse:e[0],largeImageResponse:e[1]}});e&&(I.smallIcon=null,I.smallIconId=e.id,I[Y.smallIcon]=e._links.self.href),t&&(I.largeIcon=null,I.largeIconId=t.id,I[Y.largeIcon]=t._links.self.href),n&&(I.banner=null,I.bannerIconId=n.id,I[Y.bannerIcon]=n._links.self.href),i&&(I.featuredBannerIcon=null,I.featuredBannerIconId=i.id,I[Y.featuredBannerIcon]=i._links.self.href),I.screenshots=u.zip(I.screenshots,l).map(function(e){var t=e[0],n=e[1],i=n?n.smallImageResponse:null,r=n?n.largeImageResponse:null,o=Object.assign({},t);return i&&(o.smallImage=null,o.smallImageId=i.id,o[z.smallImage]=i._links.self.href),r&&(o.largeImage=null,o.largeImageId=r.id,o[z.largeImage]=r._links.self.href),o})},handleImageSaveFailure:function(e,t,n,i){var r=t.responseJSON,o=r?r.message:null,a=o||i||"Unknown error saving image";u.isArray(e)||(e=[e]),s(R,e,a),this.trigger({imageErrors:R,saveStatus:null})}});e.exports=U},function(e,t,n){"use strict";function i(e){e.forEach(function(e){var t=c[e.id];t&&(e.changeLogs=t.changeLogs),c[e.id]=e,e.owners.forEach(function(t){var n=u[t.username]||[];n=n.filter(function(t){return t.id!==e.id}),u[t.username]=n.concat([e])})})}var r=n(4),o=n(12),s=n(82),a=s.listingCreated,l=n(59).Listing,c={},u={},d=[],p={},h={},f=r.createStore({init:function(){this.listenTo(o.fetchNewArrivalsCompleted,i),this.listenTo(o.fetchMostPopularCompleted,i),this.listenTo(o.fetchFeaturedCompleted,i),this.listenTo(o.searchCompleted,i),this.listenTo(o.fetchAllListingsCompleted,function(e,t){var n=t.getItemAsList();i(n),d=(d||[]).concat(n),this.trigger()}),this.listenTo(o.fetchChangeLogsCompleted,function(e,t){p[e]=t,this.trigger()}),this.listenTo(o.fetchReviewsCompleted,function(e,t){h[e]=t,this.trigger()}),this.listenTo(o.fetchOwnedListingsCompleted,i),this.listenTo(o.saveCompleted,function(e,t){var n=new l(t);i([n]),e&&a(n),o.fetchChangeLogs(n.id),this.trigger()}),this.listenTo(o.rejectCompleted,function(e){var t=c[e.listingId];t.currentRejection=e,t.approvalStatus="REJECTED",o.fetchChangeLogs(t.id),this.trigger()}),this.listenTo(o.fetchByIdCompleted,function(e){i([new l(e)]),this.trigger()})},getById:function(e){return c[e]?c[e]:(o.fetchById(e),null)},getCache:function(){return c},getByOwner:function(e){return u[e.username]},getAllListings:function(){return d},getChangeLogsForListing:function(e){return p[e]?p[e]:(o.fetchChangeLogs(e),null)},getReviewsForListing:function(e){return h[e.id]?h[e.id]:(o.fetchReviews(e),null)}});e.exports=f},function(e){"use strict";function t(e){e?this.$PaginatedList_update(e):(this.total=0,this.nextLink=null,this.hasMore=!0,this.isFetching=!1,this.data=[],this.counts=null)}t.prototype.receivePage=function(e){this.$PaginatedList_update(e)},t.prototype.$PaginatedList_update=function(e){this.total=e.total,this.nextLink=e.nextLink(),this.hasMore=!!this.nextLink,this.isFetching=!1,this.data=this.data?this.data.concat(e.getItemAsList()):e.getItemAsList(),this.counts=e.getResponse().counts?e.getResponse().counts:{},this.counts.total=e.getResponse().total},t.prototype.expectPage=function(){this.isFetching=!0},e.exports=t},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var n,i,r,o=t(e),s=1;s<arguments.length;s++){i=arguments[s],r=Object.keys(Object(i));for(var a=0;a<r.length;a++)try{o[r[a]]=i[r[a]]}catch(l){void 0===n&&(n=l)}}if(n)throw n;return o}},function(e){var t={PUSH:"push",REPLACE:"replace",POP:"pop"};e.exports=t},function(e,t,n){var i=n(3),r={render:function(){i(!1,"%s elements should not be rendered",this.constructor.displayName)}};e.exports=r},function(e){var t={falsy:function(e,t,n){return e[t]?new Error("<"+n+'> may not have a "'+t+'" prop'):void 0}};e.exports=t},function(e,t,n){"use strict";var i=n(280),r={componentDidMount:function(){this.props.autoFocus&&i(this.getDOMNode())}};e.exports=r},function(e,t,n){"use strict";function i(){return c(a,"Trying to return null from a render, but no null placeholder component was injected."),a()}function r(e){u[e]=!0}function o(e){delete u[e]}function s(e){return u[e]}var a,l=n(9),c=n(3),u={},d={injectEmptyComponent:function(e){a=l.createFactory(e)}},p={deregisterNullComponentID:o,getEmptyComponent:i,injection:d,isNullComponentID:s,registerNullComponentID:r};e.exports=p},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(63),o=n(277),s=n(121),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";var i=n(3),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,s,a,l){i(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction.");var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,n,r,o,s,a,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(e){i(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open.");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,s=t[n],a=this.wrapperInitData[n];try{r=!0,a!==o.OBSERVED_ERROR&&s.close&&s.close.call(this,a),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";function i(e,t){var n;if(r(e&&("function"==typeof e.type||"string"==typeof e.type),"Only functions or strings can be mounted as React components."),e.type._mockedReactClassConstructor){s._isLegacyCallWarningEnabled=!1;try{n=new e.type._mockedReactClassConstructor(e.props)}finally{s._isLegacyCallWarningEnabled=!0}o.isValidElement(n)&&(n=new n.type(n.props));var i=n.render;if(i)return i._isMockFunction&&!i._getMockImplementation()&&i.mockImplementation(l.getEmptyComponent),n.construct(e),n;e=l.getEmptyComponent()}return n="string"==typeof e.type?a.createInstanceForTag(e.type,e.props,t):new e.type(e.props),r("function"==typeof n.construct&&"function"==typeof n.mountComponent&&"function"==typeof n.receiveComponent,"Only React Components can be mounted."),n.construct(e),n}var r=n(11),o=n(9),s=n(62),a=n(268),l=n(77);e.exports=i},function(e,t,n){"use strict";function i(e){r(e&&!/[^a-z0-9_]/.test(e),"You must provide an eventName using only the characters [a-z0-9_]")}var r=n(3);e.exports=i},function(e,t,n){"use strict";var i=n(4);e.exports=i.createActions(["listingCreated","updateListing","save","submit","saveSucceeded"])},function(e,t,n){"use strict";var i=n(4);e.exports=i.createActions(["search","searchCompleted"])},function(e){"use strict";e.exports={trackEvent:function(e,t){window._paq.push(["trackEvent",e,t])},trackCategorization:function(e,t,n){window._paq.push(["trackEvent",e,t,n])},trackSiteSearch:function(e,t,n){window._paq.push(["trackSiteSearch",t,e,n])},trackListingCreation:function(e){window._paq.push(["trackEvent","Listing Creation",e])},trackListingOrgApproval:function(e){window._paq.push(["trackEvent","Listing Org Approval",e])},trackListingApproval:function(e){window._paq.push(["trackEvent","Listing Approval",e])},trackListingReview:function(e){window._paq.push(["trackEvent","Listing Review",e])},trackListingReviewView:function(e){window._paq.push(["trackEvent","Listing Review View",e])}}},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r.Link,s=n(18),a=i.createClass({displayName:"ModalLink",mixins:[s],propTypes:{queryParams:i.PropTypes.object.isRequired},getInitialState:function(){return{activeRoute:this.getActiveRoute(),routeParams:this.getParams()}},render:function(){return i.createElement(o,{to:this.state.activeRoute.name,params:this.state.routeParams,query:this.props.queryParams},this.props.children)}});e.exports=a},function(e,t,n){(function(t){"use strict";var i=n(1);n(296);var r=i.createClass({displayName:"Carousel",propTypes:{children:i.PropTypes.array,autoInit:i.PropTypes.bool},getDefaultProps:function(){return{autoInit:!0}},render:function(){var e=this.props,t=e.className,n=function(e,t){var n={},i=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var r in e)i.call(e,r)&&!i.call(t,r)&&(n[r]=e[r]);return n}(e,{className:1}),r=[t,"carousel-wrapper"].join(" ");return i.createElement("div",i.__spread({className:r},n),i.createElement("div",{className:"carousel"},i.createElement("ul",{ref:"list",className:"list-unstyled"},this.props.children),i.createElement("div",{className:"clearfix"}),i.createElement("button",{className:"prev btn hidden",href:"#",ref:"prev"},i.createElement("i",{className:"fa fa-angle-left"})),i.createElement("button",{className:"next btn hidden",href:"#",ref:"next"},i.createElement("i",{className:"fa fa-angle-right"}))))},componentDidMount:function(){this.renderCarousel()},componentDidUpdate:function(e){e.autoInit===!1&&this.props.autoInit===!0&&this.renderCarousel()},renderCarousel:function(){if(this.props.autoInit){var e=Object.assign({prev:t(this.refs.prev.getDOMNode()),next:t(this.refs.next.getDOMNode()),auto:!1,scroll:{easing:"quadratic"}},this.props.options);this._$carousel=t(this.refs.list.getDOMNode()).carouFredSel(e,{wrapper:"parent"})}},componentWillUnmount:function(){this._$carousel&&this._$carousel.trigger("destroy")}});e.exports=r}).call(t,n(6))},function(e,t,n){"use strict";var i=n(6);n(299);var r={componentDidMount:function(){var e=i(this.refs.input.getDOMNode()),t=e.select2(this.getSelect2Options()).data("select2");e.on("change",this.onChange),e.on("select2-blur",this._onBlur),this._$select2=t,this._$input=e},componentDidUpdate:function(){this._$input.select2("val",this.props.value)},componentWillUnmount:function(){this._$input.off("change"),this._$input.off("select2-blur"),this._$select2.destroy()},onChange:function(e){e.preventDefault(),this.props.setter(e.val)}};e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(8),s=o.Link,a=o.Navigation,l=n(18),c=n(14),u=c.UserRole,d=i.createClass({displayName:"ActionMenu",mixins:[a,l],render:function(){var e,t=this.props.listing,n=this.getActiveRoutePath(),r=this.makeHref(n,this.getParams(),{listing:t.id,action:"view",tab:"overview"}),o=this.makeHref(n,this.getParams(),{listing:t.id,action:"delete"}),a=this.makeHref(n,this.getParams(),{listing:t.id,action:"feedback"}),l={listingId:t.id},c=i.createElement("li",{key:"edit"},i.createElement(s,{to:"edit",params:l},"Edit")),u=i.createElement("li",{key:"preview"},i.createElement("a",{href:r},"Preview")),d=i.createElement("li",{key:"del"},i.createElement("a",{href:o},"Delete")),p=i.createElement("li",{key:"view"},i.createElement("a",{href:r},"View")),h=i.createElement("li",{key:"feedback"},i.createElement("a",{href:a},"Read Feedback")),f=t.approvalStatus;switch(f){case"APPROVED":e=[c,p,d];break;case"APPROVED_ORG":e=[c,u,d];break;case"PENDING":e=[c,u,d];break;case"REJECTED":e=[c,h,u,d];break;case"DRAFT":default:e=[c,u,d]}return i.createElement("label",{className:"AdminOwnerListingTile__actionMenu"},i.createElement("input",{type:"checkbox"}),i.createElement("span",{className:"AdminOwnerListingTile__actionMenuButton"}),i.createElement("ul",null,e))}}),p=i.createClass({displayName:"ListingStatus",render:function(){return i.createElement("div",{className:"approvalStatus"})}}),h=i.createClass({displayName:"EditedDate",render:function(){var e=this.props.listing.editedDate,t=r(e).format("MM/DD/YY");return i.createElement("div",{className:"editedDate"},t)}}),f=i.createClass({displayName:"InfoBar",render:function(){var e=this.props.listing;return i.createElement("h5",{className:"AdminOwnerListingTile__infoBar"},i.createElement(p,{listing:e}),i.createElement("p",{className:"title"},e.title),i.createElement(h,{listing:e}))}}),m=i.createClass({displayName:"AdminOwnerListingTile",propTypes:{role:i.PropTypes.oneOf([u.ADMIN,u.ORG_STEWARD,null]),listing:i.PropTypes.object},mixins:[a,l],statics:{fromArray:function(e,t){return e.map(function(e){return i.createElement(m,{listing:e,key:e.id,role:t})})}},_getApprovalStatusClass:function(){var e,t=this.props,n=t.listing,i=t.role,r=n.approvalStatus;return e=i===u.ADMIN?{draft:"IN_PROGRESS"===r,pending:"PENDING"===r,"needs-action":"APPROVED_ORG"===r,published:"APPROVED"===r,rejected:"REJECTED"===r,AdminOwnerListingTile:!0}:i===u.ORG_STEWARD?{draft:"IN_PROGRESS"===r,pending:"APPROVED_ORG"===r,"needs-action":"PENDING"===r,published:"APPROVED"===r,rejected:"REJECTED"===r,AdminOwnerListingTile:!0}:{draft:"IN_PROGRESS"===r,pending:"PENDING"===r||"APPROVED_ORG"===r,"needs-action":"REJECTED"===r,published:"APPROVED"===r,AdminOwnerListingTile:!0}},render:function(){var e=this.props,t=e.listing,n=this.makeHref(this.getActiveRoutePath(),this.getParams(),{listing:t.id,action:"view",tab:"overview"}),r=i.addons.classSet(this._getApprovalStatusClass());return i.createElement("li",{className:r},i.createElement(d,{listing:t}),i.createElement("a",{href:n},i.createElement("img",{className:"AdminOwnerListingTile__img",src:t.imageLargeUrl})),i.createElement(f,{listing:t}))}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=i.createClass({displayName:"Sidebar",render:function(){return i.createElement("form",{className:"Listings__SidebarFilter"},this.props.children)}});e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(85),o=i.createClass({displayName:"ProfileLink",propTypes:{profileId:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]).isRequired},render:function(){var e={profile:this.props.profileId};return i.createElement(r,{queryParams:e},this.props.children)}});e.exports=o},function(e,t,n){"use strict";var i,r=n(23);r.listen(function(e){i=e.currentUser});var o=function(e){window.alert("You are not authorized to view this page."),e.redirect("/")},s={statics:{willTransitionTo:function(e){i&&i.isAdmin()||o(e)}}},a={statics:{willTransitionTo:function(e,t){var n=t,r=n.org;r&&!i.isOrgSteward(r)&&o(e)}}};e.exports.Admin=s,e.exports.OrgSteward=a},function(e,t,n){"use strict";var i=n(4),r=n(71),o=n(12),s={},a=function(e){return JSON.stringify(e)},l=i.createStore({init:function(){this.listenTo(o.fetchAllListingsCompleted,this.onFetchAllListingsCompleted),this.listenTo(o.listingChangeCompleted,this.onListingChangeCompleted)},onFetchAllListingsCompleted:function(e,t){var n=a(e),i=s[n];i?i.receivePage(t):s[n]=new r(t),this.trigger()},onListingChangeCompleted:function(){s={}},getListingsByFilter:function(e){return s[a(e)]}});e.exports=l},function(e,t,n){(function(t){"use strict";var i=n(4),r=n(364),o=r.capitalize,s=n(368),a=["types","categories","intents","contactTypes","organizations","stewards"],l={},c=i.createStore({init:function(){a.forEach(function(e){l[e]=[]}),this.loadSystem()},getSystem:function(){return l},getDefaultData:function(){return{system:l}},loadSystem:function(){var e=a.map(function(e){return s["get"+o(e)]().then(function(t){l[e]=t})});t.when.apply(t,e).then(function(){this.trigger({system:l})}.bind(this))}});e.exports=c}).call(t,n(6))},function(e){"use strict";e.exports=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)});return t}},function(e,t,n){"use strict";var i=n(6),r=n(369),o=n(13),s=o.API_URL,a={getOwnedListings:function(e){return i.getJSON(s+"/api/profile/"+encodeURIComponent(e)+"/listing").then(function(e){return[].concat((e._embedded?e._embedded.item:null)||[])})},getProfile:function(e){return i.getJSON(s+"/api/profile/"+encodeURIComponent(e))},updateProfile:function(e,t){return i.ajax({url:s+"/api/profile/"+encodeURIComponent(e),type:"put",dataType:"json",contentType:"application/json",data:JSON.stringify(t)})},fetchNotifications:function(){return i.getJSON(s+"/api/profile/self/notification").then(function(e){return new r(e,function(e){return e.expiresDate=new Date(e.expiresDate.replace("+0000","Z")),e})})},dismissNotification:function(e){return i.ajax({url:s+"/api/profile/self/notification/"+e,type:"delete"})}};e.exports=a},function(e,t,n){"use strict";var i=n(1),r=i.createClass({displayName:"_Date",propTypes:{date:i.PropTypes.instanceOf(Date).isRequired},mixins:[i.addons.PureRenderMixin],render:function(){var e=this.props,t=e.date,n=t.getDate(),r=t.getMonth()+1,o=t.getFullYear();return i.createElement("span",{className:"Date"},r+"/"+n+"/"+o)}});e.exports=r},function(e,t,n){"use strict";var i=n(1),r=i.createClass({displayName:"Time",propTypes:{date:i.PropTypes.instanceOf(Date).isRequired},mixins:[i.addons.PureRenderMixin],render:function(){var e=this.props,t=e.date,n=t.toTimeString().replace(/:\d{2} GMT-\d{4}/,"").replace(/[(|)]/g,"");return i.createElement("span",{className:"Time"},n)}});e.exports=r},function(e){function t(e){this._date=e}t.prototype.isBefore=function(e){return this._date.isBefore(e._date,"day")},t.prototype.isAfter=function(e){return this._date.isAfter(e._date,"day")},t.prototype.sameDay=function(e){return this._date.isSame(e._date,"day")},t.prototype.sameMonth=function(e){return this._date.isSame(e._date,"month")},t.prototype.day=function(){return this._date.date()},t.prototype.mapDaysInWeek=function(e){for(var n=[],i=this._date.clone().startOf("isoWeek"),r=0;7>r;r++){var o=new t(i.clone().add(r,"days"));n[r]=e(o,r)}return n},t.prototype.mapWeeksInMonth=function(e){for(var n=[],i=this._date.clone().startOf("month").startOf("isoWeek"),r=0;6>r;r++){var o=new t(i.clone().add(r,"weeks"));n[r]=e(o,r)}return n},t.prototype.weekInMonth=function(e){var t=this._date.clone(),n=this._date.clone().isoWeekday(7);return t.isSame(e._date,"month")||n.isSame(e._date,"month")},t.prototype.format=function(){return this._date.format.apply(this._date,arguments)},t.prototype.addMonth=function(){return new t(this._date.clone().add(1,"month"))},t.prototype.subtractMonth=function(){return new t(this._date.clone().subtract(1,"month"))},t.prototype.clone=function(){return new t(this._date.clone())},t.prototype.safeClone=function(e){return this._date?this.clone():(void 0===e&&(e=null),new t(e))},t.prototype.moment=function(){return this._date},e.exports=t},function(e,t,n){var i,r;i=[n(31),n(17)],r=function(e,t){function n(n,i,r){var o=-1,s=n?n.length:0;if(i=i&&"undefined"==typeof r?i:e(i,r,3),"number"==typeof s)for(;++o<s&&i(n[o],o,n)!==!1;);else t(n,i);return n}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(16),n(17)],r=function(e,t){function n(n,i,r){var o=-1,s=n?n.length:0;if(i=e(i,r,3),"number"==typeof s)for(var a=Array(s);++o<s;)a[o]=i(n[o],o,n);else a=[],t(n,function(e,t,n){a[++o]=i(e,t,n)});return a}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(418),n(33)],r=function(e,t){function n(i,r,o,s){for(var a=(s||0)-1,l=i?i.length:0,c=[];++a<l;){var u=i[a];if(u&&"object"==typeof u&&"number"==typeof u.length&&(t(u)||e(u))){r||(u=n(u,r,o));var d=-1,p=u.length,h=c.length;for(c.length+=p;++d<p;)c[h++]=u[d]}else o||c.push(u)}return c}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e,t,n){for(var i=(n||0)-1,r=e?e.length:0;++i<r;)if(e[i]===t)return i;return-1}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(46),n(165)],r=function(e,t){var n={configurable:!1,enumerable:!1,value:null,writable:!1},i=function(){try{var t={},n=e(n=Object.defineProperty)&&n,i=n(t,t,t)&&n}catch(r){}return i}(),r=i?function(e,t){n.value=t,i(e,"__bindData__",n)}:t;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(31),n(47)],r=function(e,t){var n=function(n,i,r){var o,s=n,a=s;if(!s)return a;if(!t[typeof s])return a;i=i&&"undefined"==typeof r?i:e(i,r,3);for(o in s)if(i(s[o],o,n)===!1)return a;return a};return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e){return"string"==typeof e||e&&"object"==typeof e&&i.call(e)==t||!1}var t="[object String]",n=Object.prototype,i=n.toString;return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){function i(){return l.decode(window.location.pathname+window.location.search)}function r(e){var t={path:i(),type:e};c.forEach(function(e){e(t)})}function o(){r(s.POP)}var s=n(73),a=n(61),l=n(50),c=[],u=!1,d={addChangeListener:function(e){c.push(e),u||(window.addEventListener?window.addEventListener("popstate",o,!1):window.attachEvent("popstate",o),u=!0)},removeChangeListener:function(e){for(var t=0,n=c.length;n>t;t++)if(c[t]===e){c.splice(t,1);break}window.addEventListener?window.removeEventListener("popstate",o):window.removeEvent("popstate",o),0===c.length&&(u=!1)},push:function(e){window.history.pushState({path:e},"",l.encode(e)),a.length+=1,r(s.PUSH)},replace:function(e){window.history.replaceState({path:e},"",l.encode(e)),r(s.REPLACE)},pop:a.back,getCurrentPath:i,toString:function(){return"<HistoryLocation>"}};e.exports=d},function(e,t,n){(function(e){t.arrayToObject=function(e){for(var t={},n=0,i=e.length;i>n;++n)"undefined"!=typeof e[n]&&(t[n]=e[n]);return t},t.merge=function(e,n){if(!n)return e;if(Array.isArray(n)){for(var i=0,r=n.length;r>i;++i)"undefined"!=typeof n[i]&&(e[i]="object"==typeof e[i]?t.merge(e[i],n[i]):n[i]);return e}if(Array.isArray(e)){if("object"!=typeof n)return e.push(n),e;e=t.arrayToObject(e)}for(var o=Object.keys(n),s=0,a=o.length;a>s;++s){var l=o[s],c=n[l];e[l]=c&&"object"==typeof c&&e[l]?t.merge(e[l],c):c}return e},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.compact=function(e,n){if("object"!=typeof e||null===e)return e;n=n||[];var i=n.indexOf(e);if(-1!==i)return n[i];if(n.push(e),Array.isArray(e)){for(var r=[],o=0,s=e.length;s>o;++o)"undefined"!=typeof e[o]&&r.push(e[o]);return r}for(var a=Object.keys(e),o=0,l=a.length;l>o;++o){var c=a[o];e[c]=t.compact(e[c],n)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(t){return"undefined"!=typeof e?e.isBuffer(t):!1}}).call(t,n(295).Buffer)},function(e,t,n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=n(35),o=n(7),s=n(3);o(i.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){s(e.length===t.length,"Mismatched list of contexts in callback queue"),this._callbacks=null,this._contexts=null;for(var n=0,i=e.length;i>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function r(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function s(e,t){var n=e._dispatchListeners,i=e._dispatchIDs;if(h(e),Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)t(e,n[r],i[r]);else n&&t(e,n,i)}function a(e,t,n){e.currentTarget=g.Mount.getNode(n);var i=t(e,n);return e.currentTarget=null,i}function l(e,t){s(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(h(e),Array.isArray(t)){for(var i=0;i<t.length&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function u(e){var t=c(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function d(e){h(e);var t=e._dispatchListeners,n=e._dispatchIDs;m(!Array.isArray(t),"executeDirectDispatch(...): Invalid `event`.");var i=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,i}function p(e){return!!e._dispatchListeners}var h,f=n(15),m=n(3),g={Mount:null,injectMount:function(e){g.Mount=e,m(e&&e.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode.")}},v=f.topLevelTypes;h=function(e){var t=e._dispatchListeners,n=e._dispatchIDs,i=Array.isArray(t),r=Array.isArray(n),o=r?n.length:n?1:0,s=i?t.length:t?1:0;m(r===i&&o===s,"EventPluginUtils: Invalid `event`.")};var b={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:d,executeDispatch:a,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:u,hasDispatches:p,injection:g,useTouchEvents:!1};e.exports=b},function(e,t,n){"use strict";function i(e){c(null==e.props.checkedLink||null==e.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa.")}function r(e){i(e),c(null==e.props.value&&null==e.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink.")}function o(e){i(e),c(null==e.props.checked&&null==e.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink")}function s(e){this.props.valueLink.requestChange(e.target.value)}function a(e){this.props.checkedLink.requestChange(e.target.checked)}var l=n(273),c=n(3),u={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},d={Mixin:{propTypes:{value:function(e,t){return!e[t]||u[e.type]||e.onChange||e.readOnly||e.disabled?void 0:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?void 0:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func}},getValue:function(e){return e.props.valueLink?(r(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(o(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(r(e),s):e.props.checkedLink?(o(e),a):e.props.onChange}};e.exports=d},function(e,t,n){"use strict";var i=n(7),r={current:{},withContext:function(e,t){var n,o=r.current;r.current=i({},o,e);try{n=t()}finally{r.current=o}return n}};e.exports=r},function(e,t,n){"use strict";function i(){var e=p.current;return e&&e.constructor.displayName||void 0}function r(e,t){e._store.validated||null!=e.key||(e._store.validated=!0,s("react_key_warning",'Each child in an array should have a unique "key" prop.',e,t))}function o(e,t,n){b.test(e)&&s("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",t,n)}function s(e,t,n,r){var o=i(),s=r.displayName,a=o||s,l=m[e];if(!l.hasOwnProperty(a)){l[a]=!0,t+=o?" Check the render method of "+o+".":" Check the renderComponent call using <"+s+">.";var c=null;n._owner&&n._owner!==p.current&&(c=n._owner.constructor.displayName,t+=" It was passed a child from "+c+"."),t+=" See http://fb.me/react-warning-keys for more information.",h(e,{component:a,componentOwner:c}),console.warn(t)}}function a(){var e=i()||"";g.hasOwnProperty(e)||(g[e]=!0,h("react_object_map_children"))}function l(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];u.isValidElement(i)&&r(i,t)}else if(u.isValidElement(e))e._store.validated=!0;else if(e&&"object"==typeof e){a();for(var s in e)o(s,e[s],t)}}function c(e,t,n,i){for(var r in t)if(t.hasOwnProperty(r)){var o;try{o=t[r](n,r,e,i)}catch(s){o=s}o instanceof Error&&!(o.message in v)&&(v[o.message]=!0,h("react_failed_descriptor_type_check",{message:o.message}))}}var u=n(9),d=n(272),p=n(42),h=n(81),f=n(11),m={react_key_warning:{},react_numeric_key_warning:{}},g={},v={},b=/^\d+$/,y={createElement:function(e){f(null!=e,"React.createElement: type should not be null or undefined. It should be a string (for DOM elements) or a ReactClass (for composite components).");var t=u.createElement.apply(this,arguments);if(null==t)return t;for(var n=2;n<arguments.length;n++)l(arguments[n],e);if(e){var i=e.displayName;e.propTypes&&c(i,e.propTypes,t.props,d.prop),e.contextTypes&&c(i,e.contextTypes,t._context,d.context)}return t},createFactory:function(e){var t=y.createElement.bind(null,e);return t.type=e,t}};e.exports=y},function(e,t,n){"use strict";function i(e){return o(document.documentElement,e)}var r=n(482),o=n(279),s=n(280),a=n(281),l={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=a(),n=e.focusedElem,r=e.selectionRange;t!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),s(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if("undefined"==typeof i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";var i=n(51),r=n(54),o=n(9),s=n(7),a=n(118),l=function(){};s(l.prototype,r.Mixin,{mountComponent:function(e,t,n){r.Mixin.mountComponent.call(this,e,t,n);var o=a(this.props);return t.renderToStaticMarkup?o:"<span "+i.createMarkupForID(e)+">"+o+"</span>"},receiveComponent:function(e){var t=e.props;t!==this.props&&(this.props=t,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))
}});var c=function(e){return new o(l,null,null,null,null,e)};c.type=l,e.exports=c},function(e,t,n){"use strict";function i(e,t){if(r(null!=t,"accumulateInto(...): Accumulated items must not be null or undefined."),null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n&&i?(e.push.apply(e,t),e):n?(e.push(t),e):i?[e].concat(t):[e,t]}var r=n(3);e.exports=i},function(e){function t(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e.exports=t},function(e,t,n){function i(e,t,n,i,s){var a=!1,l=function(){return o(a,e+"."+t+" will be deprecated in a future version. "+("Use "+e+"."+n+" instead.")),a=!0,s.apply(i,arguments)};return l.displayName=e+"_"+t,r(l,s)}var r=n(7),o=n(11);e.exports=i},function(e){"use strict";function t(e){return i[e]}function n(e){return(""+e).replace(r,t)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},r=/[&><"']/g;e.exports=n},function(e){"use strict";var t=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=t},function(e){"use strict";function t(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=t},function(e){"use strict";function t(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function n(){return t}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=n},function(e){"use strict";function t(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=t},function(e,t,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(10),o=null;e.exports=i},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function i(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var s=document.createElement("div");s.setAttribute(n,"return;"),i="function"==typeof s[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(10);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=i},function(e){"use strict";function t(e,t){return e&&t&&e.type===t.type&&e.key===t.key&&e._owner===t._owner?!0:!1}e.exports=t},function(e,t){t.createdStores=[],t.createdActions=[],t.reset=function(){for(;t.createdStores.length;)t.createdStores.pop();for(;t.createdActions.length;)t.createdActions.pop()}},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(5),s=n(139),a=n(65),l=a.addToLibrary,c=a.removeFromLibrary,u=i.createClass({displayName:"BookmarkButton",mixins:[r.connect(s,"library")],propTypes:{listing:i.PropTypes.object.isRequired},getInitialState:function(){return{library:[]}},toggleInLibrary:function(e){e.preventDefault(),e.stopPropagation(),this.inLibrary()?c(this.props.listing):l(this.props.listing)},inLibrary:function(){return!!o.find(this.state.library,function(e){return e.listing.id===this.props.listing.id}.bind(this))},render:function(){var e=i.addons.classSet({"btn btn-default btn-bookmark":!0,bookmarked:this.inLibrary()});return i.createElement("button",{type:"button",className:e,onClick:this.toggleInLibrary},i.createElement("i",{className:"fa fa-bookmark"}))}});e.exports=u},function(e,t,n){"use strict";function i(e){var t=e.currentUser,n=t?t.launchInWebtop:!1;return{launchInWebtop:n}}var r=n(1),o=n(4),s=n(23),a=n(12),l=r.createClass({displayName:"CenterLaunchLink",mixins:[o.listenTo(s,"onStoreUpdate")],propTypes:{listing:r.PropTypes.object.isRequired},getInitialState:function(){return i(s.getDefaultData())},onStoreUpdate:function(e){this.setState(i(e))},render:function(){var e=a.launch.bind(null,this.props.listing),t=this.props,n=t.className,i=function(e,t){var n={},i=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var r in e)i.call(e,r)&&!i.call(t,r)&&(n[r]=e[r]);return n}(t,{className:1}),o=n?n+" btn":"btn";return r.createElement("button",r.__spread({},i,{className:o,onClick:e}),r.createElement("span",{className:"icon-open"}))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=i.addons,o=r.cloneWithProps,s=r.classSet,a=n(5),l=n(43),c=i.createClass({displayName:"ImageInput",mixins:[a.omit(l,"render","shouldComponentUpdate","showError","showWarning","getInitialState")],getInitialState:function(){return Object.assign({changedSinceUpdate:!1},l.getInitialState.apply(this,arguments))},render:function(){var e=s({"input-optional":this.props.optional}),t=a.omit(this.getInputProps(),"value"),n=s({"image-container":!0,"image-present":!!this.props.imageUri}),r=this.props.serverError||this.props.help;return i.createElement("div",{className:this.getClasses()},i.createElement("label",{htmlFor:this.props.id,className:e},this.props.label),i.createElement("p",{className:"small"},this.props.description),i.createElement("span",{className:n},i.createElement("button",{onClick:this.removeImage,className:"btn image-remove"}),i.createElement("img",{ref:"image",className:"image-preview",src:this.props.imageUri||void 0})),r&&i.createElement("p",{className:"help-block small"},r),o(this.renderInput(),t))},renderInput:function(){return i.createElement("input",{type:"file"})},onChange:function(e){var t="undefined"!=typeof e.target.files?e.target.files[0]:e.target;e.preventDefault(),this.props.setter(t),this.setState({changedSinceUpdate:!0})},removeImage:function(e){e.preventDefault(),this.props.setter(null),this.setState({changedSinceUpdate:!0})},componentDidUpdate:function(e){var t=this.refs.image.getDOMNode();""===t.getAttribute("src")&&t.removeAttribute("src"),e.value&&!this.props.value&&(this.refs.input.getDOMNode().value="")},componentWillReceiveProps:function(e){(!e.value||e.serverError)&&this.setState({changedSinceUpdate:!1})},shouldComponentUpdate:function(e){return l.shouldComponentUpdate.apply(this,arguments)||e.imageUri!==this.props.imageUri||e.serverError!==this.props.serverError},showError:function(e,t){return!t.changedSinceUpdate&&(e.serverError||l.showError.apply(this,arguments))},showWarning:function(e,t){return!t.changedSinceUpdate&&l.showWarning.apply(this,arguments)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(5),o=n(43),s=n(87),a=i.createClass({displayName:"Select2Input",mixins:[o,s],renderInput:function(){return i.createElement("input",{type:"text"})},getSelect2Options:function(){return{data:this.props.options||[],multiple:!!this.props.multiple,separator:this.props.separator||"|",query:this.props.handleQuery,initSelection:this.props.handleQuery?this.initSelection:void 0}},initSelection:function(e,t){t(r.filter(this.props.options,function(e){return r.contains(this.props.value,e.id)}.bind(this)))}});e.exports=a},function(e,t,n){"use strict";function i(e,t,n,i,o,s){var a;return"all"===e?a=r.createElement("strong",{className:"badge"},i||0):n===e&&(a=r.createElement("strong",{className:"badge"},i||0)),[r.createElement("input",{id:o,type:"radio",value:n}),r.createElement("label",{htmlFor:o,className:s},t,a)]}var r=n(1),o=n(5),s=n(60),a=n(14),l=a.UserRole,c=r.createClass({displayName:"ApprovalStatusFilter",propTypes:{value:r.PropTypes.object.isRequired,counts:r.PropTypes.object.isRequired,onFilterChanged:r.PropTypes.func.isRequired,organizations:r.PropTypes.array},handleChange:function(e){var t=e.target,n=t.value;"all"===n&&(n=null),this.props.onFilterChanged("approvalStatus",n)},_renderRadioGroupOptions:function(){var e=this.props.counts,t=this.props.value.approvalStatus||"all",n=[i(t,"All","all",e.total,"all-listings-filter-all","label-all"),i(t,"Published","APPROVED",e.APPROVED,"all-listings-filter-published","label-published")];return this.props.role===l.ADMIN?n.push(i(t,"Needs action","APPROVED_ORG",e.APPROVED_ORG,"all-listings-filter-needs-action","label-needs-action"),i(t,"Pending, Org.","PENDING",e.PENDING,"all-listings-filter-pending","label-pending")):this.props.role===l.ORG_STEWARD&&n.push(i(t,"Needs action","PENDING",e.PENDING,"all-listings-filter-needs-action","label-needs-action"),i(t,"Org approved","APPROVED_ORG",e.APPROVED_ORG,"all-listings-filter-pending","label-pending")),n.push(i(t,"Returned","REJECTED",e.REJECTED,"all-listings-filter-rejected","label-rejected"),i(t,"Draft","IN_PROGRESS",e.IN_PROGRESS,"all-listings-filter-draft","label-draft")),n},render:function(){var e=this.props.value.approvalStatus||"all";return r.createElement("div",null,r.createElement("h4",null,"State"),r.createElement(s,{name:"approval-status",value:e,onChange:this.handleChange},o.flatten(this._renderRadioGroupOptions())))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(5),o=n(60),s=i.createClass({displayName:"EnabledFilter",handleEnabledChange:function(e){var t=e.target,n=t.value;"null"===n&&(n=null),"true"===n&&(n=!0),"false"===n&&(n=!1),this.props.onFilterChanged("enabled",n)},render:function(){var e=this.props,t=e.counts,n=e.value;n=r.isBoolean(this.props.value.enabled)?this.props.value.enabled.toString():"null";var s=t.total||0,a=t.enabled||0,l=s-a;return i.createElement("div",null,i.createElement("h4",{style:{marginTop:30}},"Enabled"),i.createElement(o,{name:"enabled",value:n,onChange:this.handleEnabledChange},i.createElement("input",{id:"all-listings-filter-enabled-all",type:"radio",value:"null"}),i.createElement("label",{htmlFor:"all-listings-filter-enabled-all",className:"label-all"},"All","null"===n&&i.createElement("strong",{className:"badge"},s)),i.createElement("input",{id:"all-listings-filter-enabled-enabled",type:"radio",value:"true"}),i.createElement("label",{htmlFor:"all-listings-filter-enabled-enabled",className:"label-enabled"},"Enabled",("null"===n||"true"===n)&&i.createElement("strong",{className:"badge"},a)),i.createElement("input",{id:"all-listings-filter-enabled-disabled",type:"radio",value:"false"}),i.createElement("label",{htmlFor:"all-listings-filter-enabled-disabled",className:"label-disabled"},"Disabled",("null"===n||"false"===n)&&i.createElement("strong",{className:"badge"},l))))}});e.exports=s},function(e,t,n){(function(t){"use strict";var i=n(1),r=n(94),o=n(142),s=n(14).listingFieldName,a=n(8),l=a.Navigation,c=n(90),u=n(18),d=i.createClass({displayName:"AuthorLink",propTypes:{author:i.PropTypes.object.isRequired},render:function(){var e=this.props.author;return i.createElement(c,{profileId:e.id},e.displayName)}}),p=i.createClass({displayName:"ActionChangeLog",render:function(){var e=this.props.changeLog;return i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," ",e.action.toLowerCase()," "),this.props.listingName)}}),h=i.createClass({displayName:"SetToChangeLog",render:function(){var e=this.props.changeLog;return i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," set "),this.props.listingName," to ",e.action.toLowerCase())}}),f=i.createClass({displayName:"RejectedChangeLog",toggleIcon:function(e){t(e.currentTarget).children("i").toggleClass("fa-minus fa-plus")},render:function(){var e=this.props.changeLog,t="Details: "+e.rejectionDescription,n=r();return i.createElement("div",null,i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," rejected "),this.props.listingName),i.createElement("a",{"data-toggle":"collapse","data-target":"#"+n,onClick:this.toggleIcon},i.createElement("i",{className:"fa fa-plus"})," Feedback"),i.createElement("ul",{id:n,className:"collapse list-unstyled ListingActivity__Changes"},i.createElement("li",null,t)))}}),m=i.createClass({displayName:"OrgApprovalChangeLog",render:function(){var e=this.props.changeLog;return i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," approved "),this.props.listingName," for ",e.listing.agency)}}),g=i.createClass({displayName:"ModifiedChangeLog",toggleIcon:function(e){t(e.currentTarget).children("i").toggleClass("fa-minus fa-plus")},render:function(){var e=this.props.changeLog,t=[],n=[];if(e.changeDetails.forEach(function(r,o){var a=s[r.fieldName]||r.fieldName;t[o]=o===e.changeDetails.length-1&&0!==o?"and "+a:a,n[o]=i.createElement("li",null,a," changed from",i.createElement("span",{className:"OldValue"},r.oldValue),i.createElement("span",null," to "),i.createElement("span",{className:"NewValue"},r.newValue))}),t.length){t=t.join(", ");var o=r();return i.createElement("div",null,i.createElement("div",null,i.createElement(d,{author:e.author})," modified ",this.props.listingName),i.createElement("a",{"data-toggle":"collapse","data-target":"#"+o,onClick:this.toggleIcon},i.createElement("i",{className:"fa fa-plus"})," See ",this.props.showListingName?e.listing.title:"the listing"," changes"),i.createElement("ul",{id:o,className:"collapse list-unstyled ListingActivity__Changes"},n))}return i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," modified "),this.props.showListingName?e.listing.title:"the listing")}}),v=i.createClass({displayName:"ReviewEditedChangeLog",render:function(){var e=this.props.changeLog;return i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," edited "),void 0===e.changeDetails[0]?" ":e.changeDetails[0].fieldName," in ",this.props.listingName)}}),b=i.createClass({displayName:"ReviewDeletedChangeLog",render:function(){var e=this.props.changeLog;return i.createElement("div",null,i.createElement(d,{author:e.author}),i.createElement("span",null," removed "),e.changeDetails[0].newValue," review from ",this.props.listingName)}}),y=i.createClass({displayName:"ChangeLog",mixins:[l,u],actionMapAdmin:{MODIFIED:g,APPROVED:p,SUBMITTED:p,ENABLED:p,DISABLED:p,CREATED:p,OUTSIDE:h,INSIDE:h,REJECTED:f,APPROVED_ORG:m,REVIEW_EDITED:v,REVIEW_DELETED:b},getListingName:function(){if(this.props.showListingName){var e=this.makeHref(this.getActiveRoutePath(),this.getParams(),{listing:this.props.changeLog.listing.id,action:"view",tab:"overview"});return i.createElement("a",{href:e},this.props.changeLog.listing.title)}return"the listing"},render:function(){var e,t;void 0!==this.props.children&&(e=this.props.children[0],t=this.props.children[1]);var n=o(this.props.changeLog.activityDate),r=this.actionMapAdmin[this.props.changeLog.action];return r?i.createElement("li",null,i.createElement("div",{className:"row"},i.createElement("div",{className:this.props.showListingName?"col-md-2":"col-md-3"},i.createElement("em",null,n)),i.createElement("div",{className:this.props.showListingName?"col-md-10":"col-md-9"},e,i.createElement(r,{changeLog:this.props.changeLog,listingName:this.getListingName()}),t))):void 0}});e.exports=y}).call(t,n(6))},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(38),s=n(8),a=s.Navigation,l=n(137),c=n(59).ListingApi,u=n(70),d=n(5),p=i.createClass({displayName:"DeleteConfirmation",propTypes:{errorMessage:i.PropTypes.string,onHidden:i.PropTypes.func,onDelete:i.PropTypes.func.isRequired},getDefaultProps:function(){return{onHidden:d.noop}},getInitialState:function(){return{}},render:function(){var e=this.props.kind,t=this.props.title,n=this.props.onDelete,r=this.props.errorMessage;return i.createElement(o,{ref:"modal",className:"DeleteConfirmation",size:"small",onHidden:this.props.onHidden},i.createElement("button",{className:"close corner","data-dismiss":"modal"},""),r&&i.createElement("div",{className:"alert alert-danger"},r),i.createElement("strong",null,"Are you sure that you would like to delete the ",e,' "',t,'"?'),i.createElement("button",{className:"btn btn-default","data-dismiss":"modal"},"Cancel"),i.createElement("button",{className:"btn btn-danger",onClick:n},"Delete"))},close:function(){this.refs.modal.close()}}),h=i.createClass({displayName:"ListingDeleteConfirmation",propTypes:{listing:i.PropTypes.string.isRequired},mixins:[r.ListenerMixin,a,l],getInitialState:function(){return this.listenTo(u,this.onStoreChange),this.getState()},getState:function(){return{listing:u.getById(this.props.listing)}},onStoreChange:function(){this.setState(this.getState())},render:function(){var e=this.getListing();if(!e)return null;var t=e.title;return i.createElement(p,{ref:"modal",kind:"listing",title:t,errorMessage:this.state.errorMessage,onHidden:this.onHidden,onDelete:this.onDelete})},getListing:function(){return this.state.listing},close:function(){this.refs.modal.close()},onHidden:function(){this.goBack()},onDelete:function(){var e=this.getListing();c.del(e.id).done(function(){return this.close()}.bind(this)).fail(this.handleError)}});e.exports={DeleteConfirmation:p,ListingDeleteConfirmation:h}},function(e,t,n){"use strict";var i=n(1),r=i.createClass({displayName:"EmptyFieldValue",propTypes:{text:i.PropTypes.string,inline:i.PropTypes.bool},getDefaultProps:function(){return{text:"Not provided!",inline:!1}},render:function(){var e=this.props.text;return this.props.inline?i.createElement("span",{className:"text-muted"},e):i.createElement("p",{className:"text-muted"},e)}});e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(146),o=r.systemHigh,s=i.createClass({displayName:"SystemHighMessage",render:function(){return i.createElement("p",{className:"text-danger"},o)}});e.exports=s},function(e){"use strict";var t={getInitialState:function(){return{errors:null,errorMessage:null,errorStatus:null}},handleError:function(e){var t=e.responseJSON,n=e.status;this.setState({errors:t?t.errors:null,errorStatus:n,errorMessage:t?t.message||t.responseText:t.responseText})}};e.exports=t},function(e,t,n){"use strict";var i=n(8),r=i.Link,o=i.State,s={mixins:[o],renderTabs:function(e,t){var n=this,i=e.map(function(e){var i=n.isActive(e.to,e.params),o=i?"active":"";return React.createElement("li",{className:o},React.createElement(r,{to:e.to,params:e.params||t},e.name))});return React.createElement("ul",{className:"nav nav-tabs",role:"tablist"},i)}};e.exports=s},function(e,t,n){"use strict";var i=n(4),r=n(5),o=n(365),s=n(65),a=i.createStore({listenables:s,library:[],onFetchLibrary:function(){var e=this;o.getLibrary().then(function(t){e.library=t,e.doTrigger()})},onAddToLibrary:function(e){var t=this;o.addToLibrary(e).then(function(e){t.library=t.library.concat(e),t.doTrigger()})},onRemoveFromLibrary:function(e){var t=this;o.removeFromLibrary(e).then(function(){var n=r.find(t.library,{listing:{id:e.id}});t.library=r.without(t.library,n),t.doTrigger()})},doTrigger:function(){this.trigger(this.getDefaultData())},getDefaultData:function(){return this.library}});e.exports=a},function(e,t,n){"use strict";var i,r=n(4),o=n(71),s=n(12),a=r.createStore({init:function(){this.listenTo(s.fetchAllChangeLogsCompleted,this.onFetchAllChangeLogsCompleted)},onFetchAllChangeLogsCompleted:function(e,t){var n=i;n?n.receivePage(t):i=new o(t),this.trigger()},getChangeLogs:function(){return i}});e.exports=a},function(e,t,n){"use strict";function i(e){return o.reduce(e,function(e,t,n){return e[n]=r({sync:!0}),t&&e[n].listen(t),e[n+"Completed"]=r({sync:!0}),e[n+"Failed"]=r({sync:!0}),e},{})}var r=n(4).createAction,o=n(5);e.exports=i},function(e){"use strict";e.exports=function(e){e=e.replace("+0000","Z"),e=new Date(e).getTime();var t,n,i=(Date.now()-e)/1e3;return 60>i&&(n="second",t=i),i/=60,60>i&&!t&&(n="minute",t=i),i/=60,24>i&&!t&&(n="hour",t=i),i/=24,7>i&&!t&&(n="day",t=i),i/=7,4>i&&!t&&(n="week",t=i),i=i/52*12,11.5>i&&!t?(n="month",t=i):t||(n="year",t=i/12),t=Math.round(t),1===t?"hour"===n?"an "+n+" ago":"a "+n+" ago":t+" "+n+"s ago"}},function(e,t,n){"use strict";function i(e,t,n){var i,r,o=n.target;clearTimeout(t);try{if(i=o.contentWindow.document.body.innerText,r=JSON.parse(i),r.error){var s=r.message||h;e.reject({message:s},"error",s)}else e.resolve(r)}catch(a){var l="Error reading image upload response";console.log(l,a),e.reject(l)}}function r(e,t){clearTimeout(t),e.reject(h)}function o(e){e.reject("Timeout saving image to server")}function s(e,t){var n=e.querySelector("input"),i=e.querySelector("iframe");i.onload=null,i.onerror=null,e.parentNode.removeChild(e),t.parentNode.replaceChild(n,t)}var a=n(6),l=n(13),c=l.API_URL,u=1,d=c+"/api/image/",p=1e4,h="Unknown error saving image",f={save:function(e){if(window.Blob&&e instanceof Blob)return a.ajax({url:d,type:"POST",data:e,processData:!1,contentType:e.type,accepts:{json:"application/json"}}).then(function(e){return e});if(e instanceof HTMLInputElement)return this.saveViaFormData(e);throw new Error("Expected argument to be Blob or HTMLInputElement, but was "+e)},saveViaFormData:function(e){var t,n=a.Deferred(),l=document.createElement("div"),c=document.createElement("iframe"),h=e.cloneNode(),f=document.createElement("form"),m="image-upload-frame-"+u++;return l.setAttribute("style","display:none;"),e.name="image",e.parentNode.replaceChild(h,e),c.name=m,l.appendChild(c),f.target=m,f.action=d,f.method="post",f.enctype="multipart/form-data",f.appendChild(e),l.appendChild(f),document.body.appendChild(l),n.always(s.bind(null,l,h)),t=setTimeout(o.bind(null,n),p),c.onload=i.bind(null,n,t),c.onerror=r.bind(null,n,t),f.submit(),n.promise()}};e.exports.ImageApi=f},function(e,t,n){"use strict";function i(e,t){return r.call(this,e,t),this}var r=n(145);for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);var s=null===r?null:r.prototype;i.prototype=Object.create(s),i.prototype.constructor=i,i.__superConstructor__=r,i.prototype.nextLink=function(){return s.getLink.call(this,"next")||void 0},i.prototype.prevLink=function(){return s.getLink.call(this,"prev")||void 0},i.prototype.total=function(){return this.$PaginatedResponse_response.total},e.exports=i},[553,5],function(e){var t={"label.title":"Name","label.type":"Listing Type","label.description":"Full Description","label.descriptionShort":"Short Description","label.tags":"Tags","label.smallIcon":"Small Icon","label.largeIcon":"Large Icon","label.bannerIcon":"Small Banner","label.featuredBannerIcon":"Large Banner","label.versionName":"Version Number","label.intents":"Intents","label.contacts":"Contacts","label.whatIsNew":"What's New","label.requirements":"Usage Requirements","label.agency":"Associated Organization","label.screenshots":"Screenshots","label.owners":"Owners","label.docUrls":"Resources","label.launchUrl":"Listing URL","label.categories":"Categories","label.contacts.type":"Contact Type","label.contacts.name":"Name","label.contacts.organization":"Associated Organization","label.contacts.email":"Email","label.contacts.securePhone":"Secure Phone","label.contacts.unsecurePhone":"Unsecure Phone","label.screenshots.largeImage":"Full Size Image","label.screenshots.smallImage":"Preview Image","label.docUrls.name":"Type of Resource","label.docUrls.url":"URL","placeholder.tags":"Enter One or More Tags","placeholder.owners":"Select One or More Owners","placeholder.agency":"Select an Organization","placeholder.categories":"Select One or More Categories","placeholder.type":"Select a Type","placeholder.contacts.type":"Select a Contact Type","description.title":"Title of the listing.","description.type":"Type of listing that is being submitted to the marketplace.","description.categories":"Category or categories in Marketplace where this listing fits best.","description.tags":"Keywords that describe the listing.","description.descriptionShort":"Brief summary of the full description that briefly describes the listing. Appears in the mouseover listing view.","description.description":"Overview describing the listing, the available features and its purpose. Appears in the detailed listing view.","description.smallIcon":"Must be at least 16px wide x 16px tall.","description.largeIcon":"Must be 30px wide x 30px tall.","description.bannerIcon":"Must be at least 220px wide x 137px tall.","description.featuredBannerIcon":"Must be at least 600px wide x 375px tall.","description.versionName":"Numerical identification of which release version is being submitted.","description.launchUrl":"URL where this listing can be reached by users.","description.requirements":'Details about what system, security, or other requirements must be met in order to use this listing. If none apply, write "None."',"description.whatIsNew":"Description of what is new or different in this latest version.","description.agency":"Organization overseeing this listing.","description.owners":"Person(s) responsible for this listing.","description.contacts":"Points of contact are people or groups that users can contact via the information provided here.","description.intents":"Intents are special instructions used for communicating between applications. If this application uses intents, list them here.","description.contacts.email":"Email address where the contact can be reached","description.contacts.organization":" Organization associated with the individual, position, or group being contacted.","description.contacts.name":"Name of the individual, position, or group being contacted.","description.contacts.type":"What would a user contact this individual or group of people for?","description.screenshots.largeImage":"Must be at least 960px wide x 600px tall.","description.screenshots.smallImage":"Must be at least 600px wide x 374px tall.","description.docUrls":"Documentation, tutorials, or other tools for users to help them better interact with this listing.","description.docUrls.name":"Type of information available (e.g. Troubleshooting Tips) or the common name of the resource (e.g. User Manual, FAQs, or Wikipedia).","description.docUrls.url":" URL where the resource can be accessed by listing users.","help.title":"May contain letters, numbers or symbols and must be 60 characters long or less.","help.description":"May contain letters, numbers or symbols and must be 4000 characters long or less.","help.descriptionShort":"May contain letters, numbers or symbols and must be 100 characters long or less.","help.smallIcon":"Image is required.","help.largeIcon":"Image is required.","help.bannerIcon":"Image is required.","help.featuredBannerIcon":"Image is required.","help.versionName":"May contain letters, numbers or symbols and must be 255 characters long or less.","help.whatIsNew":"May contain letters, numbers or symbols and must be 255 characters long or less.","help.requirements":"May contain letters, numbers or symbols and must be 1000 characters long or less.","help.agency":"Associated organization is required.","help.screenshots":"At least one screenshot is required.","help.owners":"At least one owner is required.","help.tags":"May contain letters, numbers or symbols and must be 16 characters long or less.","help.launchUrl":"Must be a valid URL.","help.categories":"At least one is required.","help.contacts.name":"May contain letters, numbers or symbols and must be 100 characters long or less.","help.contacts.organization":"May contain letters, numbers or symbols and must be 100 characters long or less.","help.contacts.email":"Must be a valid email address and 100 characters long or less.","help.contacts.securePhone":"Must be a valid phone number.","help.contacts.unsecurePhone":"Must be a valid phone number.","help.screenshots.largeImage":"Image is required.","help.screenshots.smallImage":"Image is required.","help.docUrls.name":"May contain letters, numbers or symbols and must be 255 characters long or less.","help.docUrls.url":"Must be a valid URL."};e.exports={listingMessages:t,systemHigh:"Warning: Data entered must NOT be above System High!"}},function(e,t,n){var i,r;i=[n(16),n(32)],r=function(e,t){function n(n,o,s){var a=0,l=n?n.length:0;if("number"!=typeof o&&null!=o){var c=l;for(o=e(o,s,3);c--&&o(n[c],c,n);)a++}else if(a=o,null==a||s)return n?n[l-1]:i;return t(n,r(0,l-a))}var i,r=Math.max;return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(16)],r=function(e){function t(t,n,r){var o=-1,s=t?t.length:0,a=[];for(n=e(n,r,3);++o<s;){var l=t[o];n(l,o,t)&&(a.push(l),i.call(t,o--,1),s--)}return a}var n=[],i=n.splice;return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(16),n(17)],r=function(e,t){function n(n,i,r,o){if(!n)return r;var s=arguments.length<3;i=e(i,o,4);var a=-1,l=n.length;if("number"==typeof l)for(s&&(r=n[++a]);++a<l;)r=i(r,n[a],a,n);else t(n,function(e,t,n){r=s?(s=!1,e):i(r,e,t,n)});return r}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){var e=[];return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(415),n(99),n(17),n(156),n(33),n(34),n(161),n(32)],r=function(e,t,n,i,r,o,s,a){function l(u,d,f,g,w){if(f){var T=f(u);if("undefined"!=typeof T)return T}var C=o(u);if(!C)return u;var D=_.call(u);if(!y[D])return u;var E=k[D];switch(D){case p:case h:return new E(+u);case m:case b:return new E(u);case v:return T=E(u.source,c.exec(u)),T.lastIndex=u.lastIndex,T}var M=r(u);if(d){var L=!g;g||(g=i()),w||(w=i());for(var j=g.length;j--;)if(g[j]==u)return w[j];T=M?E(u.length):{}}else T=M?a(u):e({},u);return M&&(x.call(u,"index")&&(T.index=u.index),x.call(u,"input")&&(T.input=u.input)),d?(g.push(u),w.push(T),(M?t:n)(u,function(e,t){T[t]=l(e,d,f,g,w)}),L&&(s(g),s(w)),T):T}var c=/\w*$/,u="[object Arguments]",d="[object Array]",p="[object Boolean]",h="[object Date]",f="[object Function]",m="[object Number]",g="[object Object]",v="[object RegExp]",b="[object String]",y={};y[f]=!1,y[u]=y[d]=y[p]=y[h]=y[m]=y[g]=y[v]=y[b]=!0;var w=Object.prototype,_=w.toString,x=w.hasOwnProperty,k={};return k[d]=Array,k[p]=Boolean,k[h]=Date,k[f]=Function,k[g]=Object,k[m]=Number,k[v]=RegExp,k[b]=String,l}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(46),n(34),n(165)],r=function(e,t){function n(e){return t(e)?i(e):{}}var i=e(i=Object.create)&&i;return i||(n=function(){function e(){}return function(n){if(t(n)){e.prototype=n;var i=new e;e.prototype=null}return i||window.Object()}}()),n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(102),n(405),n(409),n(412),n(162)],r=function(e,t,n,i,r){function o(o,s){var a=-1,l=e,c=o?o.length:0,u=c>=i,d=[];if(u){var p=n(s);p?(l=t,s=p):u=!1}for(;++a<c;){var h=o[a];l(s,h)<0&&d.push(h)}return u&&r(s),d}return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(104),n(156),n(48),n(47),n(161)],r=function(e,t,n,i,r){function o(f,v,b,y,w,_){if(b){var x=b(f,v);if("undefined"!=typeof x)return!!x}if(f===v)return 0!==f||1/f==1/v;var k=typeof f,T=typeof v;if(!(f!==f||f&&i[k]||v&&i[T]))return!1;if(null==f||null==v)return f===v;var C=m.call(f),D=m.call(v);if(C==s&&(C=d),D==s&&(D=d),C!=D)return!1;switch(C){case l:case c:return+f==+v;case u:return f!=+f?v!=+v:0==f?1/f==1/v:f==+v;case p:case h:return f==String(v)}var E=C==a;if(!E){var M=g.call(f,"__wrapped__"),L=g.call(v,"__wrapped__");if(M||L)return o(M?f.__wrapped__:f,L?v.__wrapped__:v,b,y,w,_);if(C!=d)return!1;var j=f.constructor,S=v.constructor;if(j!=S&&!(n(j)&&j instanceof j&&n(S)&&S instanceof S)&&"constructor"in f&&"constructor"in v)return!1}var N=!w;w||(w=t()),_||(_=t());for(var A=w.length;A--;)if(w[A]==f)return _[A]==v;var $=0;if(x=!0,w.push(f),_.push(v),E){if(A=f.length,$=v.length,x=$==A,x||y)for(;$--;){var I=A,O=v[$];if(y)for(;I--&&!(x=o(f[I],O,b,y,w,_)););else if(!(x=o(f[$],O,b,y,w,_)))break}}else e(v,function(e,t,n){return g.call(n,t)?($++,x=g.call(f,t)&&o(f[t],e,b,y,w,_)):void 0}),x&&!y&&e(f,function(e,t,n){return g.call(n,t)?x=--$>-1:void 0});return w.pop(),_.pop(),N&&(r(w),r(_)),x}var s="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Number]",d="[object Object]",p="[object RegExp]",h="[object String]",f=Object.prototype,m=f.toString,g=f.hasOwnProperty;return o}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(403),n(404),n(48),n(32)],r=function(e,t,n,i){function r(o,l,c,u,d,p){var h=1&l,f=2&l,m=4&l,g=16&l,v=32&l;if(!f&&!n(o))throw new TypeError;g&&!c.length&&(l&=-17,g=c=!1),v&&!u.length&&(l&=-33,v=u=!1);var b=o&&o.__bindData__;if(b&&b!==!0)return b=i(b),b[2]&&(b[2]=i(b[2])),b[3]&&(b[3]=i(b[3])),!h||1&b[1]||(b[4]=d),!h&&1&b[1]&&(l|=8),!m||4&b[1]||(b[5]=p),g&&s.apply(b[2]||(b[2]=[]),c),v&&a.apply(b[3]||(b[3]=[]),u),b[1]|=l,r.apply(null,b);var y=1==l||17===l?e:t;return y([o,l,c,u,d,p])}var o=[],s=o.push,a=o.unshift;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(150)],r=function(e){function t(){return e.pop()||[]}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){var e=+new Date+"";return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){var e=40;return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){var e=[];return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(150),n(159)],r=function(e,t){function n(n){n.length=0,e.length<t&&e.push(n)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(159),n(160)],r=function(e,t){function n(i){var r=i.cache;r&&n(r),i.array=i.cache=i.criteria=i.object=i.number=i.string=i.value=null,t.length<e&&t.push(i)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(153),n(101),n(16),n(104)],r=function(e,t,n,i){function r(r,o,s){var a={};if("function"!=typeof o){var l=[];i(r,function(e,t){l.push(t)}),l=e(l,t(arguments,!0,!1,1));for(var c=-1,u=l.length;++c<u;){var d=l[c];a[d]=r[d]}}else o=n(o,s,3),i(r,function(e,t,n){o(e,t,n)||(a[t]=e)});return a}return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(101),n(16),n(104),n(34)],r=function(e,t,n,i){function r(r,o,s){var a={};if("function"!=typeof o)for(var l=-1,c=e(arguments,!0,!1,1),u=i(r)?c.length:0;++l<u;){var d=c[l];d in r&&(a[d]=r[d])}else o=t(o,s,3),n(r,function(e,t,n){o(e,t,n)&&(a[t]=e)});return a
}return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(){}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return 12>e?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n){var o=i(t),s=r[e][i(t)];return 2===o&&(s=s[n?0:1]),s.replace(/%d/i,t)}},s=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];return e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e){return 4>e?"gec":12>e?"shr":17>e?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":e+" "+t(r[i],+e)}function i(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function r(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}return e.defineLocale("be",{months:i,monthsShort:"___________".split("_"),weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&20>n?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,isPM:function(e){return/^(||)$/.test(e)},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+r(i[n],e)}function n(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){return e>9?i(e%10):e}function r(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}return e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return("w"===t||"W"===t)&&(n="a"),e+n},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e){return e>1&&5>e&&1!==~~(e/10)}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"pr sekund":"pr sekundami";case"m":return n?"minuta":r?"minutu":"minutou";case"mm":return n||r?o+(t(e)?"minuty":"minut"):o+"minutami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?o+(t(e)?"hodiny":"hodin"):o+"hodinami";case"d":return n||r?"den":"dnem";case"dd":return n||r?o+(t(e)?"dny":"dn"):o+"dny";case"M":return n||r?"msc":"mscem";case"MM":return n||r?o+(t(e)?"msce":"msc"):o+"msci";case"y":return n||r?"rok":"rokem";case"yy":return n||r?o+(t(e)?"roky":"let"):o+"lety"}}var i="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),r="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");return e.defineLocale("cs",{months:i,monthsShort:r,monthsParse:function(e,t){var n,i=[];for(n=0;12>n;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(i,r),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",i=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=i[t]),e+n},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return"function"==typeof n&&(n=n.apply(t)),n.replace("{}",i%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";
return e+n}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}return e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e){return 12>e?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,i,r){var o="";switch(i){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":o=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return o=n(e,r)+" "+o}function n(e,t){return 10>e?t?r[e]:i[e]:e}var i="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),r=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",i[7],i[8],i[9]];return e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?4>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return r+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return r+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return r+(i||t?" v":" ve")}return""}function n(e){return(e?"":"[mlt] ")+"["+i[this.day()]+"] LT[-kor]"}var i="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");return e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return 12>e?n===!0?"de":"DE":n===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function n(e){var t="___________".split("_");return t[e.month()]}function i(e){var t="______".split("_");return t[e.day()]}return e.defineLocale("hy-am",{months:t,monthsShort:n,weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e){return e%100===11?!0:e%10===1?!1:!0}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||r?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(r?"daga":"dgum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(r?"mnui":"mnuum"):n?o+"mnuur":o+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return t(e)?o+(n||r?"r":"rum"):o+(n||r?"r":"ri")}}return e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function n(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/(|)/.test(t)?"accusative":"nominative";return n[i][e.day()]}return e.defineLocale("ka",{months:t,monthsShort:"___________".split("_"),weekdays:n,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":20>e||100>=e&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(e){return""===e
},meridiem:function(e){return 12>e?"":""}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"a "+e:"an "+e}function i(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"viru "+e:"virun "+e}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e?!0:!1;if(100>e){var t=e%10,n=e/10;return r(0===t?n:t)}if(1e4>e){for(;e>=10;)e/=10;return r(e)}return e/=1e3,r(e)}return e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:i,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"}function n(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(e){return e%10===0||e>10&&20>e}function r(e){return a[e].split("_")}function o(e,t,o,s){var a=e+" ";return 1===e?a+n(e,t,o[0],s):t?a+(i(e)?r(o)[1]:r(o)[0]):s?a+r(o)[1]:a+(i(e)?r(o)[1]:r(o)[2])}function s(e,t){var n=-1===t.indexOf("dddd HH:mm"),i=l[e.day()];return n?i:i.substring(0,i.length-2)+""}var a={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},l="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_");return e.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:s,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:t,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},ordinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i=e.split("_");return n?t%10===1&&11!==t?i[2]:i[3]:t%10===1&&11!==t?i[0]:i[1]}function n(e,n,r){return e+" "+t(i[r],e,n)}var i={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"};return e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:n,h:"stundu",hh:n,d:"dienu",dd:n,M:"mnesi",MM:n,y:"gadu",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&20>n?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(e){return/^( ||)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?" ":20>e?"":""}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?4>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e){return 4>e?"":10>e?"":17>e?"":20>e?"":""},week:{dow:0,doy:6}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?3>e?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e){return 3>e?"":10>e?"":15>e?"":18>e?"":20>e?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return/-MMM-/.test(i)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!==1}function n(e,n,i){var r=e+" ";switch(i){case"m":return n?"minuta":"minut";case"mm":return r+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzin";case"hh":return r+(t(e)?"godziny":"godzin");case"MM":return r+(t(e)?"miesice":"miesicy");case"yy":return r+(t(e)?"lata":"lat")}}var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return/D MMMM/.test(t)?r[e.month()]:i[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzie",dd:"%d dni",M:"miesic",MM:n,y:"rok",yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"dom_2_3_4_5_6_sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100===0)&&(r=" de "),e+r+i[n]}return e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:n?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":e+" "+t(r[i],+e)}function i(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function o(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},i=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[i][e.day()]}return e.defineLocale("ru",{months:i,monthsShort:r,weekdays:o,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e){return e>1&&5>e}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"pr seknd":"pr sekundami";case"m":return n?"minta":r?"mintu":"mintou";case"mm":return n||r?o+(t(e)?"minty":"mint"):o+"mintami";case"h":return n?"hodina":r?"hodinu":"hodinou";case"hh":return n||r?o+(t(e)?"hodiny":"hodn"):o+"hodinami";case"d":return n||r?"de":"dom";case"dd":return n||r?o+(t(e)?"dni":"dn"):o+"dami";case"M":return n||r?"mesiac":"mesiacom";case"MM":return n||r?o+(t(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return n||r?"rok":"rokom";case"yy":return n||r?o+(t(e)?"roky":"rokov"):o+"rokmi"}}var i="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),r="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");return e.defineLocale("sk",{months:i,monthsShort:r,monthsParse:function(e,t){var n,i=[];for(n=0;12>n;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(i,r),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t,n){var i=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur";case"dd":return i+=1===e?"dan":"dni";case"MM":return i+=1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev";case"yy":return i+=1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]
},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};return e.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(e){return e+""},meridiemParse:/|||||/,meridiem:function(e){return 2>e?" ":6>e?" ":10>e?" ":14>e?" ":18>e?" ":22>e?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?2>e?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e){return 12>e?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?n[1]:n[2]}function n(e,n,i){var r={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===i?n?"":"":"h"===i?n?"":"":e+" "+t(r[i],+e)}function i(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},i=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[i][e.month()]}function r(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},i=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]}function o(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}return e.defineLocale("uk",{months:i,monthsShort:"___________".split("_"),weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:o("[ "),nextDay:o("[ "),lastDay:o("[ "),nextWeek:o("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return o("[] dddd [").call(this);case 1:case 2:case 4:return o("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return 4>e?"":12>e?"":17>e?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t){var n=100*e+t;return 600>n?"":900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",0===this.minutes()?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})})},function(e,t,n){var i,r,o;!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(function(e){return e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t){var n=100*e+t;return 900>n?"":1130>n?"":1230>n?"":1800>n?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}})})},function(e,t,n){var i=n(73),r={updateScrollPosition:function(e,t){switch(t){case i.PUSH:case i.REPLACE:window.scrollTo(0,0);break;case i.POP:e?window.scrollTo(e.x,e.y):window.scrollTo(0,0)}}};e.exports=r},function(e,t,n){var i=n(1),r=n(74),o=n(75),s=i.createClass({displayName:"DefaultRoute",mixins:[r],propTypes:{name:i.PropTypes.string,path:o.falsy,handler:i.PropTypes.func.isRequired}});e.exports=s},function(e,t,n){var i=n(1),r=n(74),o=n(75),s=i.createClass({displayName:"NotFoundRoute",mixins:[r],propTypes:{name:i.PropTypes.string,path:o.falsy,handler:i.PropTypes.func.isRequired}});e.exports=s},function(e,t,n){var i=n(1),r=n(74),o=n(75),s=i.createClass({displayName:"Redirect",mixins:[r],propTypes:{path:i.PropTypes.string,from:i.PropTypes.string,to:i.PropTypes.string,handler:o.falsy}});e.exports=s},function(e,t,n){var i=n(1),r=n(74),o=i.createClass({displayName:"Route",mixins:[r],propTypes:{name:i.PropTypes.string,path:i.PropTypes.string,handler:i.PropTypes.func.isRequired,ignoreScrollBehavior:i.PropTypes.bool}});e.exports=o},function(e,t,n){var i=n(1),r=n(438),o=i.createClass({displayName:"RouteHandler",mixins:[r],getDefaultProps:function(){return{ref:"__routeHandler__"}},render:function(){return this.getRouteHandler()}});e.exports=o},function(e,t,n){function i(){return u.decode(window.location.href.split("#")[1]||"")}function r(){var e=i();return"/"===e.charAt(0)?!0:(h.replace("/"+e),!1)}function o(e){e===l.PUSH&&(c.length+=1);var t={path:i(),type:e};d.forEach(function(e){e(t)})}function s(){r()&&(o(a||l.POP),a=null)}var a,l=n(73),c=n(61),u=n(50),d=[],p=!1,h={addChangeListener:function(e){d.push(e),r(),p||(window.addEventListener?window.addEventListener("hashchange",s,!1):window.attachEvent("onhashchange",s),p=!0)},removeChangeListener:function(e){for(var t=0,n=d.length;n>t;t++)if(d[t]===e){d.splice(t,1);break}window.removeEventListener?window.removeEventListener("hashchange",s,!1):window.removeEvent("onhashchange",s),0===d.length&&(p=!1)},push:function(e){a=l.PUSH,window.location.hash=u.encode(e)},replace:function(e){a=l.REPLACE,window.location.replace(window.location.pathname+"#"+u.encode(e))},pop:function(){a=l.POP,c.back()},getCurrentPath:i,toString:function(){return"<HashLocation>"}};e.exports=h},function(e,t,n){var i=n(106),r=n(61),o=n(50),s={push:function(e){window.location=o.encode(e)},replace:function(e){window.location.replace(o.encode(e))},pop:r.back,getCurrentPath:i.getCurrentPath,toString:function(){return"<RefreshLocation>"}};e.exports=s},function(e,t,n){var i=n(1),r={contextTypes:{makePath:i.PropTypes.func.isRequired,makeHref:i.PropTypes.func.isRequired,transitionTo:i.PropTypes.func.isRequired,replaceWith:i.PropTypes.func.isRequired,goBack:i.PropTypes.func.isRequired},makePath:function(e,t,n){return this.context.makePath(e,t,n)},makeHref:function(e,t,n){return this.context.makeHref(e,t,n)},transitionTo:function(e,t,n){this.context.transitionTo(e,t,n)},replaceWith:function(e,t,n){this.context.replaceWith(e,t,n)},goBack:function(){this.context.goBack()}};e.exports=r},function(e,t,n){var i=n(1),r={contextTypes:{getCurrentPath:i.PropTypes.func.isRequired,getCurrentRoutes:i.PropTypes.func.isRequired,getCurrentPathname:i.PropTypes.func.isRequired,getCurrentParams:i.PropTypes.func.isRequired,getCurrentQuery:i.PropTypes.func.isRequired,isActive:i.PropTypes.func.isRequired},getPath:function(){return this.context.getCurrentPath()},getRoutes:function(){return this.context.getCurrentRoutes()},getPathname:function(){return this.context.getCurrentPathname()},getParams:function(){return this.context.getCurrentParams()},getQuery:function(){return this.context.getCurrentQuery()},isActive:function(e,t,n){return this.context.isActive(e,t,n)}};e.exports=r},function(e){function t(e,t,n){this.to=e,this.params=t,this.query=n}e.exports=t},function(e,t,n){function i(e){throw e}function r(e,t){if("string"==typeof t)throw new Error("Unhandled aborted transition! Reason: "+e);e instanceof L||(e instanceof E?t.replace(this.makePath(e.to,e.params,e.query)):t.pop())}function o(e,t,n,i){for(var r,a,l,c=0,u=t.length;u>c;++c){if(a=t[c],r=o(e,a.childRoutes,a.defaultRoute,a.notFoundRoute),null!=r)return r.routes.unshift(a),r;if(l=j.extractParams(a.path,e))return s(a,l)}return n&&(l=j.extractParams(n.path,e))?s(n,l):i&&(l=j.extractParams(i.path,e))?s(i,l):r}function s(e,t){return{routes:[e],params:t}}function a(e,t){for(var n in t)if(t.hasOwnProperty(n)&&e[n]!==t[n])return!1;return!0}function l(e,t,n,i,r,o){return e.some(function(e){if(e!==t)return!1;for(var s,l=t.paramNames,c=0,u=l.length;u>c;++c)if(s=l[c],i[s]!==n[s])return!1;return a(r,o)&&a(o,r)})}function c(e){function t(){$=I,I={}}e=e||{},"function"==typeof e?e={routes:e}:Array.isArray(e)&&(e={routes:e});var n=[],s={},a=[],c=e.location||S,f=e.scrollBehavior||N,E=e.onError||i,A=e.onAbort||r,$={},I={},O=null;"string"==typeof c?d(!h||!1,"You should not use a static location in a DOM environment because the router will not be kept in sync with the current URL"):p(h,"You cannot use %s without a DOM",c),c!==b||T()||(c=y);var R=u.createClass({displayName:"Router",mixins:[w,_,x],statics:{defaultRoute:null,notFoundRoute:null,addRoutes:function(e){n.push.apply(n,k(e,this,s))},makePath:function(e,t,n){var i;if(j.isAbsolute(e))i=j.normalize(e);else{var r=s[e];p(r,'Unable to find <Route name="%s">',e),i=r.path}return j.withQuery(j.injectParams(i,t),n)},makeHref:function(e,t,n){var i=this.makePath(e,t,n);return c===v?"#"+i:i},transitionTo:function(e,t,n){p("string"!=typeof c,"You cannot use transitionTo with a static location");var i=this.makePath(e,t,n);O?c.replace(i):c.push(i)},replaceWith:function(e,t,n){p("string"!=typeof c,"You cannot use replaceWith with a static location"),c.replace(this.makePath(e,t,n))},goBack:function(){return p("string"!=typeof c,"You cannot use goBack with a static location"),M.length>1||c===y?(c.pop(),!0):(d(!1,"goBack() was ignored because there is no router history"),!1)},match:function(e){return o(e,n,this.defaultRoute,this.notFoundRoute)||null},dispatch:function(e,t,n){O&&(O.abort(new L),O=null);var i=$.path;if(i!==e){i&&t!==g.REPLACE&&this.recordScrollPosition(i);var r=j.withoutQuery(e),o=this.match(r);d(null!=o,'No route matches path "%s". Make sure you have <Route path="%s"> somewhere in your routes',e,e),null==o&&(o={});var s,c,u=$.routes||[],p=$.params||{},h=$.query||{},f=o.routes||[],m=o.params||{},v=j.extractQuery(e)||{};u.length?(s=u.filter(function(e){return!l(f,e,p,m,h,v)}),c=f.filter(function(e){return!l(u,e,p,m,h,v)})):(s=[],c=f);var b=new C(e,this.replaceWith.bind(this,e));O=b,b.from(s,a,function(i){return i||b.isAborted?n.call(R,i,b):void b.to(c,m,v,function(i){return i||b.isAborted?n.call(R,i,b):(I.path=e,I.action=t,I.pathname=r,I.routes=f,I.params=m,I.query=v,void n.call(R,null,b))})})}},run:function(e){var t=function(t,n){O=null,t?E.call(R,t):n.isAborted?A.call(R,n.abortReason,c):e.call(R,R,I)};if("string"==typeof c)R.dispatch(c,null,t);else{var n=function(e){R.dispatch(e.path,e.type,t)};c.addChangeListener&&c.addChangeListener(n),R.dispatch(c.getCurrentPath(),null,t)}},teardown:function(){c.removeChangeListener(this.changeListener)}},propTypes:{children:D.falsy},getLocation:function(){return c},getScrollBehavior:function(){return f},getRouteAtDepth:function(e){var t=this.state.routes;return t&&t[e]},getRouteComponents:function(){return a},getInitialState:function(){return t(),$},componentWillReceiveProps:function(){t(),this.setState($)},componentWillUnmount:function(){R.teardown()},render:function(){return this.getRouteAtDepth(0)?u.createElement(m,this.props):null},childContextTypes:{getRouteAtDepth:u.PropTypes.func.isRequired,getRouteComponents:u.PropTypes.func.isRequired,routeHandlers:u.PropTypes.array.isRequired},getChildContext:function(){return{getRouteComponents:this.getRouteComponents,getRouteAtDepth:this.getRouteAtDepth,routeHandlers:[this]}}});return e.routes&&R.addRoutes(e.routes),R}var u=n(1),d=n(11),p=n(3),h=n(10).canUseDOM,f=n(246),m=n(251),g=n(73),v=n(252),b=n(106),y=n(253),w=n(437),_=n(440),x=n(439),k=n(444),T=n(448),C=n(443),D=n(75),E=n(256),M=n(61),L=n(441),j=n(50),S=h?v:"/",N=h?f:null;e.exports=c},function(e){"use strict";function t(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={columnCount:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeOpacity:!0},i=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){i.forEach(function(i){n[t(i,e)]=n[e]})});var r={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},o={isUnitlessNumber:n,shorthandPropertyExpansions:r};e.exports=o},function(e,t,n){"use strict";var i=n(258),r=n(10),o=n(514),s=n(518),a=n(524),l=n(287),c=n(11),u=l(function(e){return a(e)}),d="cssFloat";r.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(d="styleFloat");var p={},h=function(e){p.hasOwnProperty(e)&&p[e]||(p[e]=!0,c(!1,"Unsupported style property "+e+". Did you mean "+o(e)+"?"))},f={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){n.indexOf("-")>-1&&h(n);var i=e[n];null!=i&&(t+=u(n)+":",t+=s(n,i)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){r.indexOf("-")>-1&&h(r);var o=s(r,t[r]);if("float"===r&&(r=d),o)n[r]=o;else{var a=i.shorthandPropertyExpansions[r];if(a)for(var l in a)n[l]="";else n[r]=""}}}};e.exports=f},function(e,t,n){"use strict";function i(){if(a)for(var e in l){var t=l[e],n=a.indexOf(e);if(s(n>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e),!c.plugins[n]){s(t.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e),c.plugins[n]=t;var i=t.eventTypes;for(var o in i)s(r(i[o],t,o),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",o,e)}}}function r(e,t,n){s(!c.eventNameDispatchConfigs.hasOwnProperty(n),"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",n),c.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];o(a,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){s(!c.registrationNameModules[e],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var s=n(3),a=null,l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s(!a,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."),a=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.hasOwnProperty(n)&&l[n]===r||(s(!l[n],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",n),l[n]=r,t=!0)}t&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=c.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){a=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=c.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=c},function(e,t,n){"use strict";function i(e){e.remove()}var r=n(41),o=n(115),s=n(119),a=n(3),l={trapBubbledEvent:function(e,t){a(this.isMounted(),"Must be mounted to trap events");var n=r.trapBubbledEvent(e,t,this.getDOMNode());this._localEventListeners=o(this._localEventListeners,n)},componentWillUnmount:function(){this._localEventListeners&&s(this._localEventListeners,i)}};e.exports=l},function(e,t,n){"use strict";function i(e,t){this.forEachFunction=e,this.forEachContext=t}function r(e,t,n,i){var r=e;r.forEachFunction.call(r.forEachContext,t,i)}function o(e,t,n){if(null==e)return e;var o=i.getPooled(t,n);p(e,r,o),i.release(o)}function s(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function a(e,t,n,i){var r=e,o=r.mapResult,s=!o.hasOwnProperty(n);if(h(s,"ReactChildren.map(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),s){var a=r.mapFunction.call(r.mapContext,t,i);o[n]=a}}function l(e,t,n){if(null==e)return e;var i={},r=s.getPooled(i,t,n);return p(e,a,r),s.release(r),i}function c(){return null}function u(e){return p(e,c,null)}var d=n(35),p=n(291),h=n(11),f=d.twoArgumentPooler,m=d.threeArgumentPooler;d.addPoolingTo(i,f),d.addPoolingTo(s,m);var g={forEach:o,map:l,count:u};e.exports=g},function(e,t,n){"use strict";function i(e){e&&(b(null==e.children||null==e.dangerouslySetInnerHTML,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."),e.contentEditable&&null!=e.children&&console.warn("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),b(null==e.style||"object"==typeof e.style,"The `style` prop expects a mapping from style properties to values, not a string."))}function r(e,t,n,i){"onScroll"!==t||y("scroll",!0)||(_("react_no_scroll_event"),console.warn("This browser doesn't support the `onScroll` event"));var r=h.findReactContainerForID(e);if(r){var o=r.nodeType===E?r.ownerDocument:r;k(t,o)}i.getPutListenerQueue().enqueuePutListener(e,t,n)}function o(e){S.call(j,e)||(b(L.test(e),"Invalid tag: %s",e),j[e]=!0)}function s(e){o(e),this._tag=e,this.tagName=e.toUpperCase()}var a=n(259),l=n(39),c=n(51),u=n(26),d=n(54),p=n(41),h=n(20),f=n(266),m=n(27),g=n(7),v=n(118),b=n(3),y=n(124),w=n(22),_=n(81),x=p.deleteListener,k=p.listenTo,T=p.registrationNameModules,C={string:!0,number:!0},D=w({style:null}),E=1,M={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},L=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,j={},S={}.hasOwnProperty;
s.displayName="ReactDOMComponent",s.Mixin={mountComponent:m.measure("ReactDOMComponent","mountComponent",function(e,t,n){d.Mixin.mountComponent.call(this,e,t,n),i(this.props);var r=M[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t)+r}),_createOpenTagMarkupAndPutListeners:function(e){var t=this.props,n="<"+this._tag;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(null!=o)if(T.hasOwnProperty(i))r(this._rootNodeID,i,o,e);else{i===D&&(o&&(o=t.style=g({},t.style)),o=a.createMarkupForStyles(o));var s=c.createMarkupForProperty(i,o);s&&(n+=" "+s)}}if(e.renderToStaticMarkup)return n+">";var l=c.createMarkupForID(this._rootNodeID);return n+" "+l+">"},_createContentMarkup:function(e){var t=this.props.dangerouslySetInnerHTML;if(null!=t){if(null!=t.__html)return t.__html}else{var n=C[typeof this.props.children]?this.props.children:null,i=null!=n?null:this.props.children;if(null!=n)return v(n);if(null!=i){var r=this.mountChildren(i,e);return r.join("")}}return""},receiveComponent:function(e,t){(e!==this._currentElement||null==e._owner)&&d.Mixin.receiveComponent.call(this,e,t)},updateComponent:m.measure("ReactDOMComponent","updateComponent",function(e,t){i(this._currentElement.props),d.Mixin.updateComponent.call(this,e,t),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e)}),_updateDOMProperties:function(e,t){var n,i,o,s=this.props;for(n in e)if(!s.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===D){var a=e[n];for(i in a)a.hasOwnProperty(i)&&(o=o||{},o[i]="")}else T.hasOwnProperty(n)?x(this._rootNodeID,n):(l.isStandardName[n]||l.isCustomAttribute(n))&&d.BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in s){var c=s[n],u=e[n];if(s.hasOwnProperty(n)&&c!==u)if(n===D)if(c&&(c=s.style=g({},c)),u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(o=o||{},o[i]=c[i])}else o=c;else T.hasOwnProperty(n)?r(this._rootNodeID,n,c,t):(l.isStandardName[n]||l.isCustomAttribute(n))&&d.BackendIDOperations.updatePropertyByID(this._rootNodeID,n,c)}o&&d.BackendIDOperations.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(e,t){var n=this.props,i=C[typeof e.children]?e.children:null,r=C[typeof n.children]?n.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,a=null!=i?null:e.children,l=null!=r?null:n.children,c=null!=i||null!=o,u=null!=r||null!=s;null!=a&&null==l?this.updateChildren(null,t):c&&!u&&this.updateTextContent(""),null!=r?i!==r&&this.updateTextContent(""+r):null!=s?o!==s&&d.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,s):null!=l&&this.updateChildren(l,t)},unmountComponent:function(){this.unmountChildren(),p.deleteAllListeners(this._rootNodeID),d.Mixin.unmountComponent.call(this)}},g(s.prototype,d.Mixin,s.Mixin,f.Mixin,u),e.exports=s},function(e,t,n){"use strict";function i(e){return Math.floor(100*e)/100}function r(e,t,n){e[t]=(e[t]||0)+n}var o=n(39),s=n(486),a=n(20),l=n(27),c=n(529),u={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){u._injected||l.injection.injectMeasure(u.measure),u._allMeasurements.length=0,l.enableMeasure=!0},stop:function(){l.enableMeasure=!1},getLastMeasurements:function(){return u._allMeasurements},printExclusive:function(e){e=e||u._allMeasurements;var t=s.getExclusiveSummary(e);console.table(t.map(function(e){return{"Component class name":e.componentName,"Total inclusive time (ms)":i(e.inclusive),"Exclusive mount time (ms)":i(e.exclusive),"Exclusive render time (ms)":i(e.render),"Mount time per instance (ms)":i(e.exclusive/e.count),"Render time per instance (ms)":i(e.render/e.count),Instances:e.count}}))},printInclusive:function(e){e=e||u._allMeasurements;var t=s.getInclusiveSummary(e);console.table(t.map(function(e){return{"Owner > component":e.componentName,"Inclusive time (ms)":i(e.time),Instances:e.count}})),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(e){var t=s.getInclusiveSummary(e,!0);return t.map(function(e){return{"Owner > component":e.componentName,"Wasted time (ms)":e.time,Instances:e.count}})},printWasted:function(e){e=e||u._allMeasurements,console.table(u.getMeasurementsSummaryMap(e)),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},printDOM:function(e){e=e||u._allMeasurements;var t=s.getDOMSummary(e);console.table(t.map(function(e){var t={};return t[o.ID_ATTRIBUTE_NAME]=e.id,t.type=e.type,t.args=JSON.stringify(e.args),t})),console.log("Total time:",s.getTotalTime(e).toFixed(2)+" ms")},_recordWrite:function(e,t,n,i){var r=u._allMeasurements[u._allMeasurements.length-1].writes;r[e]=r[e]||[],r[e].push({type:t,time:n,args:i})},measure:function(e,t,n){return function(){for(var i=[],o=0,s=arguments.length;s>o;o++)i.push(arguments[o]);var l,d,p;if("_renderNewRootComponent"===t||"flushBatchedUpdates"===t)return u._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),p=c(),d=n.apply(this,i),u._allMeasurements[u._allMeasurements.length-1].totalTime=c()-p,d;if("ReactDOMIDOperations"===e||"ReactComponentBrowserEnvironment"===e){if(p=c(),d=n.apply(this,i),l=c()-p,"mountImageIntoNode"===t){var h=a.getID(i[1]);u._recordWrite(h,t,l,i[0])}else"dangerouslyProcessChildrenUpdates"===t?i[0].forEach(function(e){var t={};null!==e.fromIndex&&(t.fromIndex=e.fromIndex),null!==e.toIndex&&(t.toIndex=e.toIndex),null!==e.textContent&&(t.textContent=e.textContent),null!==e.markupIndex&&(t.markup=i[1][e.markupIndex]),u._recordWrite(e.parentID,e.type,l,t)}):u._recordWrite(i[0],t,l,Array.prototype.slice.call(i,1));return d}if("ReactCompositeComponent"!==e||"mountComponent"!==t&&"updateComponent"!==t&&"_renderValidatedComponent"!==t)return n.apply(this,i);var f="mountComponent"===t?i[0]:this._rootNodeID,m="_renderValidatedComponent"===t,g="mountComponent"===t,v=u._mountStack,b=u._allMeasurements[u._allMeasurements.length-1];if(m?r(b.counts,f,1):g&&v.push(0),p=c(),d=n.apply(this,i),l=c()-p,m)r(b.render,f,l);else if(g){var y=v.pop();v[v.length-1]+=l,r(b.exclusive,f,l-y),r(b.inclusive,f,l)}else r(b.inclusive,f,l);return b.displayNames[f]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"},d}}};e.exports=u},function(e,t,n){"use strict";var i=n(512),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=i(e);return e.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var n=t.getAttribute(r.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=i(e);return o===n}};e.exports=r},function(e,t,n){"use strict";function i(e,t,n){m.push({parentID:e,parentNode:null,type:u.INSERT_MARKUP,markupIndex:g.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function r(e,t,n){m.push({parentID:e,parentNode:null,type:u.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function o(e,t){m.push({parentID:e,parentNode:null,type:u.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function s(e,t){m.push({parentID:e,parentNode:null,type:u.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function a(){m.length&&(c.BackendIDOperations.dangerouslyProcessChildrenUpdates(m,g),l())}function l(){m.length=0,g.length=0}var c=n(54),u=n(267),d=n(520),p=n(80),h=n(125),f=0,m=[],g=[],v={Mixin:{mountChildren:function(e,t){var n=d(e),i=[],r=0;this._renderedChildren=n;for(var o in n){var s=n[o];if(n.hasOwnProperty(o)){var a=p(s,null);n[o]=a;var l=this._rootNodeID+o,c=a.mountComponent(l,t,this._mountDepth+1);a._mountIndex=r,i.push(c),r++}}return i},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setTextContent(e),t=!1}finally{f--,f||(t?l():a())}},updateChildren:function(e,t){f++;var n=!0;try{this._updateChildren(e,t),n=!1}finally{f--,f||(n?l():a())}},_updateChildren:function(e,t){var n=d(e),i=this._renderedChildren;if(n||i){var r,o=0,s=0;for(r in n)if(n.hasOwnProperty(r)){var a=i&&i[r],l=a&&a._currentElement,c=n[r];if(h(l,c))this.moveChild(a,s,o),o=Math.max(a._mountIndex,o),a.receiveComponent(c,t),a._mountIndex=s;else{a&&(o=Math.max(a._mountIndex,o),this._unmountChildByName(a,r));var u=p(c,null);this._mountChildByNameAtIndex(u,r,s,t)}s++}for(r in i)!i.hasOwnProperty(r)||n&&n[r]||this._unmountChildByName(i[r],r)}},unmountChildren:function(){var e=this._renderedChildren;for(var t in e){var n=e[t];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){i(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,i){var r=this._rootNodeID+t,o=e.mountComponent(r,i,this._mountDepth+1);e._mountIndex=n,this.createChild(e,o),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[t]=e},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null,e.unmountComponent(),delete this._renderedChildren[t]}}};e.exports=v},function(e,t,n){"use strict";var i=n(56),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=r},function(e,t,n){"use strict";function i(e,t,n){var i=a[e];return null==i?(o(s,"There is no registered component for the tag %s",e),new s(e,t)):n===e?(o(s,"There is no registered component for the tag %s",e),new s(e,t)):new i.type(t)}var r=n(7),o=n(3),s=null,a={},l={injectGenericComponentClass:function(e){s=e},injectComponentClasses:function(e){r(a,e)}},c={createInstanceForTag:i,injection:l};e.exports=c},function(e,t,n){"use strict";var i=n(519),r=n(3),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(o.isValidOwner(n),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(o.isValidOwner(n),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."),n.refs[t]===e&&n.detachRef(t)},Mixin:{construct:function(){this.refs=i},attachRef:function(e,t){r(t.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",e);var n=this.refs===i?this.refs={}:this.refs;n[e]=t},detachRef:function(e){delete this.refs[e]}}};e.exports=o},function(e,t,n){"use strict";function i(e){return function(t,n,i){t[n]=t.hasOwnProperty(n)?e(t[n],i):i}}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=p[n];i&&p.hasOwnProperty(n)?i(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var o=n(7),s=n(25),a=n(3),l=n(527),c=n(11),u=!1,d=i(function(e,t){return o({},t,e)}),p={children:s,className:i(l),style:d},h={TransferStrategies:p,mergeProps:function(e,t){return r(o({},e),t)},Mixin:{transferPropsTo:function(e){return a(e._owner===this,"%s: You can't call transferPropsTo() on a component that you don't own, %s. This usually means you are calling transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,"string"==typeof e.type?e.type:e.type.displayName),u||(u=!0,c(!1,"transferPropsTo is deprecated. See http://fb.me/react-transferpropsto for more information.")),r(e.props,this.props),e}}};e.exports=h},function(e){"use strict";var t={};t={prop:"prop",context:"context",childContext:"child context"},e.exports=t},function(e,t,n){"use strict";var i=n(56),r=i({prop:null,context:null,childContext:null});e.exports=r},function(e,t,n){"use strict";function i(e){function t(t,n,i,r,o){if(r=r||_,null!=n[i])return e(n,i,r,o);var s=b[o];return t?new Error("Required "+s+" `"+i+"` was not specified in "+("`"+r+"`.")):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function r(e){function t(t,n,i,r){var o=t[n],s=m(o);if(s!==e){var a=b[r],l=g(o);return new Error("Invalid "+a+" `"+n+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `"+e+"`."))}}return i(t)}function o(){return i(w.thatReturns())}function s(e){function t(t,n,i,r){var o=t[n];if(!Array.isArray(o)){var s=b[r],a=m(o);return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+i+"`, expected an array."))}for(var l=0;l<o.length;l++){var c=e(o,l,i,r);if(c instanceof Error)return c}}return i(t)}function a(){function e(e,t,n,i){if(!v.isValidElement(e[t])){var r=b[i];return new Error("Invalid "+r+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactElement."))}}return i(e)}function l(e){function t(t,n,i,r){if(!(t[n]instanceof e)){var o=b[r],s=e.name||_;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+i+"`, expected instance of `"+s+"`."))}}return i(t)}function c(e){function t(t,n,i,r){for(var o=t[n],s=0;s<e.length;s++)if(o===e[s])return;var a=b[r],l=JSON.stringify(e);return new Error("Invalid "+a+" `"+n+"` of value `"+o+"` "+("supplied to `"+i+"`, expected one of "+l+"."))}return i(t)}function u(e){function t(t,n,i,r){var o=t[n],s=m(o);if("object"!==s){var a=b[r];return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an object."))}for(var l in o)if(o.hasOwnProperty(l)){var c=e(o,l,i,r);if(c instanceof Error)return c}}return i(t)}function d(e){function t(t,n,i,r){for(var o=0;o<e.length;o++){var s=e[o];if(null==s(t,n,i,r))return}var a=b[r];return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+i+"`."))}return i(t)}function p(){function e(e,t,n,i){if(!f(e[t])){var r=b[i];return new Error("Invalid "+r+" `"+t+"` supplied to "+("`"+n+"`, expected a ReactNode."))}}return i(e)}function h(e){function t(t,n,i,r){var o=t[n],s=m(o);if("object"!==s){var a=b[r];return new Error("Invalid "+a+" `"+n+"` of type `"+s+"` "+("supplied to `"+i+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(o,l,i,r);if(u)return u}}}return i(t,"expected `object`")}function f(e){switch(typeof e){case"number":case"string":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(v.isValidElement(e))return!0;for(var t in e)if(!f(e[t]))return!1;return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var v=n(9),b=n(271),y=n(117),w=n(25),_="<<anonymous>>",x=a(),k=p(),T={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:o(),arrayOf:s,element:x,instanceOf:l,node:k,objectOf:u,oneOf:c,oneOfType:d,shape:h,component:y("React.PropTypes","component","element",this,x),renderable:y("React.PropTypes","renderable","node",this,k)};e.exports=T},function(e,t,n){"use strict";function i(){this.listenersToPut=[]}var r=n(35),o=n(41),s=n(7);s(i.prototype,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];o.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},function(e){"use strict";var t={injectCreateReactRootIndex:function(e){n.createReactRootIndex=e}},n={createReactRootIndex:null,injection:t};e.exports=n},function(e,t,n){"use strict";var i=n(53),r=n(497),o=n(7),s=n(278),a=n(25),l=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillReceiveProps:function(e){var t=r.getChildMapping(e.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,t)});var i;for(i in t){var o=n&&n.hasOwnProperty(i);!t[i]||o||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var s=t&&t.hasOwnProperty(i);!n[i]||s||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var i=o({},this.state.children);delete i[e],this.setState({children:i})}},render:function(){var e={};for(var t in this.state.children){var n=this.state.children[t];n&&(e[t]=s(this.props.childFactory(n),{ref:t}))}return i.createElement(this.props.component,this.props,e)}});e.exports=l},function(e,t,n){"use strict";var i=n(284),r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var e=i(window);r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";function i(e,t){a(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent.");var n=o.mergeProps(t,e.props);return!n.hasOwnProperty(l)&&e.props.hasOwnProperty(l)&&(n.children=e.props.children),r.createElement(e.type,n)}var r=n(9),o=n(270),s=n(22),a=n(11),l=s({children:null});e.exports=i},function(e,t,n){function i(e,t){return e&&t?e===t?!0:r(e)?!1:r(t)?i(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var r=n(526);e.exports=i},function(e){"use strict";function t(e){try{e.focus()}catch(t){}}e.exports=t},function(e){function t(){try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=t},function(e,t,n){function i(e){return o(!!s,"Markup wrapping node not initialized"),p.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(s.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!s.firstChild),a[e]?p[e]:null}var r=n(10),o=n(3),s=r.canUseDOM?document.createElement("div"):null,a={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<svg>","</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u,circle:d,defs:d,ellipse:d,g:d,line:d,linearGradient:d,path:d,polygon:d,polyline:d,radialGradient:d,rect:d,stop:d,text:d};e.exports=i},function(e){"use strict";function t(e){return e?e.nodeType===n?e.documentElement:e.firstChild:null}var n=9;e.exports=t},function(e){"use strict";function t(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=t},function(e){"use strict";function t(e){return e&&("INPUT"===e.nodeName&&n[e.type]||"TEXTAREA"===e.nodeName)}var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=t},function(e){"use strict";function t(e,t,i){if(!e)return null;var r={};for(var o in e)n.call(e,o)&&(r[o]=t.call(i,e[o],o,e));return r}var n=Object.prototype.hasOwnProperty;e.exports=t},function(e){"use strict";function t(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e.call(this,n)}}e.exports=t},function(e,t,n){"use strict";function i(e){return o(r.isValidElement(e),"onlyChild must be passed a children with exactly one child."),e}var r=n(9),o=n(3);e.exports=i},function(e,t,n){"use strict";var i=n(10),r=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=function(e,t){e.innerHTML=t};if(i.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=""+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=s},function(e){"use strict";function t(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}e.exports=t},function(e,t,n){"use strict";function i(e){return h[e]}function r(e,t){return e&&null!=e.key?s(e.key):t.toString(36)}function o(e){return(""+e).replace(f,i)}function s(e){return"$"+o(e)}function a(e,t,n){return null==e?0:m(e,"",0,t,n)}var l=n(9),c=n(55),u=n(3),d=c.SEPARATOR,p=":",h={"=":"=0",".":"=1",":":"=2"},f=/[=.:]/g,m=function(e,t,n,i,o){var a,c,h=0;if(Array.isArray(e))for(var f=0;f<e.length;f++){var g=e[f];a=t+(t?p:d)+r(g,f),c=n+h,h+=m(g,a,c,i,o)}else{var v=typeof e,b=""===t,y=b?d+r(e,0):t;if(null==e||"boolean"===v)i(o,null,y,n),h=1;else if("string"===v||"number"===v||l.isValidElement(e))i(o,e,y,n),h=1;else if("object"===v){u(!e||1!==e.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components.");for(var w in e)e.hasOwnProperty(w)&&(a=t+(t?p:d)+s(w)+p+r(e[w],0),c=n+h,h+=m(e[w],a,c,i,o))}}return h};e.exports=a},function(e,t,n){var i=n(28),r=n(294).instanceJoinCreator;e.exports={hasListener:function(e){for(var t,n,i,r=0;r<(this.subscriptions||[]).length;++r)for(i=[].concat(this.subscriptions[r].listenable),t=0;t<i.length;t++)if(n=i[t],n===e||n.hasListener&&n.hasListener(e))return!0;return!1},listenToMany:function(e){for(var t in e){var n=i.callbackName(t),r=this[n]?n:this[t]?t:void 0;r&&this.listenTo(e[t],r,this[n+"Default"]||this[r+"Default"]||r)}},validateListening:function(e){return e===this?"Listener is not able to listen to itself":i.isFunction(e.listen)?e.hasListener&&e.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:e+" is missing a listen method"},listenTo:function(e,t,n){var r,o,s,a=this.subscriptions=this.subscriptions||[];return i.throwIf(this.validateListening(e)),this.fetchDefaultData(e,n),r=e.listen(this[t]||t,this),o=function(){var e=a.indexOf(s);i.throwIf(-1===e,"Tried to remove listen already gone from subscriptions list!"),a.splice(e,1),r()},s={stop:o,listenable:e},a.push(s),s},stopListeningTo:function(e){for(var t,n=0,r=this.subscriptions||[];n<r.length;n++)if(t=r[n],t.listenable===e)return t.stop(),i.throwIf(-1!==r.indexOf(t),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var e,t=this.subscriptions||[];e=t.length;)t[0].stop(),i.throwIf(t.length!==e-1,"Failed to remove listen from subscriptions list!")},fetchDefaultData:function(e,t){t=t&&this[t]||t;var n=this;i.isFunction(t)&&i.isFunction(e.getDefaultData)&&(data=e.getDefaultData(),data&&i.isFunction(data.then)?data.then(function(){t.apply(n,arguments)}):t.call(this,data))},joinTrailing:r("last"),joinLeading:r("first"),joinConcat:r("all"),joinStrict:r("strict")}},function(e,t,n){var i=n(28),r=n(4),o=n(126),s={preEmit:1,shouldEmit:1};e.exports=function(e){function t(){var e,t=0;if(this.subscriptions=[],this.emitter=new i.EventEmitter,this.eventLabel="change",this.init&&i.isFunction(this.init)&&this.init(),this.listenables)for(e=[].concat(this.listenables);t<e.length;t++)this.listenToMany(e[t])}e=e||{};for(var n in e)if(!s[n]&&(r.PublisherMethods[n]||r.ListenerMethods[n]))throw new Error("Cannot override API method "+n+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");i.extend(t.prototype,r.ListenerMethods,r.PublisherMethods,e);var a=new t;return o.createdStores.push(a),a}},function(e,t,n){function i(e,t,n){return function(){var i,r=n.subscriptions;for(index=r?r.indexOf(e):-1,l.throwIf(-1===index,"Tried to remove join already gone from subscriptions list!"),i=0;i<t.length;i++)t[i]();r.splice(index,1)}}function r(e){e.listenablesEmitted=new Array(e.numberOfListenables),e.args=new Array(e.numberOfListenables)}function o(e,t){return function(){var n=a.call(arguments);if(t.listenablesEmitted[e])switch(t.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":t.args[e]=n;break;case"all":t.args[e].push(n)}else t.listenablesEmitted[e]=!0,t.args[e]="all"===t.strategy?[n]:n;s(t)}}function s(e){for(var t=0;t<e.numberOfListenables;t++)if(!e.listenablesEmitted[t])return;e.callback.apply(e.listener,e.args),r(e)}var a=Array.prototype.slice,l=n(28),c=n(293),u={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};t.staticJoinCreator=function(e){return function(){var t=a.call(arguments);return c({init:function(){this[u[e]].apply(this,t.concat("triggerAsync"))}})}},t.instanceJoinCreator=function(e){return function(){l.throwIf(arguments.length<3,"Cannot create a join with less than 2 listenables!");var t,n,s=a.call(arguments),c=s.pop(),u=s.length,d={numberOfListenables:u,callback:this[c]||c,listener:this,strategy:e},p=[];for(t=0;u>t;t++)l.throwIf(this.validateListening(s[t]));for(t=0;u>t;t++)p.push(s[t].listen(o(t,d),this));return r(d),n={listenable:s},n.stop=i(n,p,this),this.subscriptions=(this.subscriptions||[]).concat(n),n}}},function(e,t,n){(function(e){function e(t,n,i){if(!(this instanceof e))return new e(t,n,i);var r,o=typeof t;if("number"===o)r=t>0?t>>>0:0;else if("string"===o)"base64"===n&&(t=x(t)),r=e.byteLength(t,n);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&$(t.data)&&(t=t.data),r=+t.length>0?Math.floor(+t.length):0}if(this.length>I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");var s;e.TYPED_ARRAY_SUPPORT?s=e._augment(new Uint8Array(r)):(s=this,s.length=r,s._isBuffer=!0);var a;if(e.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)s._set(t);else if(T(t))if(e.isBuffer(t))for(a=0;r>a;a++)s[a]=t.readUInt8(a);else for(a=0;r>a;a++)s[a]=(t[a]%256+256)%256;else if("string"===o)s.write(t,0,n);else if("number"===o&&!e.TYPED_ARRAY_SUPPORT&&!i)for(a=0;r>a;a++)s[a]=0;return s}function i(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function r(e,t,n,i){var r=j(D(t),e,n,i);return r}function o(e,t,n,i){var r=j(E(t),e,n,i);return r}function s(e,t,n,i){return o(e,t,n,i)}function a(e,t,n,i){var r=j(L(t),e,n,i);return r}function l(e,t,n,i){var r=j(M(t),e,n,i,2);return r}function c(e,t,n){return N.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function u(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(i+=S(r)+String.fromCharCode(e[o]),r=""):r+="%"+e[o].toString(16);return i+S(r)}function d(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function p(e,t,n){return d(e,t,n)}function h(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=C(e[o]);return r}function f(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function m(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function g(t,n,i,r,o,s){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||s>n)throw new TypeError("value is out of bounds");if(i+r>t.length)throw new TypeError("index out of range")}function v(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function b(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function y(e,t,n,i,r,o){if(t>r||o>t)throw new TypeError("value is out of bounds");if(n+i>e.length)throw new TypeError("index out of range")}function w(e,t,n,i,r){return r||y(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),A.write(e,t,n,i,23,4),n+4}function _(e,t,n,i,r){return r||y(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),A.write(e,t,n,i,52,8),n+8}function x(e){for(e=k(e).replace(R,"");e.length%4!==0;)e+="=";return e}function k(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(t){return $(t)||e.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function C(e){return 16>e?"0"+e.toString(16):e.toString(16)}function D(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(127>=i)t.push(i);else{var r=n;i>=55296&&57343>=i&&n++;for(var o=encodeURIComponent(e.slice(r,n+1)).substr(1).split("%"),s=0;s<o.length;s++)t.push(parseInt(o[s],16))}}return t}function E(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function M(e){for(var t,n,i,r=[],o=0;o<e.length;o++)t=e.charCodeAt(o),n=t>>8,i=t%256,r.push(i),r.push(n);return r}function L(e){return N.toByteArray(e)}function j(e,t,n,i,r){r&&(i-=i%r);for(var o=0;i>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function S(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var N=n(548),A=n(549),$=n(550);t.Buffer=e,t.SlowBuffer=e,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var I=1073741823;e.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");for(var i=t.length,r=n.length,o=0,s=Math.min(i,r);s>o&&t[o]===n[o];o++);return o!==s&&(i=t[o],r=n[o]),r>i?-1:i>r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!$(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new e(0);if(1===t.length)return t[0];var i;if(void 0===n)for(n=0,i=0;i<t.length;i++)n+=t[i].length;var r=new e(n),o=0;for(i=0;i<t.length;i++){var s=t[i];s.copy(r,o),o+=s.length}return r},e.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=D(e).length;break;case"base64":n=L(e).length;break;default:n=e.length}return n},e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(e,t,n){var i=!1;if(t>>>=0,n=void 0===n||1/0===n?this.length:n>>>0,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return h(this,t,n);case"utf8":case"utf-8":return u(this,t,n);case"ascii":return d(this,t,n);case"binary":return p(this,t,n);case"base64":return c(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return e.compare(this,t)},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,c){if(isFinite(t))isFinite(n)||(c=n,n=void 0);else{var u=c;c=t,t=n,n=u}t=Number(t)||0;var d=this.length-t;n?(n=Number(n),n>d&&(n=d)):n=d,c=String(c||"utf8").toLowerCase();var p;switch(c){case"hex":p=i(this,e,t,n);break;case"utf8":case"utf-8":p=r(this,e,t,n);break;case"ascii":p=o(this,e,t,n);break;case"binary":p=s(this,e,t,n);break;case"base64":p=a(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=l(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+c)}return p},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e.prototype.slice=function(t,n){var i=this.length;if(t=~~t,n=void 0===n?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),t>n&&(n=t),e.TYPED_ARRAY_SUPPORT)return e._augment(this.subarray(t,n));for(var r=n-t,o=new e(r,void 0,!0),s=0;r>s;s++)o[s]=this[s+t];return o},e.prototype.readUInt8=function(e,t){return t||m(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||m(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||m(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||m(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||m(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readInt8=function(e,t){return t||m(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||m(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||m(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||m(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||m(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||m(e,4,this.length),A.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||m(e,4,this.length),A.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||m(e,8,this.length),A.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||m(e,8,this.length),A.read(this,e,!1,52,8)},e.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):v(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):v(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t):b(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):b(this,t,n,!1),n+4},e.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):v(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):v(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):b(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||g(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):b(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return w(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return w(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return _(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return _(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,r){var o=this;if(i||(i=0),r||0===r||(r=this.length),n||(n=0),r!==i&&0!==t.length&&0!==o.length){if(i>r)throw new TypeError("sourceEnd < sourceStart");if(0>n||n>=t.length)throw new TypeError("targetStart out of bounds");if(0>i||i>=o.length)throw new TypeError("sourceStart out of bounds");if(0>r||r>o.length)throw new TypeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var s=r-i;if(1e3>s||!e.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)t[a+n]=this[a+i];else t._set(this.subarray(i,i+s),n)}},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new TypeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new TypeError("start out of bounds");if(0>n||n>this.length)throw new TypeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=D(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var O=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=O.get,t.set=O.set,t.write=O.write,t.toString=O.toString,t.toLocaleString=O.toString,t.toJSON=O.toJSON,t.equals=O.equals,t.compare=O.compare,t.copy=O.copy,t.slice=O.slice,t.readUInt8=O.readUInt8,t.readUInt16LE=O.readUInt16LE,t.readUInt16BE=O.readUInt16BE,t.readUInt32LE=O.readUInt32LE,t.readUInt32BE=O.readUInt32BE,t.readInt8=O.readInt8,t.readInt16LE=O.readInt16LE,t.readInt16BE=O.readInt16BE,t.readInt32LE=O.readInt32LE,t.readInt32BE=O.readInt32BE,t.readFloatLE=O.readFloatLE,t.readFloatBE=O.readFloatBE,t.readDoubleLE=O.readDoubleLE,t.readDoubleBE=O.readDoubleBE,t.writeUInt8=O.writeUInt8,t.writeUInt16LE=O.writeUInt16LE,t.writeUInt16BE=O.writeUInt16BE,t.writeUInt32LE=O.writeUInt32LE,t.writeUInt32BE=O.writeUInt32BE,t.writeInt8=O.writeInt8,t.writeInt16LE=O.writeInt16LE,t.writeInt16BE=O.writeInt16BE,t.writeInt32LE=O.writeInt32LE,t.writeInt32BE=O.writeInt32BE,t.writeFloatLE=O.writeFloatLE,t.writeFloatBE=O.writeFloatBE,t.writeDoubleLE=O.writeDoubleLE,t.writeDoubleBE=O.writeDoubleBE,t.fill=O.fill,t.inspect=O.inspect,t.toArrayBuffer=O.toArrayBuffer,t};var R=/[^+\/0-9A-z]/g}).call(t,n(295).Buffer)},function(module,exports,__webpack_require__){(function(jQuery){!function($){function sc_setScroll(e,t,n){return"transition"==n.transition&&"swing"==t&&(t="ease"),{anims:[],duration:e,orgDuration:e,easing:t,startTime:getTime()}}function sc_startScroll(e,t){for(var n=0,i=e.anims.length;i>n;n++){var r=e.anims[n];r&&r[0][t.transition](r[1],e.duration,e.easing,r[2])}}function sc_stopScroll(e,t){is_boolean(t)||(t=!0),is_object(e.pre)&&sc_stopScroll(e.pre,t);for(var n=0,i=e.anims.length;i>n;n++){var r=e.anims[n];r[0].stop(!0),t&&(r[0].css(r[1]),is_function(r[2])&&r[2]())}is_object(e.post)&&sc_stopScroll(e.post,t)}function sc_afterScroll(e,t,n){switch(t&&t.remove(),n.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":e.css("opacity",1),e.css("filter","")}}function sc_fireCallbacks(e,t,n,i,r){if(t[n]&&t[n].call(e,i),r[n].length)for(var o=0,s=r[n].length;s>o;o++)r[n][o].call(e,i);return[]}function sc_fireQueue(e,t,n){return t.length&&(e.trigger(cf_e(t[0][0],n),t[0][1]),t.shift()),t}function sc_hideHiddenItems(e){e.each(function(){var e=$(this);e.data("_cfs_isHidden",e.is(":hidden")).hide()})}function sc_showHiddenItems(e){e&&e.each(function(){var e=$(this);e.data("_cfs_isHidden")||e.show()})}function sc_clearTimers(e){return e.auto&&clearTimeout(e.auto),e.progress&&clearInterval(e.progress),e}function sc_mapCallbackArguments(e,t,n,i,r,o,s){return{width:s.width,height:s.height,items:{old:e,skipped:t,visible:n},scroll:{items:i,direction:r,duration:o}}}function sc_getDuration(e,t,n,i){var r=e.duration;return"none"==e.fx?0:("auto"==r?r=t.scroll.duration/t.scroll.items*n:10>r&&(r=i/r),1>r?0:("fade"==e.fx&&(r/=2),Math.round(r)))}function nv_showNavi(e,t,n){var i=is_number(e.items.minimum)?e.items.minimum:e.items.visible+1;if("show"==t||"hide"==t)var r=t;else if(i>t){debug(n,"Not enough items ("+t+" total, "+i+" needed): Hiding navigation.");var r="hide"}else var r="show";var o="show"==r?"removeClass":"addClass",s=cf_c("hidden",n);e.auto.button&&e.auto.button[r]()[o](s),e.prev.button&&e.prev.button[r]()[o](s),e.next.button&&e.next.button[r]()[o](s),e.pagination.container&&e.pagination.container[r]()[o](s)}function nv_enableNavi(e,t,n){if(!e.circular&&!e.infinite){var i="removeClass"==t||"addClass"==t?t:!1,r=cf_c("disabled",n);if(e.auto.button&&i&&e.auto.button[i](r),e.prev.button){var o=i||0==t?"addClass":"removeClass";e.prev.button[o](r)}if(e.next.button){var o=i||t==e.items.visible?"addClass":"removeClass";e.next.button[o](r)}}}function go_getObject(e,t){return is_function(t)?t=t.call(e):is_undefined(t)&&(t={}),t}function go_getItemsObject(e,t){return t=go_getObject(e,t),is_number(t)?t={visible:t}:"variable"==t?t={visible:t,width:t,height:t}:is_object(t)||(t={}),t}function go_getScrollObject(e,t){return t=go_getObject(e,t),is_number(t)?t=50>=t?{items:t}:{duration:t}:is_string(t)?t={easing:t}:is_object(t)||(t={}),t}function go_getNaviObject(e,t){if(t=go_getObject(e,t),is_string(t)){var n=cf_getKeyCode(t);t=-1==n?$(t):n}return t}function go_getAutoObject(e,t){return t=go_getNaviObject(e,t),is_jquery(t)?t={button:t}:is_boolean(t)?t={play:t}:is_number(t)&&(t={timeoutDuration:t}),t.progress&&(is_string(t.progress)||is_jquery(t.progress))&&(t.progress={bar:t.progress}),t}function go_complementAutoObject(e,t){return is_function(t.button)&&(t.button=t.button.call(e)),is_string(t.button)&&(t.button=$(t.button)),is_boolean(t.play)||(t.play=!0),is_number(t.delay)||(t.delay=0),is_undefined(t.pauseOnEvent)&&(t.pauseOnEvent=!0),is_boolean(t.pauseOnResize)||(t.pauseOnResize=!0),is_number(t.timeoutDuration)||(t.timeoutDuration=t.duration<10?2500:5*t.duration),t.progress&&(is_function(t.progress.bar)&&(t.progress.bar=t.progress.bar.call(e)),is_string(t.progress.bar)&&(t.progress.bar=$(t.progress.bar)),t.progress.bar?(is_function(t.progress.updater)||(t.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(t.progress.interval)||(t.progress.interval=50)):t.progress=!1),t}function go_getPrevNextObject(e,t){return t=go_getNaviObject(e,t),is_jquery(t)?t={button:t}:is_number(t)&&(t={key:t}),t}function go_complementPrevNextObject(e,t){return is_function(t.button)&&(t.button=t.button.call(e)),is_string(t.button)&&(t.button=$(t.button)),is_string(t.key)&&(t.key=cf_getKeyCode(t.key)),t}function go_getPaginationObject(e,t){return t=go_getNaviObject(e,t),is_jquery(t)?t={container:t}:is_boolean(t)&&(t={keys:t}),t}function go_complementPaginationObject(e,t){return is_function(t.container)&&(t.container=t.container.call(e)),is_string(t.container)&&(t.container=$(t.container)),is_number(t.items)||(t.items=!1),is_boolean(t.keys)||(t.keys=!1),is_function(t.anchorBuilder)||is_false(t.anchorBuilder)||(t.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(t.deviation)||(t.deviation=0),t}function go_getSwipeObject(e,t){return is_function(t)&&(t=t.call(e)),is_undefined(t)&&(t={onTouch:!1}),is_true(t)?t={onTouch:t}:is_number(t)&&(t={items:t}),t}function go_complementSwipeObject(e,t){return is_boolean(t.onTouch)||(t.onTouch=!0),is_boolean(t.onMouse)||(t.onMouse=!1),is_object(t.options)||(t.options={}),is_boolean(t.options.triggerOnTouchEnd)||(t.options.triggerOnTouchEnd=!1),t}function go_getMousewheelObject(e,t){return is_function(t)&&(t=t.call(e)),is_true(t)?t={}:is_number(t)?t={items:t}:is_undefined(t)&&(t=!1),t}function go_complementMousewheelObject(e,t){return t}function gn_getItemIndex(e,t,n,i,r){if(is_string(e)&&(e=$(e,r)),is_object(e)&&(e=$(e,r)),is_jquery(e)?(e=r.children().index(e),is_boolean(n)||(n=!1)):is_boolean(n)||(n=!0),is_number(e)||(e=0),is_number(t)||(t=0),n&&(e+=i.first),e+=t,i.total>0){for(;e>=i.total;)e-=i.total;for(;0>e;)e+=i.total}return e}function gn_getVisibleItemsPrev(e,t,n){for(var i=0,r=0,o=n;o>=0;o--){var s=e.eq(o);if(i+=s.is(":visible")?s[t.d.outerWidth](!0):0,i>t.maxDimension)return r;0==o&&(o=e.length),r++}}function gn_getVisibleItemsPrevFilter(e,t,n){return gn_getItemsPrevFilter(e,t.items.filter,t.items.visibleConf.org,n)}function gn_getScrollItemsPrevFilter(e,t,n,i){return gn_getItemsPrevFilter(e,t.items.filter,i,n)}function gn_getItemsPrevFilter(e,t,n,i){for(var r=0,o=0,s=i,a=e.length;s>=0;s--){if(o++,o==a)return o;var l=e.eq(s);if(l.is(t)&&(r++,r==n))return o;0==s&&(s=a)}}function gn_getVisibleOrg(e,t){return t.items.visibleConf.org||e.children().slice(0,t.items.visible).filter(t.items.filter).length}function gn_getVisibleItemsNext(e,t,n){for(var i=0,r=0,o=n,s=e.length-1;s>=o;o++){var a=e.eq(o);if(i+=a.is(":visible")?a[t.d.outerWidth](!0):0,i>t.maxDimension)return r;if(r++,r==s+1)return r;o==s&&(o=-1)}}function gn_getVisibleItemsNextTestCircular(e,t,n,i){var r=gn_getVisibleItemsNext(e,t,n);return t.circular||n+r>i&&(r=i-n),r}function gn_getVisibleItemsNextFilter(e,t,n){return gn_getItemsNextFilter(e,t.items.filter,t.items.visibleConf.org,n,t.circular)}function gn_getScrollItemsNextFilter(e,t,n,i){return gn_getItemsNextFilter(e,t.items.filter,i+1,n,t.circular)-1}function gn_getItemsNextFilter(e,t,n,i){for(var r=0,o=0,s=i,a=e.length-1;a>=s;s++){if(o++,o>=a)return o;var l=e.eq(s);if(l.is(t)&&(r++,r==n))return o;s==a&&(s=-1)}}function gi_getCurrentItems(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsPrev(e,t,n){return e.slice(n,t.items.visibleConf.old+n)}function gi_getNewItemsPrev(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsNext(e,t){return e.slice(0,t.items.visibleConf.old)}function gi_getNewItemsNext(e,t,n){return e.slice(n,t.items.visible+n)}function sz_storeMargin(e,t,n){t.usePadding&&(is_string(n)||(n="_cfs_origCssMargin"),e.each(function(){var e=$(this),i=parseInt(e.css(t.d.marginRight),10);is_number(i)||(i=0),e.data(n,i)}))}function sz_resetMargin(e,t,n){if(t.usePadding){var i=is_boolean(n)?n:!1;is_number(n)||(n=0),sz_storeMargin(e,t,"_cfs_tempCssMargin"),e.each(function(){var e=$(this);e.css(t.d.marginRight,i?e.data("_cfs_tempCssMargin"):n+e.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(e){e.each(function(){var e=$(this);e.data("_cfs_origCss",e.attr("style")||"")})}function sz_restoreOrigCss(e){e.each(function(){var e=$(this);e.attr("style",e.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(e,t){var n=(e.items.visible,e.items[e.d.width]),i=e[e.d.height],r=is_percentage(i);t.each(function(){var t=$(this),o=n-ms_getPaddingBorderMargin(t,e,"Width");t[e.d.width](o),r&&t[e.d.height](ms_getPercentage(o,i))})}function sz_setSizes(e,t){var n=e.parent(),i=e.children(),r=gi_getCurrentItems(i,t),o=cf_mapWrapperSizes(ms_getSizes(r,t,!0),t,!1);if(n.css(o),t.usePadding){var s=t.padding,a=s[t.d[1]];t.align&&0>a&&(a=0);var l=r.last();l.css(t.d.marginRight,l.data("_cfs_origCssMargin")+a),e.css(t.d.top,s[t.d[0]]),e.css(t.d.left,s[t.d[3]])}return e.css(t.d.width,o[t.d.width]+2*ms_getTotalSize(i,t,"width")),e.css(t.d.height,ms_getLargestSize(i,t,"height")),o}function ms_getSizes(e,t,n){return[ms_getTotalSize(e,t,"width",n),ms_getLargestSize(e,t,"height",n)]}function ms_getLargestSize(e,t,n,i){return is_boolean(i)||(i=!1),is_number(t[t.d[n]])&&i?t[t.d[n]]:is_number(t.items[t.d[n]])?t.items[t.d[n]]:(n=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(e,t,n))}function ms_getTrueLargestSize(e,t,n){for(var i=0,r=0,o=e.length;o>r;r++){var s=e.eq(r),a=s.is(":visible")?s[t.d[n]](!0):0;a>i&&(i=a)}return i}function ms_getTotalSize(e,t,n,i){if(is_boolean(i)||(i=!1),is_number(t[t.d[n]])&&i)return t[t.d[n]];if(is_number(t.items[t.d[n]]))return t.items[t.d[n]]*e.length;for(var r=n.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",o=0,s=0,a=e.length;a>s;s++){var l=e.eq(s);o+=l.is(":visible")?l[t.d[r]](!0):0}return o}function ms_getParentSize(e,t,n){var i=e.is(":visible");i&&e.hide();var r=e.parent()[t.d[n]]();return i&&e.show(),r}function ms_getMaxDimension(e,t){return is_number(e[e.d.width])?e[e.d.width]:t}function ms_hasVariableSizes(e,t,n){for(var i=!1,r=!1,o=0,s=e.length;s>o;o++){var a=e.eq(o),l=a.is(":visible")?a[t.d[n]](!0):0;i===!1?i=l:i!=l&&(r=!0),0==i&&(r=!0)}return r}function ms_getPaddingBorderMargin(e,t,n){return e[t.d["outer"+n]](!0)-e[t.d[n.toLowerCase()]]()}function ms_getPercentage(e,t){if(is_percentage(t)){if(t=parseInt(t.slice(0,-1),10),!is_number(t))return e;e*=t/100}return e}function cf_e(e,t,n,i,r){return is_boolean(n)||(n=!0),is_boolean(i)||(i=!0),is_boolean(r)||(r=!1),n&&(e=t.events.prefix+e),i&&(e=e+"."+t.events.namespace),i&&r&&(e+=t.serialNumber),e}function cf_c(e,t){return is_string(t.classnames[e])?t.classnames[e]:e}function cf_mapWrapperSizes(e,t,n){is_boolean(n)||(n=!0);var i=t.usePadding&&n?t.padding:[0,0,0,0],r={};return r[t.d.width]=e[0]+i[1]+i[3],r[t.d.height]=e[1]+i[0]+i[2],r}function cf_sortParams(e,t){for(var n=[],i=0,r=e.length;r>i;i++)for(var o=0,s=t.length;s>o;o++)if(t[o].indexOf(typeof e[i])>-1&&is_undefined(n[o])){n[o]=e[i];break}return n}function cf_getPadding(e){if(is_undefined(e))return[0,0,0,0];if(is_number(e))return[e,e,e,e];if(is_string(e)&&(e=e.split("px").join("").split("em").join("").split(" ")),!is_array(e))return[0,0,0,0];for(var t=0;4>t;t++)e[t]=parseInt(e[t],10);switch(e.length){case 0:return[0,0,0,0];case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];default:return[e[0],e[1],e[2],e[3]]}}function cf_getAlignPadding(e,t){var n=is_number(t[t.d.width])?Math.ceil(t[t.d.width]-ms_getTotalSize(e,t,"width")):0;switch(t.align){case"left":return[0,n];case"right":return[n,0];case"center":default:return[Math.ceil(n/2),Math.floor(n/2)]}}function cf_getDimensions(e){for(var t=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],n=t[0].length,i="right"==e.direction||"left"==e.direction?0:1,r={},o=0;n>o;o++)r[t[0][o]]=t[i][o];return r}function cf_getAdjust(e,t,n,i){var r=e;if(is_function(n))r=n.call(i,r);else if(is_string(n)){var o=n.split("+"),s=n.split("-");if(s.length>o.length)var a=!0,l=s[0],c=s[1];else var a=!1,l=o[0],c=o[1];switch(l){case"even":r=e%2==1?e-1:e;break;case"odd":r=e%2==0?e-1:e;break;default:r=e}c=parseInt(c,10),is_number(c)&&(a&&(c=-c),r+=c)}return(!is_number(r)||1>r)&&(r=1),r}function cf_getItemsAdjust(e,t,n,i){return cf_getItemAdjustMinMax(cf_getAdjust(e,t,n,i),t.items.visibleConf)}function cf_getItemAdjustMinMax(e,t){return is_number(t.min)&&e<t.min&&(e=t.min),is_number(t.max)&&e>t.max&&(e=t.max),1>e&&(e=1),e}function cf_getSynchArr(e){is_array(e)||(e=[[e]]),is_array(e[0])||(e=[e]);for(var t=0,n=e.length;n>t;t++)is_string(e[t][0])&&(e[t][0]=$(e[t][0])),is_boolean(e[t][1])||(e[t][1]=!0),is_boolean(e[t][2])||(e[t][2]=!0),is_number(e[t][3])||(e[t][3]=0);return e}function cf_getKeyCode(e){return"right"==e?39:"left"==e?37:"up"==e?38:"down"==e?40:-1}function cf_setCookie(e,t,n){if(e){var i=t.triggerHandler(cf_e("currentPosition",n));$.fn.carouFredSel.cookie.set(e,i)}}function cf_getCookie(e){var t=$.fn.carouFredSel.cookie.get(e);return""==t?0:t}function in_mapCss(e,t){for(var n={},i=0,r=t.length;r>i;i++)n[t[i]]=e.css(t[i]);return n}function in_complementItems(e,t,n,i){return is_object(e.visibleConf)||(e.visibleConf={}),is_object(e.sizesConf)||(e.sizesConf={}),0==e.start&&is_number(i)&&(e.start=i),is_object(e.visible)?(e.visibleConf.min=e.visible.min,e.visibleConf.max=e.visible.max,e.visible=!1):is_string(e.visible)?("variable"==e.visible?e.visibleConf.variable=!0:e.visibleConf.adjust=e.visible,e.visible=!1):is_function(e.visible)&&(e.visibleConf.adjust=e.visible,e.visible=!1),is_string(e.filter)||(e.filter=n.filter(":hidden").length>0?":visible":"*"),e[t.d.width]||(t.responsive?(debug(!0,"Set a "+t.d.width+" for the items!"),e[t.d.width]=ms_getTrueLargestSize(n,t,"outerWidth")):e[t.d.width]=ms_hasVariableSizes(n,t,"outerWidth")?"variable":n[t.d.outerWidth](!0)),e[t.d.height]||(e[t.d.height]=ms_hasVariableSizes(n,t,"outerHeight")?"variable":n[t.d.outerHeight](!0)),e.sizesConf.width=e.width,e.sizesConf.height=e.height,e}function in_complementVisibleItems(e,t){return"variable"==e.items[e.d.width]&&(e.items.visibleConf.variable=!0),e.items.visibleConf.variable||(is_number(e[e.d.width])?e.items.visible=Math.floor(e[e.d.width]/e.items[e.d.width]):(e.items.visible=Math.floor(t/e.items[e.d.width]),e[e.d.width]=e.items.visible*e.items[e.d.width],e.items.visibleConf.adjust||(e.align=!1)),("Infinity"==e.items.visible||e.items.visible<1)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),e.items.visibleConf.variable=!0)),e}function in_complementPrimarySize(e,t,n){return"auto"==e&&(e=ms_getTrueLargestSize(n,t,"outerWidth")),e}function in_complementSecondarySize(e,t,n){return"auto"==e&&(e=ms_getTrueLargestSize(n,t,"outerHeight")),e||(e=t.items[t.d.height]),e}function in_getAlignPadding(e,t){var n=cf_getAlignPadding(gi_getCurrentItems(t,e),e);return e.padding[e.d[1]]=n[1],e.padding[e.d[3]]=n[0],e}function in_getResponsiveValues(e,t){var n=cf_getItemAdjustMinMax(Math.ceil(e[e.d.width]/e.items[e.d.width]),e.items.visibleConf);n>t.length&&(n=t.length);var i=Math.floor(e[e.d.width]/n);return e.items.visible=n,e.items[e.d.width]=i,e[e.d.width]=n*i,e}function bt_pauseOnHoverConfig(e){if(is_string(e))var t=e.indexOf("immediate")>-1?!0:!1,n=e.indexOf("resume")>-1?!0:!1;else var t=n=!1;return[t,n]}function bt_mousesheelNumber(e){return is_number(e)?e:null}function is_null(e){return null===e}function is_undefined(e){return is_null(e)||"undefined"==typeof e||""===e||"undefined"===e}function is_array(e){return e instanceof Array}function is_jquery(e){return e instanceof jQuery}function is_object(e){return(e instanceof Object||"object"==typeof e)&&!is_null(e)&&!is_jquery(e)&&!is_array(e)&&!is_function(e)}function is_number(e){return(e instanceof Number||"number"==typeof e)&&!isNaN(e)}function is_string(e){return(e instanceof String||"string"==typeof e)&&!is_undefined(e)&&!is_true(e)&&!is_false(e)}function is_function(e){return e instanceof Function||"function"==typeof e}function is_boolean(e){return e instanceof Boolean||"boolean"==typeof e||is_true(e)||is_false(e)}function is_true(e){return e===!0||"true"===e}function is_false(e){return e===!1||"false"===e}function is_percentage(e){return is_string(e)&&"%"==e.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(e,t){debug(!0,e+" is DEPRECATED, support for it will be removed. Use "+t+" instead.")}function debug(e,t){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(e)){var n=" ("+e.selector+")";e=e.debug}else var n="";if(!e)return!1;t=is_string(t)?"carouFredSel"+n+": "+t:["carouFredSel"+n+":",t],window.console.log(t)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(e,t,n){e=go_getObject($tt0,e),e.items=go_getItemsObject($tt0,e.items),e.scroll=go_getScrollObject($tt0,e.scroll),e.auto=go_getAutoObject($tt0,e.auto),e.prev=go_getPrevNextObject($tt0,e.prev),e.next=go_getPrevNextObject($tt0,e.next),e.pagination=go_getPaginationObject($tt0,e.pagination),e.swipe=go_getSwipeObject($tt0,e.swipe),e.mousewheel=go_getMousewheelObject($tt0,e.mousewheel),t&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,e)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,e),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var i=$cfs.children(),r=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,r),opts.items=in_complementItems(opts.items,opts,i,n),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,i),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,i),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(r,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,r)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(i,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(i,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,i,r);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,i),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var e=$cfs.children(),t=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),n="relative";switch(t.position){case"absolute":case"fixed":n=t.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(t),$wrp.css({overflow:"hidden",position:n}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",t.zIndex),$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(e,opts),sz_storeOrigCss(e),opts.responsive&&sz_setResponsiveSizes(opts,e)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(e,t){return e.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),t)),!0}),$cfs.bind(cf_e("finish",conf),function(e){return e.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(e,t,n){if(e.stopPropagation(),tmrs=sc_clearTimers(tmrs),t&&crsl.isScrolling){scrl.isStopped=!0;
var i=getTime()-scrl.startTime;scrl.duration-=i,scrl.pre&&(scrl.pre.duration-=i),scrl.post&&(scrl.post.duration-=i),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||n&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var r=opts.auto.timeoutDuration-tmrs.timePassed,o=100-Math.ceil(100*r/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,o,r)}return!0}),$cfs.bind(cf_e("play",conf),function(e,t,n,i){e.stopPropagation(),tmrs=sc_clearTimers(tmrs);var r=[t,n,i],o=["string","number","boolean"],s=cf_sortParams(r,o);if(t=s[0],n=s[1],i=s[2],"prev"!=t&&"next"!=t&&(t=crsl.direction),is_number(n)||(n=0),is_boolean(i)||(i=!1),i&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return e.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var a=opts.auto.timeoutDuration+n;return dur2=a-tmrs.timePassed,perc=100-Math.ceil(100*dur2/a),opts.auto.progress&&(tmrs.progress=setInterval(function(){var e=getTime()-tmrs.startTime+tmrs.timePassed,t=Math.ceil(100*e/a);opts.auto.progress.updater.call(opts.auto.progress.bar[0],t)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),t):$cfs.trigger(cf_e(t,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(e){return e.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,t,n,i,r){if(e.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return e.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var o=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(o>itms.total)return e.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+o+" needed): Not scrolling.");var s=[t,n,i,r],a=["object","number/string","function","boolean"],l=cf_sortParams(s,a);t=l[0],n=l[1],i=l[2],r=l[3];var c=e.type.slice(conf.events.prefix.length);if(is_object(t)||(t={}),is_function(i)&&(t.onAfter=i),is_boolean(r)&&(t.queue=r),t=$.extend(!0,{},opts[c],t),t.conditions&&!t.conditions.call($tt0,c))return e.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(n)){if("*"!=opts.items.filter)n="visible";else for(var u=[n,t.items,opts[c].items],l=0,d=u.length;d>l;l++)if(is_number(u[l])||"page"==u[l]||"visible"==u[l]){n=u[l];break}switch(n){case"page":return e.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(c+"Page",conf),[t,i]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(n=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[c,[t,n,i]]),e.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(t.duration>0&&crsl.isScrolling)return t.queue&&("last"==t.queue&&(queu=[]),("first"!=t.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[c,[t,n,i]])),e.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+c,conf),[t,n]),opts.synchronise)for(var p=opts.synchronise,h=[t,n],f=0,d=p.length;d>f;f++){var m=c;p[f][2]||(m="prev"==m?"next":"prev"),p[f][1]||(h[0]=p[f][0].triggerHandler("_cfs_triggerEvent",["configuration",m])),h[1]=n+p[f][3],p[f][0].trigger("_cfs_triggerEvent",["slide_"+m,h])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(e,t,n){e.stopPropagation();var i=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),e.stopImmediatePropagation();if(sz_resetMargin(i,opts),!is_number(n)){if(opts.items.visibleConf.variable)n=gn_getVisibleItemsPrev(i,opts,itms.total-1);else if("*"!=opts.items.filter){var r=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsPrevFilter(i,opts,itms.total-1,r)}else n=opts.items.visible;n=cf_getAdjust(n,opts,t.items,$tt0)}if(opts.circular||itms.total-n<itms.first&&(n=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var o=cf_getItemsAdjust(gn_getVisibleItemsNext(i,opts,itms.total-n),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible+n<=o&&n<itms.total&&(n++,o=cf_getItemsAdjust(gn_getVisibleItemsNext(i,opts,itms.total-n),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=o}else if("*"!=opts.items.filter){var o=gn_getVisibleItemsNextFilter(i,opts,itms.total-n);opts.items.visible=cf_getItemsAdjust(o,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(i,opts,!0),0==n)return e.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+n+" items backward."),itms.first+=n;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&t.onEnd&&t.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-n,itms.total).prependTo($cfs),itms.total<opts.items.visible+n&&$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(!0).appendTo($cfs);var i=$cfs.children(),s=gi_getOldItemsPrev(i,opts,n),a=gi_getNewItemsPrev(i,opts),l=i.eq(n-1),c=s.last(),u=a.last();sz_resetMargin(i,opts);var d=0,p=0;if(opts.align){var h=cf_getAlignPadding(a,opts);d=h[0],p=h[1]}var f=0>d?opts.padding[opts.d[3]]:0,m=!1,g=$();if(opts.items.visible<n&&(g=i.slice(opts.items.visibleConf.old,n),"directscroll"==t.fx)){var v=opts.items[opts.d.width];m=g,l=u,sc_hideHiddenItems(m),opts.items[opts.d.width]="variable"}var b=!1,y=ms_getTotalSize(i.slice(0,n),opts,"width"),w=cf_mapWrapperSizes(ms_getSizes(a,opts,!0),opts,!opts.usePadding),_=0,x={},k={},T={},C={},D={},E={},M={},L=sc_getDuration(t,opts,n,y);switch(t.fx){case"cover":case"cover-fade":_=ms_getTotalSize(i.slice(0,opts.items.visible),opts,"width")}m&&(opts.items[opts.d.width]=v),sz_resetMargin(i,opts,!0),p>=0&&sz_resetMargin(c,opts,opts.padding[opts.d[1]]),d>=0&&sz_resetMargin(l,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=p,opts.padding[opts.d[3]]=d),E[opts.d.left]=-(y-f),M[opts.d.left]=-(_-f),k[opts.d.left]=w[opts.d.width];var j=function(){},S=function(){},N=function(){},A=function(){},I=function(){},O=function(){},R=function(){},P=function(){},Y=function(){},z=function(){},F=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":b=$cfs.clone(!0).appendTo($wrp)}switch(t.fx){case"crossfade":case"uncover":case"uncover-fade":b.children().slice(0,n).remove(),b.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":b.children().slice(opts.items.visible).remove(),b.css(M)}if($cfs.css(E),scrl=sc_setScroll(L,t.easing,conf),x[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(j=function(){$wrp.css(w)},S=function(){scrl.anims.push([$wrp,w])}),opts.usePadding){switch(u.not(l).length&&(T[opts.d.marginRight]=l.data("_cfs_origCssMargin"),0>d?l.css(T):(R=function(){l.css(T)},P=function(){scrl.anims.push([l,T])})),t.fx){case"cover":case"cover-fade":b.children().eq(n-1).css(T)}u.not(c).length&&(C[opts.d.marginRight]=c.data("_cfs_origCssMargin"),N=function(){c.css(C)},A=function(){scrl.anims.push([c,C])}),p>=0&&(D[opts.d.marginRight]=u.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],I=function(){u.css(D)},O=function(){scrl.anims.push([u,D])})}F=function(){$cfs.css(x)};var U=opts.items.visible+n-itms.total;z=function(){if(U>0&&($cfs.children().slice(itms.total).remove(),s=$($cfs.children().slice(itms.total-(opts.items.visible-U)).get().concat($cfs.children().slice(0,U).get()))),sc_showHiddenItems(m),opts.usePadding){var e=$cfs.children().eq(opts.items.visible+n-1);e.css(opts.d.marginRight,e.data("_cfs_origCssMargin"))}};var H=sc_mapCallbackArguments(s,g,a,n,"prev",L,w);switch(Y=function(){sc_afterScroll($cfs,b,t),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",H,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",H,clbk),t.fx){case"none":$cfs.css(x),j(),N(),I(),R(),F(),z(),Y();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){j(),N(),I(),R(),F(),z(),scrl=sc_setScroll(L,t.easing,conf),scrl.anims.push([$cfs,{opacity:1},Y]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([b,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},Y]),S(),N(),I(),R(),F(),z();break;case"cover":scrl.anims.push([b,x,function(){N(),I(),R(),F(),z(),Y()}]),S();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([b,x,function(){N(),I(),R(),F(),z(),Y()}]),S();break;case"uncover":scrl.anims.push([b,k,Y]),S(),N(),I(),R(),F(),z();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([b,k,Y]),S(),N(),I(),R(),F(),z();break;default:scrl.anims.push([$cfs,x,function(){z(),Y()}]),S(),A(),O(),P()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,w]),!0}),$cfs.bind(cf_e("slide_next",conf),function(e,t,n){e.stopPropagation();var i=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),e.stopImmediatePropagation();if(sz_resetMargin(i,opts),!is_number(n)){if("*"!=opts.items.filter){var r=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);n=gn_getScrollItemsNextFilter(i,opts,0,r)}else n=opts.items.visible;n=cf_getAdjust(n,opts,t.items,$tt0)}var o=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var s=gn_getVisibleItemsNext(i,opts,n),r=gn_getVisibleItemsPrev(i,opts,o-1);else var s=opts.items.visible,r=opts.items.visible;n+s>o&&(n=o-r)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var s=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(i,opts,n,o),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-n>=s&&n<itms.total;)n++,s=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(i,opts,n,o),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=s}else if("*"!=opts.items.filter){var s=gn_getVisibleItemsNextFilter(i,opts,n);opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(i,opts,!0),0==n)return e.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+n+" items forward."),itms.first-=n;itms.first<0;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&t.onEnd&&t.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+n&&$cfs.children().slice(0,opts.items.visible+n-itms.total).clone(!0).appendTo($cfs);var i=$cfs.children(),a=gi_getOldItemsNext(i,opts),l=gi_getNewItemsNext(i,opts,n),c=i.eq(n-1),u=a.last(),d=l.last();sz_resetMargin(i,opts);var p=0,h=0;if(opts.align){var f=cf_getAlignPadding(l,opts);p=f[0],h=f[1]}var m=!1,g=$();if(opts.items.visibleConf.old<n&&(g=i.slice(opts.items.visibleConf.old,n),"directscroll"==t.fx)){var v=opts.items[opts.d.width];m=g,c=u,sc_hideHiddenItems(m),opts.items[opts.d.width]="variable"}var b=!1,y=ms_getTotalSize(i.slice(0,n),opts,"width"),w=cf_mapWrapperSizes(ms_getSizes(l,opts,!0),opts,!opts.usePadding),_=0,x={},k={},T={},C={},D={},E=sc_getDuration(t,opts,n,y);switch(t.fx){case"uncover":case"uncover-fade":_=ms_getTotalSize(i.slice(0,opts.items.visibleConf.old),opts,"width")}m&&(opts.items[opts.d.width]=v),opts.align&&opts.padding[opts.d[1]]<0&&(opts.padding[opts.d[1]]=0),sz_resetMargin(i,opts,!0),sz_resetMargin(u,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=h,opts.padding[opts.d[3]]=p),D[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var M=function(){},L=function(){},j=function(){},S=function(){},N=function(){},A=function(){},I=function(){},O=function(){},R=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":b=$cfs.clone(!0).appendTo($wrp),b.children().slice(opts.items.visibleConf.old).remove()}switch(t.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),b.css("zIndex",0)}if(scrl=sc_setScroll(E,t.easing,conf),x[opts.d.left]=-y,k[opts.d.left]=-_,0>p&&(x[opts.d.left]+=p),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(M=function(){$wrp.css(w)},L=function(){scrl.anims.push([$wrp,w])}),opts.usePadding){var P=d.data("_cfs_origCssMargin");h>=0&&(P+=opts.padding[opts.d[1]]),d.css(opts.d.marginRight,P),c.not(u).length&&(C[opts.d.marginRight]=u.data("_cfs_origCssMargin")),j=function(){u.css(C)},S=function(){scrl.anims.push([u,C])};var Y=c.data("_cfs_origCssMargin");p>0&&(Y+=opts.padding[opts.d[3]]),T[opts.d.marginRight]=Y,N=function(){c.css(T)},A=function(){scrl.anims.push([c,T])}}R=function(){$cfs.css(D)};var z=opts.items.visible+n-itms.total;O=function(){z>0&&$cfs.children().slice(itms.total).remove();var e=$cfs.children().slice(0,n).appendTo($cfs).last();if(z>0&&(l=gi_getCurrentItems(i,opts)),sc_showHiddenItems(m),opts.usePadding){if(itms.total<opts.items.visible+n){var t=$cfs.children().eq(opts.items.visible-1);t.css(opts.d.marginRight,t.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}e.css(opts.d.marginRight,e.data("_cfs_origCssMargin"))}};var F=sc_mapCallbackArguments(a,g,l,n,"next",E,w);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,b,t),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",F,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",F,clbk),t.fx){case"none":$cfs.css(x),M(),j(),N(),R(),O(),I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){M(),j(),N(),R(),O(),scrl=sc_setScroll(E,t.easing,conf),scrl.anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([b,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),L(),j(),N(),R(),O();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,D,I]),L(),j(),N(),O();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([b,{opacity:0}]),scrl.anims.push([$cfs,D,I]),L(),j(),N(),O();break;case"uncover":scrl.anims.push([b,k,I]),L(),j(),N(),R(),O();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([b,k,I]),L(),j(),N(),R(),O();break;default:scrl.anims.push([$cfs,x,function(){R(),O(),I()}]),L(),S(),A()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,w]),!0}),$cfs.bind(cf_e("slideTo",conf),function(e,t,n,i,r,o,s){e.stopPropagation();var a=[t,n,i,r,o,s],l=["string/number/object","number","boolean","object","string","function"],c=cf_sortParams(a,l);return r=c[3],o=c[4],s=c[5],t=gn_getItemIndex(c[0],c[1],c[2],itms,$cfs),0==t?!1:(is_object(r)||(r=!1),"prev"!=o&&"next"!=o&&(o=opts.circular?t<=itms.total/2?"next":"prev":0==itms.first||itms.first>t?"next":"prev"),"prev"==o&&(t=itms.total-t),$cfs.trigger(cf_e(o,conf),[r,t,s]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(e,t,n){e.stopPropagation();var i=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[i-1,t,"prev",n])}),$cfs.bind(cf_e("nextPage",conf),function(e,t,n){e.stopPropagation();var i=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[i+1,t,"next",n])}),$cfs.bind(cf_e("slideToPage",conf),function(e,t,n,i,r){e.stopPropagation(),is_number(t)||(t=$cfs.triggerHandler(cf_e("currentPage",conf)));var o=opts.pagination.items||opts.items.visible,s=Math.ceil(itms.total/o)-1;return 0>t&&(t=s),t>s&&(t=0),$cfs.triggerHandler(cf_e("slideTo",conf),[t*o,0,!0,n,i,r])}),$cfs.bind(cf_e("jumpToStart",conf),function(e,t){if(e.stopPropagation(),t=t?gn_getItemIndex(t,0,!0,itms,$cfs):0,t+=itms.first,0!=t){if(itms.total>0)for(;t>itms.total;)t-=itms.total;$cfs.prepend($cfs.children().slice(t,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(e,t){if(e.stopPropagation(),t)t=cf_getSynchArr(t);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");t=opts.synchronise}for(var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),i=!0,r=0,o=t.length;o>r;r++)t[r][0].triggerHandler(cf_e("slideTo",conf),[n,t[r][3],!0])||(i=!1);return i}),$cfs.bind(cf_e("queue",conf),function(e,t,n){return e.stopPropagation(),is_function(t)?t.call($tt0,queu):is_array(t)?queu=t:is_undefined(t)||queu.push([t,n]),queu}),$cfs.bind(cf_e("insertItem",conf),function(e,t,n,i,r){e.stopPropagation();var o=[t,n,i,r],s=["string/object","string/number/object","boolean","number"],a=cf_sortParams(o,s);if(t=a[0],n=a[1],i=a[2],r=a[3],is_object(t)&&!is_jquery(t)?t=$(t):is_string(t)&&(t=$(t)),!is_jquery(t)||0==t.length)return debug(conf,"Not a valid object.");is_undefined(n)&&(n="end"),sz_storeMargin(t,opts),sz_storeOrigCss(t);var l=n,c="before";"end"==n?i?(0==itms.first?(n=itms.total-1,c="after"):(n=itms.first,itms.first+=t.length),0>n&&(n=0)):(n=itms.total-1,c="after"):n=gn_getItemIndex(n,r,i,itms,$cfs);var u=$cfs.children().eq(n);return u.length?u[c](t):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(t)),"end"==l||i||n<itms.first&&(itms.first+=t.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(e,t,n,i){e.stopPropagation();var r=[t,n,i],o=["string/number/object","boolean","number"],s=cf_sortParams(r,o);t=s[0],n=s[1],i=s[2];if(t instanceof $&&t.length>1)return a=$(),t.each(function(){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),n,i]);e&&(a=a.add(e))}),a;if(is_undefined(t)||"end"==t)a=$cfs.children().last();else{t=gn_getItemIndex(t,i,n,itms,$cfs);var a=$cfs.children().eq(t);a.length&&t<itms.first&&(itms.first-=a.length)}return a&&a.length&&(a.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),a}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length);return is_array(t)&&(clbk[n]=t),is_function(t)&&clbk[n].push(t),clbk[n]}),$cfs.bind(cf_e("currentPosition",conf),function(e,t){if(e.stopPropagation(),0==itms.first)var n=0;else var n=itms.total-itms.first;return is_function(t)&&t.call($tt0,n),n}),$cfs.bind(cf_e("currentPage",conf),function(e,t){e.stopPropagation();var n,i=opts.pagination.items||opts.items.visible,r=Math.ceil(itms.total/i-1);return n=0==itms.first?0:itms.first<itms.total%i?0:itms.first!=i||opts.circular?Math.round((itms.total-itms.first)/i):r,0>n&&(n=0),n>r&&(n=r),is_function(t)&&t.call($tt0,n),n}),$cfs.bind(cf_e("currentVisible",conf),function(e,t){e.stopPropagation();var n=gi_getCurrentItems($cfs.children(),opts);return is_function(t)&&t.call($tt0,n),n}),$cfs.bind(cf_e("slice",conf),function(e,t,n,i){if(e.stopPropagation(),0==itms.total)return!1;var r=[t,n,i],o=["number","number","function"],s=cf_sortParams(r,o);if(t=is_number(s[0])?s[0]:0,n=is_number(s[1])?s[1]:itms.total,i=s[2],t+=itms.first,n+=itms.first,items.total>0){for(;t>itms.total;)t-=itms.total;for(;n>itms.total;)n-=itms.total;for(;0>t;)t+=itms.total;for(;0>n;)n+=itms.total}var a,l=$cfs.children();return a=n>t?l.slice(t,n):$(l.slice(t,itms.total).get().concat(l.slice(0,n).get())),is_function(i)&&i.call($tt0,a),a}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,t){e.stopPropagation();var n=e.type.slice(conf.events.prefix.length),i=crsl[n];return is_function(t)&&t.call($tt0,i),i}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(e,t,n){return e.stopPropagation(),is_undefined(t)?t=$("body"):is_string(t)&&(t=$(t)),is_jquery(t)&&0!=t.length?(is_string(n)||(n="a.caroufredsel"),t.find(n).each(function(){var e=this.hash||"";e.length>0&&-1!=$cfs.children().index($(e))&&$(this).unbind("click").click(function(t){t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),e)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(e,t){if(e.stopPropagation(),opts.pagination.container){var n=opts.pagination.items||opts.items.visible,i=Math.ceil(itms.total/n);t&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var e=0;i>e;e++){var t=$cfs.children().eq(gn_getItemIndex(e*n,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(t[0],e+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[e*n,-opts.pagination.deviation,!0,opts.pagination])})})}));var r=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return r>=i&&(r=0),0>r&&(r=i-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(r).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var e=opts.items.visible,t=$cfs.children(),n=ms_getParentSize($wrp,opts,"width");if(itms.total=t.length,crsl.primarySizePercentage?(opts.maxDimension=n,opts[opts.d.width]=ms_getPercentage(n,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,n),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,t,n),e=opts.items.visible,sz_setResponsiveSizes(opts,t)):opts.items.visibleConf.variable?e=gn_getVisibleItemsNext(t,opts,0):"*"!=opts.items.filter&&(e=gn_getVisibleItemsNextFilter(t,opts,0)),!opts.circular&&0!=itms.first&&e>itms.first){if(opts.items.visibleConf.variable)var i=gn_getVisibleItemsPrev(t,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var i=gn_getVisibleItemsPrevFilter(t,opts,itms.first)-itms.first;else var i=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+i+" items backward."),$cfs.trigger(cf_e("prev",conf),i)}opts.items.visible=cf_getItemsAdjust(e,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,t);var r=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,r]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),r}),$cfs.bind(cf_e("destroy",conf),function(e,t){return e.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),t&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(e,t,n){return e.stopPropagation(),$cfs.triggerHandler(cf_e(t,conf),n)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(e){e.preventDefault();var t=!1,n=null;crsl.isPaused?t="play":opts.auto.pauseOnEvent&&(t="pause",n=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),t&&$cfs.trigger(cf_e(t,conf),n)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(e){e.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var e=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(e){e.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var e=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var t=e.keyCode;t==opts.next.key&&(e.preventDefault(),$cfs.trigger(cf_e("next",conf))),t==opts.prev.key&&(e.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(e){var t=e.keyCode;t>=49&&58>t&&(t=(t-49)*opts.items.visible,t<=itms.total&&(e.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[t,0,!0,opts.pagination])))}),$.fn.swipe){var t="ontouchstart"in window;if(t&&opts.swipe.onTouch||!t&&opts.swipe.onMouse){var n=$.extend(!0,{},opts.prev,opts.swipe),i=$.extend(!0,{},opts.next,opts.swipe),r=function(){$cfs.trigger(cf_e("prev",conf),[n])},o=function(){$cfs.trigger(cf_e("next",conf),[i])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=o,opts.swipe.options.swipeDown=r;break;default:opts.swipe.options.swipeLeft=o,opts.swipe.options.swipeRight=r}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var s=$.extend(!0,{},opts.prev,opts.mousewheel),a=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(e,t){e.preventDefault(),t>0?$cfs.trigger(cf_e("prev",conf),[s]):$cfs.trigger(cf_e("next",conf),[a])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var l=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},c=$(window),u=null;if($.debounce&&"debounce"==conf.onWindowResize)u=$.debounce(200,l);else if($.throttle&&"throttle"==conf.onWindowResize)u=$.throttle(300,l);else{var d=0,p=0;u=function(){var e=c.width(),t=c.height();(e!=d||t!=p)&&(l(),d=e,p=t)}}c.bind(cf_e("resize",conf,!1,!0,!0),u)}},FN._unbind_buttons=function(){var e=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(e),opts.auto.button&&opts.auto.button.unbind(e),opts.prev.button&&opts.prev.button.unbind(e),opts.next.button&&opts.next.button.unbind(e),opts.pagination.container&&(opts.pagination.container.unbind(e),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,s.length<1)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(e){return'<a href="#"><span>'+e+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(e){$(this).css("width",e+"%")},$.fn.carouFredSel.cookie={get:function(e){e+="=";for(var t=document.cookie.split(";"),n=0,i=t.length;i>n;n++){for(var r=t[n];" "==r.charAt(0);)r=r.slice(1);if(0==r.indexOf(e))return r.slice(e.length)}return 0},set:function(e,t,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toGMTString()}document.cookie=e+"="+t+i+"; path=/"},remove:function(e){$.fn.carouFredSel.cookie.set(e,"",-1)}},$.extend($.easing,{quadratic:function(e){var t=e*e;return e*(-t*e+4*t-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)
},elastic:function(e){var t=e*e;return e*(33*t*t-106*t*e+126*t-67*e+15)}}))}(jQuery)}).call(exports,__webpack_require__(6))},function(){!function(e){var t,n,i,r,o,s,a,l="Close",c="BeforeClose",u="AfterClose",d="BeforeAppend",p="MarkupParse",h="Open",f="Change",m="mfp",g="."+m,v="mfp-ready",b="mfp-removing",y="mfp-prevent-close",w=function(){},_=!!window.jQuery,x=e(window),k=function(e,n){t.ev.on(m+e+g,n)},T=function(t,n,i,r){var o=document.createElement("div");return o.className="mfp-"+t,i&&(o.innerHTML=i),r?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},C=function(n,i){t.ev.triggerHandler(m+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},D=function(n){return n===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=n),t.currTemplate.closeBtn},E=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},M=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=M(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document.body),r=e(document),t.popupsCache={}},open:function(n){var i;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var o,a=n.items;for(i=0;i<a.length;i++)if(o=a[i],o.parsed&&(o=o.el[0]),o===n.el[0]){t.index=i;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],s="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):r,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=T("bg").on("click"+g,function(){t.close()}),t.wrap=T("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=T("container",t.wrap)),t.contentContainer=T("content"),t.st.preloader&&(t.preloader=T("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(i=0;i<l.length;i++){var c=l[i];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}C("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(k(p,function(e,t,n,i){n.close_replaceWith=D(i.type)}),s+=" mfp-close-btn-in"):t.wrap.append(D())),t.st.alignTop&&(s+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:x.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:r.height(),position:"absolute"}),t.st.enableEscapeKey&&r.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),x.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(s+=" mfp-auto-cursor"),s&&t.wrap.addClass(s);var u=t.wH=x.height(),d={};if(t.fixedContentPos&&t._hasScrollBar(u)){var f=t._getScrollbarSize();f&&(d.marginRight=f)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):d.overflow="hidden");var m=t.st.mainClass;return t.isIE7&&(m+=" mfp-ie7"),m&&t._addClassToMFP(m),t.updateItemHTML(),C("BuildControls"),e("html").css(d),t.bgOverlay.add(t.wrap).prependTo(document.body),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),r.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),C(h),n},close:function(){t.isOpen&&(C(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(b),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){C(l);var n=b+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}r.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,C(u)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||x.height();t.fixedContentPos||t.wrap.css("height",t.wH),C("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(C("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var r=t.st[i]?t.st[i].markup:!1;C("FirstMarkupParse",r),t.currTemplate[i]=r?e(r):!0}o&&o!==n.type&&t.container.removeClass("mfp-"+o+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,C(f,n),o=n.type,t.container.prepend(t.contentContainer),C("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(D()):t.content=e:t.content="",C(d),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i=t.items[n],r=i.type;if(i=i.tagName?{el:e(i)}:{data:i,src:i.src},i.el){for(var o=t.types,s=0;s<o.length;s++)if(i.el.hasClass("mfp-"+o[s])){r=o[s];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=r||t.st.type||"inline",i.index=n,i.parsed=!0,t.items[n]=i,C("ElementParse",i),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var r="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(r).on(r,i)):(n.isObj=!1,n.delegate?e.off(r).on(r,n.delegate,i):(n.items=e,e.off(r).on(r,i)))},_openClick:function(n,i,r){var o=void 0!==r.midClick?r.midClick:e.magnificPopup.defaults.midClick;if(o||2!==n.which&&!n.ctrlKey&&!n.metaKey){var s=void 0!==r.disableOn?r.disableOn:e.magnificPopup.defaults.disableOn;if(s)if(e.isFunction(s)){if(!s.call(t))return!0}else if(x.width()<s)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),r.el=e(n.mfpEl),r.delegate&&(r.items=i.find(r.delegate)),t.open(r)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var r={status:e,text:i};C("UpdateStatus",r),e=r.status,i=r.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,r=t.st.closeOnBgClick;if(i&&r)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(r&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?r.height():document.body.scrollHeight)>(e||x.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var r;i.data&&(n=e.extend(i.data,n)),C(p,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(r=e.split("_"),r.length>1){var i=t.find(g+"-"+r[0]);if(i.length>0){var o=r[1];"replaceWith"===o?i[0]!==n[0]&&i.replaceWith(n):"img"===o?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(r[1],n)}}else t.find(g+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,n){return E(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){E();var i=e(this);if("string"==typeof n)if("open"===n){var r,o=_?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;o.items?r=o.items[s]:(r=i,o.delegate&&(r=r.find(o.delegate)),r=r.eq(s)),t._openClick({mfpEl:r},i,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),_?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var L,j,S,N="inline",A=function(){S&&(j.after(S.addClass(L)).detach(),S=null)};e.magnificPopup.registerModule(N,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(N),k(l+"."+N,function(){A()})},getInline:function(n,i){if(A(),n.src){var r=t.st.inline,o=e(n.src);if(o.length){var s=o[0].parentNode;s&&s.tagName&&(j||(L=r.hiddenClass,j=T(L),L="mfp-"+L),S=o.after(j).detach().removeClass(L)),t.updateStatus("ready")}else t.updateStatus("error",r.tNotFound),o=e("<div>");return n.inlineElement=o,o}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var $,I="ajax",O=function(){$&&i.removeClass($)},R=function(){O(),t.req&&t.req.abort()};e.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(I),$=t.st.ajax.cursor,k(l+"."+I,R),k("BeforeChange."+I,R)},getAjax:function(n){$&&i.addClass($),t.updateStatus("loading");var r=e.extend({url:n.src,success:function(i,r,o){var s={data:i,xhr:o};C("ParseAjax",s),t.appendContent(e(s.data),I),n.finished=!0,O(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),C("AjaxContentAdded")},error:function(){O(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(r),""}}});var P,Y=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),k(h+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),k(l+n,function(){e.cursor&&i.removeClass(e.cursor),x.off("resize"+g)}),k("Resize"+n,t.resizeImage),t.isLowIE&&k("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,P&&clearInterval(P),e.isCheckingImgSize=!1,C("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],r=function(o){P&&clearInterval(P),P=setInterval(function(){return i.naturalWidth>0?void t._onImageHasSize(e):(n>200&&clearInterval(P),n++,void(3===n?r(10):40===n?r(50):100===n&&r(500)))},o)};r(1)},getImage:function(n,i){var r=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,C("ImageLoadComplete")):(r++,200>r?setTimeout(o,100):s()))},s=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",a.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},a=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",o).on("error.mfploader",s),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),n.img[0].naturalWidth>0&&(n.hasSize=!0)}return t._parseMarkup(i,{title:Y(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(P&&clearInterval(P),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var z,F=function(){return void 0===z&&(z=void 0!==document.createElement("p").style.MozTransform),z};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var r,o,s=n.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=i,t.css(r),t},u=function(){t.content.css("visibility","visible")};k("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();o=a(e),o.css(t._getOffset()),t.wrap.append(o),r=setTimeout(function(){o.css(t._getOffset(!0)),r=setTimeout(function(){u(),setTimeout(function(){o.remove(),e=o=null,C("ZoomAnimationEnded")},16)},s)},16)}}),k(c+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.st.removalDelay=s,!e){if(e=t._getItemToZoom(),!e)return;o=a(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),k(l+i,function(){t._allowZoom()&&(u(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var r=i.offset(),o=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);r.top-=e(window).scrollTop()-o;var a={width:i.width(),height:(_?i.innerHeight():i[0].offsetHeight)-s-o};return F()?a["-moz-transform"]=a.transform="translate("+r.left+"px,"+r.top+"px)":(a.left=r.left,a.top=r.top),a}}});var U="iframe",H="//about:blank",B=function(e){if(t.currTemplate[U]){var n=t.currTemplate[U].find("iframe");n.length&&(e||(n[0].src=H),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(U,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(U),k("BeforeChange",function(e,t,n){t!==n&&(t===U?B():n===U&&B(!0))}),k(l+"."+U,function(){B()})},getIframe:function(n,i){var r=n.src,o=t.st.iframe;e.each(o.patterns,function(){return r.indexOf(this.index)>-1?(this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1):void 0});var s={};return o.srcAction&&(s[o.srcAction]=r),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}});var W=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},q=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",o=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(s+=" mfp-gallery",k(h+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),r.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),k("UpdateStatus"+i,function(e,n){n.text&&(n.text=q(n.text,t.currItem.index,t.items.length))}),k(p+i,function(e,i,r,o){var s=t.items.length;r.counter=s>1?q(n.tCounter,o.index,s):""}),k("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,r=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),s=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y),a=o?"mfpFastClick":"click";r[a](function(){t.prev()}),s[a](function(){t.next()}),t.isIE7&&(T("b",r[0],!1,!0),T("a",r[0],!1,!0),T("b",s[0],!1,!0),T("a",s[0],!1,!0)),t.container.append(r.add(s))}}),k(f+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void k(l+i,function(){r.off(i),t.wrap.off("click"+i),t.arrowLeft&&o&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=W(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=W(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),r=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?r:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:r);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=W(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),C("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,C("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var V="retina";e.magnificPopup.registerModule(V,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(k("ImageHasSize."+V,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),k("ElementParse."+V,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){x.off("touchmove"+o+" touchend"+o)},r="mfpFastClick",o="."+r;e.fn.mfpFastClick=function(r){return e(this).each(function(){var s,a=e(this);if(n){var l,c,u,d,p,h;a.on("touchstart"+o,function(e){d=!1,h=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,u=p.clientY,x.on("touchmove"+o,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,h=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-u)>10)&&(d=!0,i())}).on("touchend"+o,function(e){i(),d||h>1||(s=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){s=!1},t),r())})})}a.on("click"+o,function(){s||r()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),n&&x.off("touchmove"+o+" touchend"+o)}}(),E()}(window.jQuery||window.Zepto)},function(e,t,n){(function(e){!function(e){"use strict";var t=".classBanner",n="<div></div>",i={U:"UNCLASSIFIED","U-FOUO":"UNCLASSIFIED//FOR OFFICIAL USE ONLY","C-NF":"CONFIDENTIAL//NOFORN","C-2P":"CONFIDENTIAL//REL TO USA, AUS, CAN, GBR, NZL","S-NF":"SECRET//NOFORN","S-2P":"SECRET//REL TO USA, AUS, CAN, GBR, NZL","TS-NF":"TOP SECRET//NOFORN","TS-2P":"TOP SECRET//REL TO USA, AUS, CAN, GBR, NZL"},r="DYNAMIC PAGE - HIGHEST POSSIBLE CLASSIFICATION IS",o={};e.fn.classification=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.classification"):s.init.apply(this,arguments)};var s={init:function(t){return o=e.fn.classification.settings=e.extend({},e.fn.classification.defaults,t),this.each(function(){a()})},show:function(){return this.each(function(){e(t).show()})},hide:function(){return this.each(function(){e(t).hide()})},set:function(t){return o=e.extend(o,{level:t}),this.each(function(){a()})}};e.fn.classification.defaults={dynamic:!1,level:"U-FOUO",dynamicBanner:!1,tsOrange:!1};var a=function(){e(t).remove();var s,a,c=o.level,u=c.charAt(0),d=i[c];switch(!o.dynamicBanner&&o.dynamic&&(d=r+" "+i[c]),u){case"T":var p="Yellow";o.tsOrange&&(p="Orange"),s=e(n).addClass("classBanner TopSecret-"+p).html(d),a=e(n).addClass("classBanner TopSecret-"+p).html(d);break;case"S":s=e(n).addClass("classBanner Secret").html(d),a=e(n).addClass("classBanner Secret").html(d);break;case"C":s=e(n).addClass("classBanner Conf").html(d),a=e(n).addClass("classBanner Conf").html(d);break;case"U":s=e(n).addClass("classBanner U-FOUO").html(d),a=e(n).addClass("classBanner U-FOUO").html(d)}var h=e("body");h.prepend(s),o.dynamic&&o.dynamicBanner&&l(),h.append(a)},l=function(){e(n).addClass("classBanner Dynamic").html(r).prependTo("body"),e(n).addClass("classBanner Dynamic").html(r).appendTo("body")}}(e)}).call(t,n(6))},function(e,t,n){(function(e){!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(e),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function i(e){function t(e){return z[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function r(e,t){for(var n=0,i=t.length;i>n;n+=1)if(s(e,t[n]))return n;return-1}function o(){var t=e(Y);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function s(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function a(t,n){var i,r,o;if(null===t||t.length<1)return[];for(i=t.split(n),r=0,o=i.length;o>r;r+=1)i[r]=e.trim(i[r]);return i}function l(e){return e.outerWidth(!1)-e.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=P;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function d(e,n,i){i=i||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function p(e,t){var n=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){r(e.target,t.get())>=0&&n(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus();var r=n.offsetWidth>0||n.offsetHeight>0;r&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),n=r.text.length-i}return{offset:n,length:i}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!I){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);I=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),e("body").append(I)}return I.text(t.val()),I.width()}function b(t,n,i){var r,o,s=[];r=e.trim(t.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&s.push(this)})),r=e.trim(n.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&s.push(o))})),t.attr("class",s.join(" "))}function y(e,t,n,r){var o=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),s=t.length;return 0>o?void n.push(r(e)):(n.push(r(e.substring(0,o))),n.push("<span class='select2-match'>"),n.push(r(e.substring(o,o+s))),n.push("</span>"),void n.push(r(e.substring(o+s,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var i,r=null,o=n.quietMillis||100,s=n.url,a=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=s,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(a,l.term,l.page,l.context):null,o="function"==typeof o?o.call(a,l.term,l.page,l.context):o,r&&"function"==typeof r.abort&&r.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(a)):e.extend(d,n.params)),e.extend(d,{url:o,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page,l);l.callback(t)},error:function(e,t,n){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};l.callback(i)}}),r=c.call(a,d)},o)}}function x(t){var n,i,r=t,o=function(e){return""+e.text};e.isArray(r)&&(i=r,r={results:i}),e.isFunction(r)===!1&&(i=r,r=function(){return i});var s=r();return s.text&&(o=s.text,e.isFunction(o)||(n=s.text,o=function(e){return e[n]})),function(t){var n,i=t.term,s={results:[]};return""===i?void t.callback(r()):(n=function(r,s){var a,l;if(r=r[0],r.children){a={};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a.children=[],e(r.children).each2(function(e,t){n(t,a.children)}),(a.children.length||t.matcher(i,o(a),r))&&s.push(a)}else t.matcher(i,o(r),r)&&s.push(r)},e(r().results).each2(function(e,t){n(t,s.results)}),void t.callback(s))}}function k(n){var i=e.isFunction(n);return function(r){var o=r.term,s={results:[]},a=i?n(r):n;e.isArray(a)&&(e(a).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||r.matcher(o,n))&&s.results.push(e?this:{id:this,text:this})}),r.callback(s))}}function T(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function C(t,n){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(n,i)}return t}function D(t){var n=0;return e.each(t,function(e,t){t.children?n+=D(t.children):n++}),n}function E(e,n,i,r){var o,a,l,c,u,d=e,p=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,c=r.tokenSeparators.length;c>l&&(u=r.tokenSeparators[l],a=e.indexOf(u),!(a>=0));l++);if(0>a)break;if(o=e.substring(0,a),e=e.substring(a+u.length),o.length>0&&(o=r.createSearchChoice.call(this,o,n),o!==t&&null!==o&&r.id(o)!==t&&null!==r.id(o))){for(p=!1,l=0,c=n.length;c>l;l++)if(s(r.id(o),r.id(n[l]))){p=!0;break}p||i(o)}}return d!==e?e:void 0}function M(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function L(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var j,S,N,A,$,I,O,R,P={x:0,y:0},j={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case j.SHIFT:case j.CTRL:case j.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},Y="<div class='select2-measure-scrollbar'></div>",z={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};
O=e(document),$=function(){var e=1;return function(){return e++}}(),S=L(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,r,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+$()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(C(n.containerCss,this.opts.element)),this.container.addClass(C(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=i=this.container.find(s),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),u(this.results),this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",s,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",s,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),p(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,r){var o=i.scrollTop();r>0&&0>=o-r?(i.scrollTop(0),m(e)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),m(e))}),c(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),R=R||o(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:s(e.attr("locked"),"locked")||s(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,r,o,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,r,o){var s,a=this.opts.id,l=this.liveRegion;(s=function(i,r,u){var d,p,h,f,m,g,v,b,y,w;i=n.sortResults(i,r,o);var _=[];for(d=0,p=i.length;p>d;d+=1)h=i[d],m=h.disabled===!0,f=!m&&a(h)!==t,g=h.children&&h.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(h)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+$()),b.attr("role","option"),w=n.formatResult(h,b,o,c.opts.escapeMarkup),w!==t&&(b.html(w),v.append(b)),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),s(h.children,y,u+1),v.append(y)),v.data("select2-data",h),_.push(v[0]);r.append(_),l.text(n.formatMatches(i.length))})(r,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(e){var n,r,o,s={results:[],more:!1},a=e.term;o=function(t,n){var i;t.is("option")?e.matcher(a,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(e,t){o(t,s.results)}),e.callback(s)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=_.call(n.element,n.ajax)):"data"in n?n.query=x(n.data):"tags"in n&&(n.query=k(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var r=[];e(a(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return s(this.id,t.id)?(t=this,!1):void 0}),r.push(t)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,r=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass,this.opts.element)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass,this.opts.element))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",r._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,r._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,n,i,r,o,s=this.dropdown,a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),d=e(window),p=d.width(),h=d.height(),f=d.scrollLeft()+p,m=d.scrollTop()+h,g=a.top+l,v=a.left,b=m>=g+u,y=a.top-u>=d.scrollTop(),w=s.outerWidth(!1),_=f>=v+w,x=s.hasClass("select2-drop-above");x?(n=!0,!y&&b&&(i=!0,n=!1)):(n=!1,!b&&y&&(i=!0,n=!0)),i&&(s.hide(),a=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=s.outerHeight(!1),f=d.scrollLeft()+p,m=d.scrollTop()+h,g=a.top+l,v=a.left,w=s.outerWidth(!1),_=f>=v+w,s.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",s)[0],s.addClass("select2-drop-auto-width"),s.css("width",""),w=s.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:R.width),w>c?c=w:w=c,u=s.outerHeight(!1),_=f>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),g-=t.top,v-=t.left),_||(v=a.left+this.container.outerWidth(!1)-w),r={left:v,width:c},n?(r.top=a.top-u,r.bottom="auto",this.container.addClass("select2-drop-above"),s.addClass("select2-drop-above")):(r.top=g,r.bottom="auto",this.container.removeClass("select2-drop-above"),s.removeClass("select2-drop-above")),r=e.extend(r,C(this.opts.dropdownCss,this.opts.element)),s.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),O.on("mousemove.select2Event",function(e){P.x=e.pageX,P.y=e.pageY}),!0):!1},opening:function(){var t,i=this.containerEventName,r="scroll."+i,o="resize."+i,s="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){n(t);var r,o=e("#select2-drop");o.length>0&&(r=o.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(o+" "+r+" "+s,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),O.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,i,r,o,s,a,l,c=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),l=(i.offset()||{}).top||0,r=l+i.outerHeight(!0),n===t.length-1&&(a=c.find("li.select2-more-results"),a.length>0&&(r=a.offset().top+a.outerHeight(!0))),o=c.offset().top+c.outerHeight(!0),r>o&&c.scrollTop(c.scrollTop()+(r-o)),s=l-c.offset().top,0>s&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var r=e(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,o=this.findHighlightableChoices();return 0===arguments.length?r(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),n=e(o[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),s=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:s,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:s}),r.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(C(r.opts.formatLoadMore,r.opts.element,i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),p.positionDropdown(),p.liveRegion.text(u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.text():p.opts.formatMatches(u.find(".select2-result-selectable").length))}function r(e){u.html(e),i()}var o,a,l,c=this.search,u=this.results,d=this.opts,p=this,h=c.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!s(h,f))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),e.isArray(o)&&o.length>=m&&T(d.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+C(d.formatSelectionTooBig,d.element,m)+"</li>");if(c.val().length<d.minimumInputLength)return r(T(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+C(d.formatInputTooShort,d.element,c.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void r(T(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+C(d.formatInputTooLong,d.element,c.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+C(d.formatSearching,d.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&c.val(a),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(o){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==t&&T(d.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+C(d.formatAjaxError,d.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(p,c.val(),o.results),a!==t&&null!==a&&p.id(a)!==t&&null!==p.id(a)&&0===e(o.results).filter(function(){return s(p.id(this),p.id(a))}).length&&this.opts.createSearchChoicePosition(o.results,a)),0===o.results.length&&T(d.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+C(d.formatNoMatches,d.element,c.val())+"</li>");u.empty(),p.opts.populateResults.call(this,u,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&T(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+d.escapeMarkup(C(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,r,o,s,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,s=i.length;s>o;o+=1)if(a=i[o].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),N=L(S,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var t,i,r=this.container,o=this.dropdown,s=$();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+s),this.focusser.attr("aria-labelledby","select2-chosen-"+s),this.results.attr("id","select2-results-"+s),this.search.attr("aria-owns","select2-results-"+s),this.focusser.attr("id","s2id_autogen"+s),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===j.PAGE_UP||e.which===j.PAGE_DOWN)return void m(e);switch(e.which){case j.UP:case j.DOWN:return this.moveHighlight(e.which===j.UP?-1:1),void m(e);case j.ENTER:return this.selectHighlighted(),void m(e);case j.TAB:return void this.selectHighlighted({noFocus:!0});case j.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==j.TAB&&!j.isControl(e)&&!j.isFunctionKey(e)&&e.which!==j.ESC){if(this.opts.openOnEnter===!1&&e.which===j.ENTER)return void m(e);if(e.which==j.DOWN||e.which==j.UP||e.which==j.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==j.DELETE||e.which==j.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(i)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=n.val(),o=null;t.query({matcher:function(e,n,i){var a=s(r,t.id(i));return a&&(o=i),a},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(e,t){return s(r.id(t.data("select2-data")),r.opts.element.val())?(i=e,!1):void 0}),n!==!1&&this.highlight(t===!0&&i>=0?i:0),t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(D(e.results)>=o)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),s(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),r.empty(),null!==e&&(n=this.opts.formatSelection(e,r,this.opts.escapeMarkup)),n!==t&&r.append(n),i=this.opts.formatSelectionCssClass(e,r),i!==t&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=r.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),A=L(S,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];
e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=a(n.val(),t.separator),o=[];t.query({matcher:function(n,i,a){var l=e.grep(r,function(e){return s(e,t.id(a))}).length;return l&&o.push(a),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<r.length;n++)for(var a=r[n],l=0;l<o.length;l++){var c=o[l];if(s(a,t.id(c))){e.push(c),o.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+$()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(n.length&&(e.which==j.LEFT||e.which==j.RIGHT||e.which==j.BACKSPACE||e.which==j.DELETE||e.which==j.ENTER)){var s=n;return e.which==j.LEFT&&i.length?s=i:e.which==j.RIGHT?s=r.length?r:null:e.which===j.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),s=i.length?i:r):e.which==j.DELETE?this.unselect(n.first())&&(this.search.width(10),s=r.length?r:null):e.which==j.ENTER&&(s=null),this.selectChoice(s),m(e),void(s&&s.length||this.open())}if((e.which===j.BACKSPACE&&1==this.keydowns||e.which==j.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case j.UP:case j.DOWN:return this.moveHighlight(e.which===j.UP?-1:1),void m(e);case j.ENTER:return this.selectHighlighted(),void m(e);case j.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case j.ESC:return this.cancel(e),void m(e)}if(e.which!==j.TAB&&!j.isControl(e)&&!j.isFunctionKey(e)&&e.which!==j.BACKSPACE&&e.which!==j.ESC){if(e.which===j.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===j.PAGE_UP||e.which===j.PAGE_DOWN)&&m(e),e.which===j.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],o=this;e(t).each(function(){r(o.id(this),n)<0&&(n.push(o.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,o=!n.locked,s=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?s:a,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),r=this.opts.formatSelectionCssClass(n,l.find("div")),r!=t&&l.addClass(r),o&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,i,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var s=e.Event("select2-removing");if(s.val=this.id(n),s.choice=n,this.opts.element.trigger(s),s.isDefaultPrevented())return!1;for(;(i=r(this.id(n),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),o=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),a=this;o.each2(function(e,t){var n=a.id(t.data("select2-data"));r(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&T(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+C(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,i,r,o=l(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(t-i)-o,e>r&&(r=n-o),40>r&&(r=n-o),0>=r&&(r=e),this.search.width(Math.floor(r))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){r(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)s(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(r,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,r,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(r=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),e.fn.select2=function(){var n,i,o,s,a,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),i=a?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],c)<0)throw"Unknown method: "+l[0];if(s=t,i=e(this).data("select2"),i===t)return;if(o=l[0],"container"===o?s=i.container:"dropdown"===o?s=i.dropdown:(p[o]&&(o=p[o]),s=i[o].apply(i,l.slice(1))),r(l[0],u)>=0||r(l[0],d)>=0&&1==l.length)return!1}}),s===t?this:s},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var r=[];return y(e.text,n.term,r,i),r.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:x,tags:k},util:{debounce:d,markMatch:y,escapeMarkup:w,stripDiacritics:i},"class":{"abstract":S,single:N,multi:A}}}}(e)}).call(t,n(6))},function(e,t,n){(function(e){+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":e-i>=r+s?!1:"bottom";var a=null==this.affixed,l=a?r:o.top,c=a?s:t;return null!=n&&n>=l?"top":null!=i&&l+c>=e-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=e("body").height();"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,t,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(e),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.1",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(e),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(e),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n="prev"==e?-1:1,i=this.getItemIndex(t),r=(i+n)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),s=this.interval,a="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[l]()}if(o.hasClass("active"))return this.sliding=!1;var u=o[0],d=e.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(o)]);p&&p.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=e.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),t.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(e),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&"show"==t&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.1",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),s=o.data("bs.collapse"),a=s?"toggle":e.extend({},r.data(),{trigger:this});n.call(o,a)})}(e),+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=n(i),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.1",s.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s&&27!=t.which||s&&27==t.which)return 27==t.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',s.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',s.prototype.keydown)}(e),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),s=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=e(i);this.activate(t.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&e.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(e),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0
});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(e),+function(e){"use strict";function t(n,i){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(e),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof t?o[t](i):s.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,s,this)})}(e),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t,s=o&&o.selector;(r||"destroy"!=t)&&(s?(r||i.data("bs.tooltip",r={}),r[s]||(r[s]=new n(this,o))):r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var h=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&u.bottom+p>m.bottom?"top":"top"==a&&u.top-p<m.top?"bottom":"right"==a&&u.right+d>m.width?"left":"left"==a&&u.left-d<m.left?"right":a,o.removeClass(h).addClass(a)}var g=this.getCalculatedOffset(a,u,d,p);this.applyPlacement(g,a);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),p=d?2*u.left-r+l:2*u.top-o+c,h=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][h],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=this.tip(),s=e.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,s,a,o)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,l=t.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=t.left-o,u=t.left+o+n;c<s.left?r.left=s.left-c:u>s.width&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(e),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t,s=o&&o.selector;(r||"destroy"!=t)&&(s?(r||i.data("bs.popover",r={}),r[s]||(r[s]=new n(this,o))):r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.1",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(e)}).call(t,n(6))},function(e,t,n){"use strict";var i=n(1),r=n(541),o=i.createClass({displayName:"LoadMask",spinner:null,render:function(){return i.createElement("div",{className:"load-mask-container"},i.createElement("div",{className:"load-mask-content"},i.createElement("p",{ref:"spinner",tabIndex:"0",className:"load-mask-icon"}),i.createElement("p",{className:"load-mask-message"},this.props.message)))},componentDidMount:function(){var e=this.refs.spinner.getDOMNode();this.spinner=new r({color:"#fff"}),this.spinner.spin(e),e.focus()},componentWillUnmount:function(){this.spinner.stop()},shouldComponentUpdate:function(e){return e.message!==this.props.message}});e.exports=o},function(e,t,n){(function(t){"use strict";var i=n(1),r=n(13),o=r.HELP_URL,s=i.createClass({displayName:"HelpModal",propTypes:{onShown:i.PropTypes.func,onHidden:i.PropTypes.func},componentDidMount:function(){t(this.getDOMNode()).one("shown.bs.modal",function(){this.props.onShown&&this.props.onShown()}.bind(this)).one("hidden.bs.modal",function(){this.props.onHidden&&this.props.onHidden()}.bind(this)).modal({backdrop:"static",keyboard:!1,show:!0})},render:function(){return i.createElement("div",{id:"help-modal",className:"modal fade",role:"dialog","aria-hidden":"true"},i.createElement("div",{className:"modal-dialog  modal-lg"},i.createElement("div",{className:"modal-content"},i.createElement("div",{className:"modal-header"},i.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},i.createElement("span",{"aria-hidden":"true"},i.createElement("i",{className:"icon-cross"})),i.createElement("span",{className:"sr-only"},"Close")),i.createElement("h4",{className:"modal-title"},"OZONE Help Zone")),i.createElement("div",{className:"modal-body"},i.createElement("iframe",{style:{width:"100%",height:"500px",border:"none"},src:o})))))}});e.exports=s}).call(t,n(6))},function(e,t,n){"use strict";var i=n(8),r=i.Route,o=i.Redirect,s=n(304),a=n(320),l=n(339),c=n(313),u=n(329),d=n(322),p=n(323);e.exports=function(e){var t=[React.createElement(r,{path:"home",name:"home",handler:a}),React.createElement(r,{path:"user-management",name:"user-management",handler:l},React.createElement(r,{path:"my-listings",name:"my-listings",handler:l.MyListings}),React.createElement(r,{path:"recent-activity",name:"recent-activity",handler:l.RecentActivity}),React.createElement(r,{path:"all-listings",name:"all-listings",handler:d}),React.createElement(r,{path:"org-listings/:org",name:"org-listings",handler:p})),React.createElement(r,{path:"edit/?:listingId?",name:"edit",handler:c}),React.createElement(r,{path:"mall-management",name:"mall-management",handler:u},React.createElement(r,{path:"categories",name:"categories",handler:u.Categories}),React.createElement(r,{path:"contact-types",name:"contact-types",handler:u.ContactTypes}),React.createElement(r,{path:"intents",name:"intents",handler:u.Intents}),React.createElement(r,{path:"organizations",name:"organizations",handler:u.Organizations}),React.createElement(r,{path:"stewards",name:"stewards",handler:u.Stewards}),React.createElement(r,{path:"notifications",name:"notifications",handler:u.Notifications}))];return e&&(t=t.concat(e)),t.push(React.createElement(o,{to:"home"})),React.createElement(r,{handler:s},t)}},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r.RouteHandler,s=n(18),a=n(19),l=n(65),c=l.fetchLibrary,u=n(347),d=n(340),p=n(375),h=n(335),f=n(134),m=f.ListingDeleteConfirmation,g=i.createClass({displayName:"App",mixins:[a,s],render:function(){return i.createElement("div",{id:"App"},i.createElement(o,i.__spread({system:this.state.system,currentUser:this.state.currentUser},this.props)),this.renderModal())},renderModal:function(){var e=this.getQuery(),t=e.listing,n=e.profile,r=e.settings,o=e.tab,s=e.action;if(t){if(o){var a="preview"===s;return i.createElement(u,{listingId:t,tab:o,preview:a,system:this.state.system,currentUser:this.state.currentUser})}if("feedback"===s)return i.createElement(h,{listing:t});if("delete"===s)return i.createElement(m,{listing:t})}else{if(n)return i.createElement(d,{profileId:n});if(r)return i.createElement(p,{backRoute:this.getActiveRoutePath()})}},componentWillMount:function(){c()}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(5),o=n(19),s=n(38);e.exports=i.createClass({displayName:"exports",mixins:[o],propTypes:{onHideen:i.PropTypes.func.isRequired},render:function(){return i.createElement(s,{ref:"modal",className:"StewardsModal",size:"small",title:"Organization Stewards",onHidden:this.props.onHidden},this.renderStewards())},renderStewards:function(){var e=this,t=[];return this.state.system.organizations.map(function(n){var o=r.map(e.state.system.stewards,function(e){return r.contains(e.stewardedOrganizations,n.title)?i.createElement("li",null,e.displayName," | ",i.createElement("a",{href:"mailto:"+e.email},e.email)):void 0});t.push([i.createElement("li",null,n.title),i.createElement("ul",null,o)])}),i.createElement("ul",null,t)}})},function(e,t,n){"use strict";var i=n(1),r=i.addons,o=r.classSet,s=n(5),a=i.createClass({displayName:"ListInput",render:function(){var e=this.props.value||[],t=e.map(function(e,t){var n=s.pick(this.props,["requestChange","messages","errors","warnings","forceError","imageErrors"]),r=(this.props.imageErrors?this.props.imageErrors[t]:null)||{},o=Object.assign(n,{value:e,imageErrors:r,removeHandler:this.onDelete.bind(null,t),key:t,path:this.props.path.concat(t)});return i.createElement(this.props.itemForm,i.__spread({},o))},this),n=o({"input-optional":this.props.optional});return i.createElement("div",null,i.createElement("div",{className:this.getClasses()},i.createElement("label",{className:n},this.props.label),i.createElement("p",{className:"small"},this.props.description),i.createElement("p",{className:"help-block small"},this.props.help)),i.createElement("div",null,t),i.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.handleNew},"Add"))},onDelete:function(e,t){t.preventDefault();var n=this.props.value;n.splice(e,1),this.props.setter(n)},getClasses:function(){return o({"form-group":!0,"has-error":this.showError()})},showError:function(){return this.props.error&&this.props.forceError},handleNew:function(e){e.preventDefault();var t=this.props.value||[];t.push({}),this.props.setter(t)}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(5),s=n(363),a=n(83),l=n(130),c=i.createClass({displayName:"OwnerInput",mixins:[r.listenTo(s,"onStoreChange")],propTypes:{listing:i.PropTypes.object.isRequired,ownerSetter:i.PropTypes.func.isRequired},getInitialState:function(){return{storeData:{profiles:[]},query:null}},shouldComponentUpdate:function(e){var t=!!o.find(o.zip(e.listing.owners,this.props.listing.owners),function(e){return(e[0]||{}).username!==(e[1]||{}).username});return t||e.ownerSetter!==this.props.ownerSetter},getSelect2Data:function(e){e=e||this.state.storeData;var t=function(e){return{id:e.username,text:e.username}},n=e.profiles.map(t),i=(this.props.listing.owners||[]).map(t),r=i.map(function(e){return e.id}),s=i.concat(o.filter(n,function(e){return-1===r.indexOf(e.id)})||[]);return s},render:function(){var e=this.getSelect2Data(),t=(this.props.listing.owners||[]).map(function(e){return e.username});return i.createElement(l,i.__spread({},this.props,{value:t,setter:this.props.ownerSetter,multiple:!0,handleQuery:this.handleQuery,options:e}))},handleQuery:function(e){this.state.query&&e.term===this.state.query.term||this.setState({query:e});var t=e.term||"";""===t?e.callback({results:this.getSelect2Data()}):a.search(t)},onStoreChange:function(e){e.searchTerm===this.state.query.term&&this.state.query.callback({results:this.getSelect2Data(e)}),this.setState({storeData:e})}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(43),o=n(87),s=i.createClass({displayName:"Select2TagInput",mixins:[r,o],renderInput:function(){return i.createElement("input",{type:"text"})},getSelect2Options:function(){return{locked:this.props.locked,tags:[],tokenSeparators:[","," "]}}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(43),o=i.createClass({displayName:"TextAreaInput",mixins:[r],renderInput:function(){return i.createElement("textarea",{rows:this.props.rows||"3"})}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(43),o=i.createClass({displayName:"TextInput",mixins:[r],renderInput:function(){return i.createElement("input",{type:"text"})}});e.exports=o},function(e){"use strict";var t={getFormComponentProps:function(e){var t=this.props.messages||{},n=(this.props.path||[]).concat(e).join("."),i=n.replace(/\.\d\./,".");return{setter:this.props.requestChange.bind(null,(this.props.path||[]).concat(e)),value:this.props.value[e],label:t["label."+i],description:t["description."+i],"data-placeholder":t["placeholder."+i],help:t["help."+i],error:(this.props.errors||{})[n],warning:(this.props.warnings||{})[n],forceError:this.props.forceError,id:"inputElement."+n}},getSubFormProps:function(e){return Object.assign(this.getFormComponentProps(e),{errors:this.props.errors,imageErrors:this.props.imageErrors[e],messages:this.props.messages,warnings:this.props.warnings,requestChange:this.props.requestChange,path:(this.props.path||[]).concat(e)})}};e.exports=t},function(e,t,n){e.exports={InputMixin:n(43),ListInput:n(306),Select2Input:n(130),Select2Mixin:n(87),Select2TagInput:n(308),TextAreaInput:n(309),TextInput:n(310),ImageInput:n(129),ValidatedFormMixin:n(311),OwnerInput:n(307)}},function(e,t,n){"use strict";function i(e){return e.map(function(e){return{id:e.title,text:e.title}})}var r=n(1),o=n(4),s=n(301),a=n(5),l=a.pick,c=a.assign,u=n(14),d=u.approvalStatus,p=n(69),h=n(82),f=h.updateListing,m=h.save,g=h.submit,v=n(8),b=v.Navigation,y=n(66),w=n(67),_=n(305),x=r.addons,k=x.classSet,T=n(18),C=n(6),D=n(312),E=D.ValidatedFormMixin,M=D.ListInput,L=D.TextInput,j=D.ImageInput,S=D.Select2Input,N=D.Select2TagInput,A=D.TextAreaInput,$=D.OwnerInput,I={images:"Uploading Images...",listing:"Saving Listing..."},O=r.createClass({displayName:"ResourceForm",mixins:[E],render:function(){return r.createElement("div",{className:"well"},r.createElement("button",{type:"button",className:"close",onClick:this.props.removeHandler},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close")),r.createElement(L,r.__spread({},this.getFormComponentProps("name"))),r.createElement(L,r.__spread({},this.getFormComponentProps("url"))))}}),R=r.createClass({displayName:"ScreenshotForm",mixins:[E],render:function(){return r.createElement("div",{className:"well"},r.createElement("button",{type:"button",className:"close",onClick:this.props.removeHandler},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close")),r.createElement(j,r.__spread({},this.getFormComponentProps("smallImage"),{imageUri:this.props.value.smallImageUrl,serverError:this.props.imageErrors.smallImage})),r.createElement(j,r.__spread({},this.getFormComponentProps("largeImage"),{imageUri:this.props.value.largeImageUrl,serverError:this.props.imageErrors.largeImage})))}}),P=r.createClass({displayName:"ContactForm",mixins:[n(19),E],render:function(){return r.createElement("div",{className:"well"},r.createElement("button",{type:"button",className:"close",onClick:this.props.removeHandler},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close")),r.createElement(S,r.__spread({},this.getFormComponentProps("type"),{options:i(this.state.system.contactTypes)})),r.createElement(L,r.__spread({},this.getFormComponentProps("name"))),r.createElement(L,r.__spread({},this.getFormComponentProps("organization"),{optional:!0})),r.createElement(L,r.__spread({},this.getFormComponentProps("email"))),r.createElement(L,r.__spread({},this.getFormComponentProps("securePhone"))),r.createElement(L,r.__spread({},this.getFormComponentProps("unsecurePhone"))))}}),Y=r.createClass({displayName:"ListingForm",mixins:[E],render:function(){var e=this.props.value,t=this.props.system,n=function(e){this.props.requestChange(["owners"],e.map(function(e){return{username:e}}))}.bind(this),o=this.getFormComponentProps;return r.createElement("form",{className:"CreateEdit__form"},r.createElement("h2",null,"Basic Listing Information"),r.createElement(L,r.__spread({},o("title"))),r.createElement(S,r.__spread({},o("type"),{options:i(t.types)})),r.createElement(S,r.__spread({},o("categories"),{multiple:!0,options:i(t.categories)})),r.createElement(N,r.__spread({},o("tags"),{multiple:!0})),r.createElement(A,r.__spread({},o("description"),{rows:"6"})),r.createElement(A,r.__spread({},o("descriptionShort"),{rows:"3"})),r.createElement("h2",null,"Listing Details"),r.createElement(L,r.__spread({},o("versionName"))),r.createElement(L,r.__spread({},o("launchUrl"))),r.createElement(A,r.__spread({},o("requirements"),{rows:"5"})),r.createElement(A,r.__spread({},o("whatIsNew"),{rows:"3",optional:!0})),r.createElement(S,r.__spread({},o("intents"),{multiple:!0,options:this.props.system.intents.map(function(e){var t=e.type+"/"+e.action;return{id:t,text:t}})})),r.createElement(M,r.__spread({},this.getSubFormProps("docUrls"),{itemForm:O,optional:!0})),r.createElement("h2",null,"Graphics"),r.createElement(j,r.__spread({},o("smallIcon"),{imageUri:this.props.value.imageSmallUrl,serverError:this.props.imageErrors.smallIcon})),r.createElement(j,r.__spread({},o("largeIcon"),{imageUri:this.props.value.imageMediumUrl,serverError:this.props.imageErrors.largeIcon})),r.createElement(j,r.__spread({},o("bannerIcon"),{imageUri:this.props.value.imageLargeUrl,serverError:this.props.imageErrors.bannerIcon})),r.createElement(j,r.__spread({},o("featuredBannerIcon"),{imageUri:this.props.value.imageXlargeUrl,serverError:this.props.imageErrors.featuredBannerIcon})),r.createElement(M,r.__spread({},this.getSubFormProps("screenshots"),{itemForm:R})),r.createElement("h2",null,"Owner Information and Contacts"),r.createElement(S,r.__spread({},o("agency"),{options:i(t.organizations)})),r.createElement($,r.__spread({},o("owners"),{listing:e,ownerSetter:n})),r.createElement(M,r.__spread({},this.getSubFormProps("contacts"),{itemForm:P})))
}}),z=r.createClass({displayName:"CreateEditPage",mixins:[o.connect(p),b,T],statics:{willTransitionTo:function(e,t){e.wait(p.loadListing(t.listingId).then(function(t){p.currentUserCanEdit(t)||e.redirect("my-listings")}))},willTransitionFrom:function(e,t){t.state&&t.state.hasChanges&&(window.confirm("You have unsaved information, are you sure you want to leave this page?")||e.abort())}},getInitialState:function(){return{scrollToError:!1,imageErrors:{screenshots:[]},showStewards:!1}},render:function(){var e=this.state.listing;if(!e)return r.createElement("p",null,"loading...");var t=function(){return this.state.hasChanges||!e.id}.bind(this),n={btn:!0,tool:!0,"btn-success":!t(),"btn-danger":t()},i=d[e.approvalStatus],o=d,a=o.IN_PROGRESS,u=o.REJECTED,p=[a,u].some(function(e){return e===i}),h=!!e.id,m=(this.getParams().listingId?"Edit ":"Create New ")+"Listing",g=t()?"fa fa-save":"icon-check",v=I[this.state.saveStatus],b=c({},l(this.state,["errors","warnings","messages","firstError"]),{system:this.props.system,value:e,requestChange:f,forceError:!this.state.isValid,currentUser:this.props.currentUser,imageErrors:this.state.imageErrors}),x=r.createElement("div",{className:"CreateEdit__titlebar row"},r.createElement("h1",null,m),r.createElement("div",{className:"alert alert-info alert-small",role:"alert"},"All fields are required unless marked as optional."),r.createElement("div",{className:"btn-toolbar",role:"group"},r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{type:"button",className:k(n),onClick:this.onSave},r.createElement("span",{className:"create-edit-button"},"Save"),r.createElement("i",{className:g})),h&&r.createElement("button",{className:"btn btn-default tool",onClick:this.onPreview},r.createElement("span",{className:"create-edit-button"},"Preview"),r.createElement("i",{className:"icon-eye"}," ")),p&&r.createElement("button",{className:"btn btn-default tool",onClick:this.onSubmit},r.createElement("span",{className:"create-edit-button"},"Publish"),r.createElement("i",{className:"icon-cloud-upload"}," "))),r.createElement("div",{className:"btn-group",role:"group"},r.createElement("button",{type:"button",className:"btn btn-default",onClick:this.onClose},r.createElement("span",{className:"create-edit-button"},"Back"),r.createElement("i",{className:"icon-layers"}," ")," "))));return r.createElement("div",null,r.createElement(y,null),r.createElement(w,{subHeader:x}),r.createElement(Y,r.__spread({ref:"form"},b)),v&&r.createElement(s,{message:v}),this.state.showStewards&&r.createElement(_,{onHidden:this.onModalHidden}))},componentDidUpdate:function(){this.state.scrollToError&&!this.state.isValid&&this.scrollToError(this.state.firstError)},onSave:function(){m(),this.setState({scrollToError:!0})},onClose:function(){this.transitionTo("my-listings")},onPreview:function(){var e=this.state.listing.id;this.transitionTo("edit",{listingId:e},{listing:e,action:"preview",tab:"overview"})},onSubmit:function(){g(),this.setState({scrollToError:!0})},scrollToError:function(){var e=C("div.form-group.has-error"),t=C(this.refs.form.getDOMNode()).find(":first-child"),n=C("html, body");if(e[0]){var i=e.offset().top-t.offset().top;n.animate({scrollTop:i},"medium"),this.setState({scrollToError:!1})}},showStewardsModal:function(){this.setState({showStewards:!0})},onModalHidden:function(){this.setState({showStewards:!1})}});e.exports=z},function(e,t,n){"use strict";var i=n(29),r=i.Str,o=i.subtype,s=n(14),a=s.EMAIL_REGEX,l=s.PHONE_REGEX,c=s.URL_REGEX,u=function(e){return l.test(e)},d=function(e){return c.test(e)},p=function(e){return a.test(e)},h=function(e){return 0===e.length},f=function(e){return!!e},m=function(e){return o(r,function(t){return t.length<=e})},g=function(e){return o(m(e),f)},v=o(r,h),b=o(m(2083),d),y=o(m(50),u),w=o(m(100),p);e.exports={StringMax:m,NonBlankString:g,BlankString:v,Url:b,Phone:y,Email:w}},function(e,t,n){"use strict";function i(e){return e.filter(function(e){return e.required}).map(function(e){return e.title})}function r(e,t){return e.every(function(e){return t.some(function(t){return t.type===e})})}function o(e){return g({title:N,type:A,categories:m(I,U),tags:m(O,U),description:x(4e3),descriptionShort:x(100),versionName:x(255),launchUrl:k,requirements:x(1e3),whatIsNew:$,intents:R,docUrls:z,smallIconId:x(36),largeIconId:x(36),bannerIconId:x(36),featuredBannerIconId:x(36),screenshots:m(P,U),contacts:m(Y,r.bind(null,e)),owners:m(F,U),agency:x(255),height:f(y),width:f(y)})}function s(e){var t=Object.keys(e.errors).filter(function(e){return 0===e.indexOf("screenshots.")}),n=d.zipObject(t.map(function(t){return[t.replace(/Id$/,""),e.errors[t]]}));Object.assign(e.errors,{smallIcon:e.errors.smallIconId,largeIcon:e.errors.largeIconId,bannerIcon:e.errors.bannerIconId,featuredBannerIcon:e.errors.featuredBannerIconId},n)}function a(e,t){t.contacts.forEach(function(t,n){["secure","unsecure"].forEach(function(i){var r="contacts."+n+"."+i+"Phone";e.errors[r]=e.errors[r]||!j(t)})})}function l(e,t,n){var i=p.validate(e,n),r={};i.errors&&i.errors.forEach(function(e){var t=e.path.join(".");r[t]=!0});var o=i.firstError()?i.firstError().path.join("."):"";return{isValid:i.isValid(),errors:r,firstError:o}}function c(e,t){var n=l(e,t,H);return a(n,e),s(n),n}function u(e,t){var n=i((t||{}).contactTypes||[]),c=l(e,t,o(n));return a(c,e),c.errors.contacts=!r(n,e.contacts),s(c),c}var d=n(5),p=n(29),h=p,f=h.maybe,m=h.subtype,g=h.struct,v=h.list,b=h.union,y=h.Num,w=n(314),_=w.StringMax,x=w.NonBlankString,k=w.Url,T=w.Phone,C=w.Email,D=w.BlankString,E=g({username:x(100)}),M=g({smallImageId:x(36),largeImageId:x(36)}),L=g({name:x(255),url:k}),j=function(e){return[e.securePhone,e.unsecurePhone].some(T.is)},S=m(g({name:x(100),securePhone:f(b([D,T])),unsecurePhone:f(b([D,T])),email:C,organization:f(_(100)),type:x(50)}),j),N=x(60),A=x(50),$=f(_(250)),I=v(x(50)),O=v(x(16)),R=v(x(127)),P=v(M),Y=v(S),z=v(L),F=v(E),U=function(e){return e.length>0},H=g({title:N,type:A,categories:I,tags:O,description:f(_(4e3)),descriptionShort:f(_(100)),versionName:f(_(255)),launchUrl:f(b([k,D])),requirements:f(_(1e3)),whatIsNew:$,intents:R,docUrls:z,screenshots:P,contacts:Y,owners:m(F,U),agency:f(_(255)),height:f(y),width:f(y)});e.exports={validateFull:u,validateDraft:c}},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r.Navigation,s=n(18),a=i.createClass({displayName:"FeaturedListingTile",mixins:[o,s],render:function(){var e=this.props,t=e.listing,n=t.imageXlargeUrl,r=this.makeHref(this.getActiveRoutePath(),null,{listing:t.id,action:"view",tab:"overview"});return i.createElement("li",{className:"listing SearchListingTile SearchListingTile--featured"},i.createElement("a",{href:r},i.createElement("img",{src:n})))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(86),o=n(316);e.exports=i.createClass({displayName:"exports",propTypes:{options:i.PropTypes.object},getDefaultProps:function(){return{options:{auto:!1,scroll:{easing:"quadratic",items:1,duration:1e3},width:"100%",items:{visible:3,start:-1}}}},render:function(){var e=this.props.listings.map(function(e){return i.createElement(o,{key:e.id,listing:e})});return this.props.listings.length<=3&&(this.props.options.items.visible=1),i.createElement("section",null,i.createElement("h4",null,"Featured"),i.createElement(r,{ref:"carousel",className:"featured-listings-carousel",options:this.props.options},e))}})},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r.Navigation,s=r.CurrentPath,a=n(18),l=n(44),c=n(128),u=n(127),d=i.createClass({displayName:"ListingTile",mixins:[o,s,a],statics:{fromArray:function(e){return e.map(function(e){return i.createElement(d,{listing:e,key:e.id})})},renderLimitedTiles:function(e,t){var n=0;return t.filter(function(t){return e>n?(n++,t):void 0}).map(function(e){return i.createElement(d,{listing:e,key:e.id})})}},render:function(){var e=this.props.listing,t=e.title,n=e.descriptionShort&&e.descriptionShort.substr(0,140),r=e.imageLargeUrl,o=e.avgRate,s=e.agencyShort,a=this.makeHref(this.getActiveRoutePath(),null,{listing:e.id,action:"view",tab:"overview"});return this.transferPropsTo(i.createElement("li",{className:"listing SearchListingTile",key:e.id},i.createElement("a",{className:"listing-link",href:a}),i.createElement("img",{src:r}),i.createElement("section",{className:"slide-up"},i.createElement("p",{className:"title"},t),i.createElement(l,{className:"icon-rating",viewOnly:!0,currentRating:o,toggledClassName:"fa fa-star",untoggledClassName:"fa fa-star-o",halfClassName:"fa fa-star-half-o"}),s&&i.createElement("span",{className:"company"},s),i.createElement("p",{className:"description"},n),this.renderActions())))},renderActions:function(){return i.createElement("div",{className:"btn-group actions"},i.createElement(c,{className:"btn-default",listing:this.props.listing}),i.createElement(u,{listing:this.props.listing}))}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(5),o=i.createClass({displayName:"Sidebar",propTypes:{isSearching:i.PropTypes.bool.isRequired,system:i.PropTypes.shape({categories:i.PropTypes.array.isRequired,types:i.PropTypes.array.isRequired,organizations:i.PropTypes.array.isRequired}).isRequired,onGoHome:i.PropTypes.func.isRequired,onFilterChange:i.PropTypes.func.isRequired},getInitialState:function(){return{selectedFilters:this.state&&this.state.selectedFilters||{}}},render:function(){var e=this.props.isSearching||this.areFiltersApplied(),t=i.addons.classSet({active:!e,"facet-group-item":!0});return i.createElement("aside",{className:"sidebar"},i.createElement("ul",{className:"list-unstyled facet-group"},i.createElement("li",{className:t,onClick:this.clearFilters},"Home")),i.createElement("ul",{className:"list-unstyled facet-group"},i.createElement("li",null,i.createElement("span",null,"Categories"),i.createElement("ul",{className:"list-unstyled"},this.renderFacets(this.props.system.categories,"categories"))),i.createElement("li",null,i.createElement("span",null,"Types"),i.createElement("ul",{className:"list-unstyled"},this.renderFacets(this.props.system.types,"type"))),i.createElement("li",null,i.createElement("span",null,"Organizations"),i.createElement("ul",{className:"list-unstyled"},this.renderFacets(this.props.system.organizations,"agency")))))},renderFacets:function(e,t){var n=this;return e.map(function(e){var o=i.addons.classSet({active:r.contains(n.state.selectedFilters[t],e.title),"facet-group-item":!0});return i.createElement("li",{className:o,onClick:n.handleFilterToggle.bind(null,t,e)},e.title)})},areFiltersApplied:function(){var e=!1;return r.forOwn(this.state.selectedFilters,function(t){e=e||t.length}),e},clearFilters:function(){var e=this.state.selectedFilters;r.forOwn(e,function(t,n){e[n].length=0}),this.setState({selectedFilters:e,queryString:""}),this.props.onGoHome()},handleFilterToggle:function(e,t){var n=[].concat(this.state.selectedFilters[e]||[]),i=t.title;n=r.contains(n,i)?r.without(n,i):n.concat(i),this.setState({selectedFilters:Object.assign({},this.state.selectedFilters,r.zipObject([e],[n]))}),this.props.onFilterChange()}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(5),s=n(12),a=n(66),l=n(67),c=n(319),u=n(318),d=n(317),p=n(86),h=n(352),f=n(361),m=i.createClass({displayName:"Discovery",mixins:[r.ListenerMixin],getInitialState:function(){return{featured:f.getFeatured(),newArrivals:f.getNewArrivals(),mostPopular:f.getMostPopular(),searchResults:f.getSearchResults(),mostPopularTiles:12}},componentWillMount:function(){this.listenTo(f,this.onStoreChange),s.fetchFeatured(),s.fetchNewArrivals(),s.fetchMostPopular()},render:function(){var e=this.isSearching(),t=this.isBrowsing();return i.createElement("div",null,i.createElement(a,null),i.createElement(l,null,i.createElement("form",{className:"navbar-form navbar-left",role:"search"},i.createElement("div",{className:"form-group"},i.createElement("i",{className:"fa fa-search"}),i.createElement(h,{ref:"search",type:"text",className:"form-control",placeholder:"Search",value:this.state.queryString,onChange:this.onSearchInputChange}),i.createElement("i",{className:"fa fa-times",onClick:this.reset})))),i.createElement("div",{id:"discovery"},i.createElement(c,{ref:"sidebar",isSearching:e,system:this.props.system,onGoHome:this.reset,onFilterChange:this.search}),i.createElement("section",{className:"content"},t?this.renderSearchResults():[this.renderFeaturedListings(),this.renderNewArrivals(),this.renderMostPopular()]),i.createElement("div",{className:"clearfix"})))},componentDidUpdate:function(e,t){t.queryString!==this.state.queryString&&this.search()},onStoreChange:function(){this.setState(this.getInitialState())},onSearchInputChange:function(e){this.setState({queryString:e.target.value})},isSearching:function(){return!!this.state.queryString},isBrowsing:function(){var e=this.refs.sidebar;return this.isSearching()||e&&e.areFiltersApplied()},reset:function(){this.setState({queryString:""})},search:o.debounce(function(){s.search(o.assign({queryString:this.state.queryString},this.refs.sidebar.state.selectedFilters))},500),renderFeaturedListings:function(){return this.state.featured.length?i.createElement(d,{listings:this.state.featured}):void 0},renderNewArrivals:function(){return this.state.newArrivals.length?i.createElement("section",{className:"Discovery__NewArrivals"},i.createElement("h4",null,"New Arrivals"),i.createElement(p,{className:"new-arrival-listings"},u.fromArray(this.state.newArrivals))):void 0},handleLoadMore:function(){this.setState({mostPopularTiles:this.state.mostPopularTiles+=12})},renderMostPopular:function(){if(this.state.mostPopular.length){var e=u.renderLimitedTiles(this.state.mostPopularTiles,this.state.mostPopular),t=this.state.mostPopularTiles>=this.state.mostPopular.length?"":i.createElement("button",{onClick:this.handleLoadMore,className:"btn btn-default loadMoreBtn"},"Load More");return i.createElement("section",{className:"Discovery__MostPopular"},i.createElement("h4",null,"Most Popular"),i.createElement("ul",{className:"infiniteScroll"},e),i.createElement("div",{className:"text-center"},t))}},renderSearchResults:function(){return i.createElement("section",{className:"Discovery__SearchResults"},i.createElement("h4",null,"Search Results"),i.createElement("ul",{className:"list-unstyled listings-search-results"},u.fromArray(this.state.searchResults)))}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r="./images/marketplace-logo.png",o=i.createClass({displayName:"Logo",render:function(){return i.createElement("a",{href:"#home",id:"appsmall-logo"},i.createElement("img",{src:r}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(8),s=n(91),a=n(19),l=n(89),c=n(131),u=n(132),d=n(334),p=n(88),h=n(68),f=n(92),m=n(12),g=n(14),v=g.UserRole,b=i.createClass({displayName:"AllListings",mixins:[s.Admin,a,o.State,r.listenTo(f,"onStoreChanged"),r.listenTo(m.listingChangeCompleted,"onListingChangeCompleted")],getInitialState:function(){return{counts:{},listings:[],hasMore:!1,filter:this.getQuery()}},getPaginatedList:function(){return f.getListingsByFilter(this.state.filter)},fetchAllListingsIfEmpty:function(){var e=f.getListingsByFilter(this.state.filter);e||m.fetchAllListings(this.state.filter),this.onStoreChanged()},onLoadMore:function(){m.fetchAllListings(this.state.filter)},onFilterChanged:function(e,t){this.state.filter[e]=t,this.fetchAllListingsIfEmpty(),this.setState({filter:this.state.filter})},onStoreChanged:function(){var e=this.getPaginatedList();if(e){var t=e,n=t.data,i=t.hasMore,r=t.counts;this.setState({listings:n,hasMore:i,counts:r})}},onListingChangeCompleted:function(){m.fetchAllListings(this.state.filter)},componentDidMount:function(){this.fetchAllListingsIfEmpty()},render:function(){var e={value:this.state.filter,counts:this.state.counts,onFilterChanged:this.onFilterChanged,organizations:this.state.system.organizations||[]};return this.transferPropsTo(i.createElement("div",{className:"AllListings row"},i.createElement("aside",{className:"Listings__Sidebar col-md-2"},i.createElement(l,null,i.createElement(c,i.__spread({role:v.ADMIN},e)),i.createElement(d,i.__spread({},e)),i.createElement(u,i.__spread({},e)))),i.createElement(h,{className:"AllListings__listings col-md-10 all",hasMore:this.state.hasMore,onLoadMore:this.onLoadMore},p.fromArray(this.state.listings,v.ADMIN))))}});e.exports=b},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(5),s=n(19),a=n(18),l=n(91),c=n(89),u=n(131),d=n(132),p=n(88),h=n(68),f=n(92),m=n(12),g=n(14),v=g.UserRole,b=i.createClass({displayName:"OrgListings",mixins:[s,a,l.OrgSteward,r.listenTo(f,"onStoreChanged"),r.listenTo(m.listingChangeCompleted,"onListingChangeCompleted")],getInitialState:function(){return{counts:{},listings:[],hasMore:!1,filter:o.assign(this.getQuery(),{org:this.props.org.params.org})}},getPaginatedList:function(){return f.getListingsByFilter(this.state.filter)},fetchAllListingsIfEmpty:function(){var e=this.getPaginatedList();e?this.onStoreChanged():m.fetchAllListings(this.state.filter)},onLoadMore:function(){m.fetchAllListings(this.state.filter)},onFilterChanged:function(e,t){this.state.filter[e]=t,this.fetchAllListingsIfEmpty(),this.forceUpdate(),this.onStoreChanged()},onStoreChanged:function(){var e=this.getPaginatedList();if(e){var t=e,n=t.data,i=t.hasMore,r=t.counts;this.setState({listings:n,hasMore:i,counts:r})}},onListingChangeCompleted:function(){m.fetchAllListings(this.state.filter)},componentWillReceiveProps:function(e){this.props.org.name!==e.org.name&&this.onFilterChanged("org",e.org.params.org)},componentDidMount:function(){this.fetchAllListingsIfEmpty()},render:function(){var e={value:this.state.filter,counts:this.state.counts,onFilterChanged:this.onFilterChanged,organizations:this.state.system.organizations||[]};return this.transferPropsTo(i.createElement("div",{className:"AllListings row"},i.createElement("aside",{className:"Listings__Sidebar col-md-2"},i.createElement(c,null,i.createElement(u,i.__spread({role:v.ORG_STEWARD},e)),i.createElement(d,i.__spread({},e)))),i.createElement(h,{className:"AllListings__listings col-md-10 all",hasMore:this.state.hasMore,onLoadMore:this.onLoadMore},p.fromArray(this.state.listings,v.ORG_STEWARD))))}});e.exports=b},function(e,t,n){"use strict";var i=n(1),r=n(29),o=r,s=o.Str,a=o.struct,l=o.subtype,c=o.maybe,u=n(58),d=n(13),p=d.API_URL,h=a({title:l(s,function(e){return e.length<=50}),description:c(l(s,function(e){return e.length<=255}))}),f=i.createClass({displayName:"Categories",getDefaultProps:function(){return{title:"Category",url:p+"/api/category",Schema:h,getDisplayName:function(e){return e.title},form:{fields:{title:{help:"Max. 50 characters"},description:{type:"textarea",help:"Max. 255 characters"}}},grid:{columns:[{field:"title",caption:"Title",size:"50%"},{field:"description",caption:"Description",size:"50%"}]}}},render:function(){return this.transferPropsTo(i.createElement(u,null))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(29),o=r,s=o.Str,a=o.struct,l=o.subtype,c=o.Bool,u=n(58),d=n(13),p=d.API_URL,h=a({title:l(s,function(e){return e.length<=50}),required:c}),f=i.createClass({displayName:"ContactTypes",getDefaultProps:function(){return{title:"Contact Type",url:p+"/api/contactType",Schema:h,getDisplayName:function(e){return e.title},form:{fields:{title:{help:"Max. 50 characters"}}},grid:{columns:[{field:"title",caption:"Title",size:"50%"},{field:"required",caption:"Required",size:"50%"}]}}},render:function(){return this.transferPropsTo(i.createElement(u,null))}});e.exports=f},function(e,t,n){"use strict";function i(e,t,n,i,o){return r.createClass({getInitialState:function(){return{imageUri:e,value:n,imageError:t}},onChange:function(e){var t=this.state.imageUri,n=window.URL&&window.Blob&&e instanceof Blob?URL.createObjectURL(e):null;t&&window.URL&&0===t.indexOf("blob:")&&URL.revokeObjectURL(t),this.setState({imageUri:n,value:e,imageError:null})},getValue:function(){return this.state.value},getImageUri:function(){return this.state.imageUri},componentDidUpdate:function(){o.onChange&&o.onChange(this)},shouldComponentUpdate:function(e,t){return this.state.imageUri!==t.imageUri},render:function(){return r.createElement("div",{className:"form-group"},r.createElement("label",null,r.createElement("span",null,"Icon",r.createElement("small",{className:"text-muted"}," (optional)"))),r.createElement(h,{imageUri:this.state.imageUri,value:this.state.value,setter:this.onChange,serverError:this.state.imageError}))}})}var r=n(1),o=n(29),s=o,a=s.Str,l=s.struct,c=s.subtype,u=s.maybe,d=n(58),p=n(143).ImageApi,h=n(129),f=n(13),m=f.API_URL,g=n(6),v=window.Blob?o.irriducible("Blob",function(e){return e instanceof Blob}):o.irriducible("HTMLInputElement",function(e){return e instanceof HTMLInputElement}),b=l({label:u(c(a,function(e){return e.length<=255})),action:c(a,function(e){return e.length<=64}),type:c(a,function(e){return e.length<=129}),iconInput:u(o.union([a,v]))}),y=r.createClass({displayName:"Intents",getDefaultProps:function(){return{title:"Intent",url:m+"/api/intent",Schema:b,getDisplayName:function(e){return e.action+"/"+e.type},grid:{columns:[{field:"label",caption:"Label",size:"10%"},{field:"action",caption:"Action",size:"45%"},{field:"type",caption:"Type",size:"45%"},{field:"icon",caption:"Icon",size:"50px",render:function(e){return e.icon?'<img style="width:24px;height:24px;" src='+e.icon+" >":""}}]}}},getInitialState:function(){return{imageError:null,imageUri:void 0}},getForm:function(e){var t=this;return{fields:{label:{help:"Max. 255 characters"},action:{help:"Max. 64 characters",disabled:e?!0:!1},type:{disabled:e?!0:!1,help:"Max. 64 characters/Max. 64 characters. Ex: application/json, application/custom-type, etc."},iconInput:{input:function(n,r){var o=t.state.imageUri||(e?e.icon:void 0),s=e?e.iconId:void 0,a=t.state.imageError,l=r.onChange;return r.onChange=function(e){t.state.imageUri=e.getImageUri(),l.apply(null,arguments)},i(o,a,s,n,r)}}}}},save:function(e,t){var n=this,i=e.iconInput,r=i&&"string"!=typeof i?this.saveIcon(e.iconInput):g.Deferred().resolve(i).promise();r.then(function(i){n.setState({imageError:null}),t(Object.assign({},e,{iconId:i,iconInput:void 0}))})},saveIcon:function(e){return p.save(e).then(function(e){return e.id},this.handleImageSaveFailure)},handleImageSaveFailure:function(e,t,n){var i=e.responseJSON,r=i?i.message:null,o=r||n||"Unknown error saving image";this.setState({imageError:o})},onCreate:function(e){this.save(e,this.refs.crud._onCreate)},onEdit:function(e){this.save(e,this.refs.crud._onEdit)},resetState:function(){this.setState(this.getInitialState())},render:function(){return this.transferPropsTo(r.createElement(d,{ref:"crud",onCreate:this.onCreate,onEdit:this.onEdit,onResetState:this.resetState,form:this.getForm}))}});e.exports=y},function(e,t,n){"use strict";var i=n(1),r=n(29),o=r,s=o.Str,a=o.struct,l=o.subtype,c=n(58),u=n(13),d=u.API_URL,p=a({title:l(s,function(e){return e.length<=255}),shortName:l(s,function(e){return e.length<=8})}),h=i.createClass({displayName:"Categories",getDefaultProps:function(){return{title:"Organization",url:d+"/api/agency",Schema:p,getDisplayName:function(e){return e.title},form:{fields:{title:{help:"Max. 255 characters"},shortName:{label:"Acronym or Abbreviation",help:"Max. 8 characters"}}},grid:{columns:[{field:"title",caption:"Title",size:"50%"},{field:"shortName",caption:"Acronym",size:"50%"}]}}},render:function(){return this.transferPropsTo(i.createElement(c,null))}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(29),o=r,s=o.Str,a=o.struct,l=o.subtype,c=o.enums,u=o.list,d=n(58),p=n(13),h=p.API_URL,f=i.createClass({displayName:"Stewards",mixins:[n(19)],getDefaultProps:function(){return{title:"Steward",url:h+"/api/profile?role=ORG_STEWARD",getDisplayName:function(e){return e.displayName},form:{fields:{username:{disabled:!0},displayName:{disabled:!0},stewardedOrganizations:{disableOrder:!0}}},grid:{columns:[{field:"displayName",caption:"Display Name",size:"34%"},{field:"username",caption:"Username",size:"33%"},{field:"stewardedOrganizations",caption:"Steward Organizations",size:"33%"}],show:{toolbar:!0,toolbarAdd:!1,toolbarEdit:!0,toolbarDelete:!1,toolbarSearch:!1,toolbarReload:!1,toolbarColumns:!1}}}},getSchema:function(){var e=this.state.system.organizations.map(function(e){return e.title});return a({displayName:l(s,function(e){return e.length<=255}),stewardedOrganizations:u(c.of(e))})},render:function(){return this.transferPropsTo(i.createElement(d,{Schema:this.getSchema()}))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r,s=o.RouteHandler,a=n(138),l=n(91),c=n(93),u=n(66),d=n(67),p=i.createClass({displayName:"MallManagement",mixins:[a,l.Admin],statics:{willTransitionFrom:function(){c.loadSystem()}},getDefaultProps:function(){return{tabs:[{to:"categories",name:"Categories"},{to:"contact-types",name:"Contact Types"},{to:"intents",name:"Intents"},{to:"organizations",name:"Organizations"},{to:"stewards",name:"Stewards"},{to:"notifications",name:"Notifications"}]}},render:function(){return i.createElement("div",{className:"MallManagement"},i.createElement(u,null),i.createElement(d,null),i.createElement("div",{className:"MallManagement__body"},i.createElement("h1",null,"Marketplace Settings"),i.createElement("div",{className:"MallManagement__TabContainer"},this.renderTabs(this.props.tabs),i.createElement("div",{className:"tab-content"},i.createElement(s,null)))))}});e.exports=p,e.exports.Categories=n(324),e.exports.ContactTypes=n(325),e.exports.Organizations=n(327),e.exports.Intents=n(326),e.exports.Stewards=n(328),e.exports.Notifications=n(333)},function(e,t,n){"use strict";var i=n(1),r=n(96),o=n(97),s=n(57),a=i.createClass({displayName:"ActiveNotification",mixins:[i.addons.PureRenderMixin],statics:{fromArray:function(e){return e?e.map(function(e){return i.createElement(a,{key:e.id,notification:e})}):void 0}},onStopClick:function(){s.expireNotification(this.props.notification)},render:function(){var e=this.props.notification,t=e.expiresDate,n=e.message;return i.createElement("div",{className:"ActiveNotification"},i.createElement("div",{className:"ActiveNotification__Header"},i.createElement("h5",{style:{margin:0,fontWeight:400}},"OZONE"),i.createElement("em",null,"Expires: ",i.createElement(r,{date:t})," at ",i.createElement(o,{date:t})),i.createElement("button",{className:"btn btn-link",onClick:this.onStopClick},i.createElement("i",{className:"fa fa-ban"}))),i.createElement("p",null,n))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(382),s=n(2),a=n(354),l=n(5),c=n(94),u=n(57),d=i.createClass({displayName:"CreateNotification",mixins:[i.addons.LinkedStateMixin,r.listenTo(u.createNotificationCompleted,"onNotificationCreated")],getDefaultProps:function(){return{minDate:s(),hours:l.range(0,24).map(function(e){return 10>e?"0"+e:e}),minutes:["00","15","30","45","59"]}},getInitialState:function(){return{uuid:c(),date:null,message:"",hour:"00",minute:"00"}},onReset:function(e){e&&e.preventDefault(),this.setState({uuid:c(),date:null,message:"",hour:"00",minute:"00"})},onExpiresDateChange:function(e){this.setState({date:e})},onMessageChange:function(e){var t=e.target,n=t.value;this.setState({message:n.substring(0,150)})},onSend:function(e){e.preventDefault();var t=this.state,n=t.message,i=t.date,r=t.hour,o=t.minute,s=new Date(Date.UTC(i.year(),i.month(),i.date(),parseInt(r,10),parseInt(o,10)));u.createNotification(this.state.uuid,{expiresDate:s,message:n})},onNotificationCreated:function(e){this.state.uuid===e&&this.onReset()},render:function(){return i.createElement("div",{className:"CreateNotification"},i.createElement("h4",{style:{marginTop:0}},"Send a Notification"),i.createElement("form",null,i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"notification-expires-time"},"Expires On"),i.createElement(o,{placeholderText:"MM/DD/YYYY",selected:this.state.date,minDate:this.props.minDate,dateFormat:"MM/DD/YYYY",onChange:this.onExpiresDateChange}))),i.createElement("div",{className:"col-md-6"},i.createElement("div",{className:"form-group"},i.createElement("label",null,"Expires At (Zulu Time)"),i.createElement("div",null,i.createElement(a,{ref:"hour",name:"hour",options:this.props.hours,valueLink:this.linkState("hour")}),i.createElement(a,{ref:"minute",name:"minute",options:this.props.minutes,valueLink:this.linkState("minute")}))))),i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"notification-message"},"Notification text"),i.createElement("textarea",{ref:"message",rows:"5",className:"form-control",placeholder:"Enter the text for the notification",name:"notification-message",value:this.state.message,onChange:this.onMessageChange})),i.createElement("div",{className:"pull-right"},i.createElement("button",{className:"btn btn-default btn-small",onClick:this.onReset},"Reset"),i.createElement("button",{ref:"send",className:"btn btn-success btn-small",disabled:!this.state.message||!this.state.date,onClick:this.onSend},"Send"))))}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(96),o=n(97),s=i.createClass({displayName:"PastNotification",statics:{fromArray:function(e){return e?e.map(function(e){return i.createElement(s,{key:e.id,notification:e})}):void 0}},render:function(){var e=this.props.notification,t=e.expiresDate,n=e.message;return i.createElement("div",{className:"PastNotification"},i.createElement("div",{className:"PastNotification__Header"},i.createElement("h5",{style:{margin:0,fontWeight:400}},"OZONE"),i.createElement("em",null,"Expired: ",i.createElement(r,{date:t})," at ",i.createElement(o,{date:t}))),i.createElement("p",null,n))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(331),s=n(330),a=n(332),l=n(68),c=n(359),u=n(362),d=n(57),p=i.createClass({displayName:"ActiveNotifications",mixins:[r.listenTo(c,"onStoreChanged")],getState:function(){var e=c.getNotifications();return{notifications:e.data,hasMore:e.hasMore}},getInitialState:function(){return this.getState()},onStoreChanged:function(){this.setState(this.getState())},componentDidMount:function(){var e=this.state,t=e.hasMore;t&&d.fetchActive()},render:function(){var e=s.fromArray(this.state.notifications);return e&&0!==e.length||(e=i.createElement("span",null,"No results found!")),i.createElement("div",null,i.createElement("h4",{style:{marginTop:0}},"Active Notifications"),e)}}),h=i.createClass({displayName:"PastNotifications",mixins:[r.listenTo(u,"onStoreChanged")],getState:function(){var e=this.notifications();return{notifications:e.data,hasMore:e.hasMore}},getInitialState:function(){return this.getState()},onStoreChanged:function(){this.setState(this.getState())},notifications:function(){return u.getNotifications()},fetchMore:function(){var e=this.state,t=e.hasMore;t&&d.fetchPast(this.notifications())},componentDidMount:function(){this.state.notifications&&0!==this.state.notifications.length||this.fetchMore()},render:function(){return i.createElement("div",null,i.createElement("h4",{style:{marginTop:0}},"Past Notifications"),i.createElement(l,{hasMore:this.state.hasMore,onLoadMore:this.fetchMore},a.fromArray(this.state.notifications)))}}),f=i.createClass({displayName:"Notifications",render:function(){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4"},i.createElement(o,null)),i.createElement("div",{className:"col-md-4"},i.createElement(p,null)),i.createElement("div",{className:"col-md-4"},i.createElement(h,null)))}});e.exports=f,e.exports.ActiveNotifications=p,e.exports.PastNotifications=h},function(e,t,n){"use strict";var i=n(1),r=n(60),o=i.createClass({displayName:"OrgFilter",handleChange:function(e){var t=e.target,n=t.value;"all"===n&&(n=null),this.props.onFilterChanged("org",n)},render:function(){var e=this.props.counts,t=this.props.value.org||"all",n=this.props.organizations.map(function(n){var r=e&&e.organizations?e.organizations[n.id]:0;return i.createElement("div",{key:n.id},i.createElement("input",{id:"all-listings-filter-organization-"+n.shortName.toLowerCase(),type:"radio",value:n.title}),i.createElement("label",{htmlFor:"all-listings-filter-organization-"+n.shortName.toLowerCase(),className:"label-organization"},n.shortName,(t===n.title||"all"===t)&&i.createElement("strong",{className:"badge"},r||0)))
});return i.createElement("div",null,i.createElement("h4",{style:{marginTop:30}},"Organization"),i.createElement(r,{name:"organization",value:t,onChange:this.handleChange},i.createElement("input",{id:"all-listings-filter-organization-all",type:"radio",value:"all"}),i.createElement("label",{htmlFor:"all-listings-filter-organization-all",className:"label-all"},"All","all"===t&&i.createElement("strong",{className:"badge"},e.total)),n))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(70),o=n(38),s=n(8),a=s.Navigation,l=s.Link;e.exports=i.createClass({displayName:"exports",propTypes:{listing:i.PropTypes.string.isRequired},mixins:[a],getInitialState:function(){var e=r.getById(this.props.listing),t=e?e.currentRejection:null;return t?{title:e.title,steward:t.author.username,feedback:t.description}:{title:"",steward:"",feedback:""}},render:function(){return i.createElement(o,{ref:"modal",className:"FeedbackModal",size:"small"},i.createElement("button",{className:"close corner",onClick:this.close},""),i.createElement("h3",null,"Steward Feedback"),i.createElement("dl",null,i.createElement("dt",null,"Listing"),i.createElement("dd",null,this.state.title),i.createElement("dt",null,"Steward"),i.createElement("dd",null,this.state.steward),i.createElement("dt",null,"Feedback"),i.createElement("dd",{className:"feedback"},this.state.feedback)),i.createElement(l,{className:"btn btn-primary edit",to:"edit",params:{listingId:this.props.listing}},"Edit this listing"))},close:function(){this.goBack()},componentWillUnmount:function(){this.refs.modal.close()}})},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(4),s=n(89),a=n(88),l=n(60),c=n(70),u=n(23),d=n(12),p=n(5),h=i.createClass({displayName:"MyListingsStatusFilter",propTypes:{listings:i.PropTypes.array.isRequired,value:i.PropTypes.object.isRequired,onFilterChanged:i.PropTypes.func.isRequired},handleChange:function(e,t){var n=t.target,i=n.value;"all"===i&&(i=null),this.props.onFilterChanged(e,i)},render:function(){var e=this.props.listings.reduce(function(e,t){return e[t.approvalStatus]++,e},{APPROVED:0,APPROVED_ORG:0,REJECTED:0,PENDING:0,IN_PROGRESS:0});return i.createElement("div",null,i.createElement("h4",null,"State"),i.createElement(l,{name:"approval-status",value:this.props.value.approvalStatus||"all",onChange:p.partial(this.handleChange,"approvalStatus")},i.createElement("input",{id:"my-listings-filter-all",type:"radio",value:"all"}),i.createElement("label",{htmlFor:"my-listings-filter-all",className:"label-all"},"All",i.createElement("strong",{className:"badge"},this.props.listings.length)),i.createElement("input",{id:"my-listings-filter-published",type:"radio",value:"APPROVED"}),i.createElement("label",{htmlFor:"my-listings-filter-published",className:"label-published"},"Published",i.createElement("strong",{className:"badge"},e.APPROVED||0)),i.createElement("input",{id:"my-listings-filter-needs-action",type:"radio",value:"REJECTED"}),i.createElement("label",{htmlFor:"my-listings-filter-needs-action",className:"label-needs-action"},"Needs action",i.createElement("strong",{className:"badge"},e.REJECTED||0)),i.createElement("input",{id:"my-listings-filter-pending",type:"radio",value:"PENDING"}),i.createElement("label",{htmlFor:"my-listings-filter-pending",className:"label-pending"},"Pending",i.createElement("strong",{className:"badge"},(e.PENDING||0)+(e.APPROVED_ORG||0))),i.createElement("input",{id:"my-listings-filter-draft",type:"radio",value:"IN_PROGRESS"}),i.createElement("label",{htmlFor:"my-listings-filter-draft",className:"label-draft"},"Draft",i.createElement("strong",{className:"badge"},e.IN_PROGRESS||0))))}}),f=i.createClass({displayName:"MyListings",mixins:[r.State,o.listenTo(d.fetchOwnedListingsCompleted,"onStoreChanged")],getListings:function(){var e=u.getDefaultData().currentUser;return c.getByOwner(e)},getInitialState:function(){var e=this.getQuery().approvalStatus||"all";return{listings:this.getListings(),filter:e}},onStoreChanged:function(){this.setState({listings:this.getListings()})},onFilterChanged:function(e,t){null===t&&(t="all"),this.setState({filter:t})},componentWillMount:function(){d.fetchOwnedListings()},render:function(){var e=this.state.filter||"",t=this.state.listings||[],n={value:{approvalStatus:e},listings:t,onFilterChanged:this.onFilterChanged};return this.transferPropsTo(i.createElement("div",{className:"MyListings row"},i.createElement("aside",{className:"Listings__Sidebar col-md-2"},i.createElement(s,null,i.createElement(h,i.__spread({},n)))),i.createElement("ul",{className:"MyListings__listings col-md-10 "+e},a.fromArray(t))))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r.Navigation,s=n(338),a=n(12),l=n(133),c=n(68),u=n(140),d=n(18),p=n(19),h=i.createClass({displayName:"RecentActivity",mixins:[o,d,p],getInitialState:function(){return{changeLogs:[]}},componentDidMount:function(){this.fetchAllChangeLogsIfEmpty(),this.listenTo(u,this.onChangeLogsReceived)},onLoadMore:function(){a.fetchAllChangeLogs(this.state.currentUser)},onChangeLogsReceived:function(){var e=this.getPaginatedList();if(e){var t=e,n=t.data,i=t.hasMore;this.setState({changeLogs:n,hasMore:i})}},createLink:function(e){var t=e.action,n=["MODIFIED","ADD_RELATED_TO_ITEM","REMOVE_RELATED_TO_ITEM","REJECTED","TAG_CREATED","TAG_DELETED"];if(!(n.indexOf(t)>-1)){var r={APPROVED:"View",SUBMITTED:"View Submission",ENABLED:"View",DISABLED:"View",CREATED:"View Draft",APPROVED_ORG:"Review Listing",REVIEW_EDITED:"View",REVIEW_DELETED:"View"},o=this.makeHref(this.getActiveRoutePath(),this.getParams(),{listing:e.listing.id,action:"view",tab:"overview"});return this.state.currentUser.isAdmin()||(r.APPROVED_ORG="View"),"ORG_STEWARD"===this.state.currentUser.highestRole&&(r.SUBMITTED="Review Listing"),i.createElement("a",{href:o},r[t]," ",i.createElement("i",{className:"fa fa-angle-right"}))}},getPaginatedList:function(){return u.getChangeLogs()},fetchAllChangeLogsIfEmpty:function(){var e=this.getPaginatedList();e||a.fetchAllChangeLogs(this.state.currentUser),this.onChangeLogsReceived()},renderChangeLogs:function(){var e=this;return this.state.changeLogs.map(function(t){return[i.createElement(l,{showListingName:!0,changeLog:t},t.listing.iconUrl?i.createElement("img",{className:"recent-activity-icon",src:t.listing.iconUrl}):i.createElement("div",null),e.createLink(t)),i.createElement("br",null)]})},render:function(){return i.createElement("div",{className:"RecentActivity"},i.createElement("div",{className:"RecentActivity__Sidebar col-md-3"},i.createElement(s,null)),i.createElement("h3",null,"Recent Activity"),i.createElement(c,{className:"RecentActivity__activities col-md-9 all",hasMore:this.state.hasMore,onLoadMore:this.onLoadMore},this.renderChangeLogs()))}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(8),o=r.Link,s=r.Navigation,a=n(60),l=n(19),c=n(5),u=i.createClass({displayName:"MyListingsSidebarFilter",render:function(){return i.createElement(a,{name:"recent-activity-my-listings",onChange:this.props.handleChange},i.createElement(o,{id:"recent-activity-returned",to:"my-listings",query:{approvalStatus:"REJECTED"}},i.createElement("label",{htmlFor:"recent-activity-returned",className:"label-needs-action"},"Returned to Owner",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-returned",to:"my-listings",query:{approvalStatus:"PENDING"}},i.createElement("label",{htmlFor:"recent-activity-pending",className:"label-pending"},"Pending Review",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-returned",to:"my-listings",query:{approvalStatus:"APPROVED"}},i.createElement("label",{htmlFor:"recent-activity-published",className:"label-published"},"Published",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))))}}),d=i.createClass({displayName:"AllListingsSidebarFilter",render:function(){return i.createElement(a,{name:"recent-activity-all-listings",onChange:this.props.handleChange},i.createElement(o,{id:"recent-activity-returned",to:"all-listings",query:{approvalStatus:"APPROVED_ORG"}},i.createElement("label",{htmlFor:"recent-activity-all-returned",className:"label-needs-action"},"Pending Review",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-returned",to:"all-listings",query:{approvalStatus:"PENDING"}},i.createElement("label",{htmlFor:"recent-activity-all-pending",className:"label-pending"},"Pending Organization Review",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-returned",to:"all-listings",query:{approvalStatus:"APPROVED"}},i.createElement("label",{htmlFor:"recent-activity-all-published",className:"label-published"},"Published",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-returned",to:"all-listings",query:{approvalStatus:"REJECTED"}},i.createElement("label",{htmlFor:"recent-activity-all-returned",className:"label-rejected"},"Returned to Owner",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))))}}),p=i.createClass({displayName:"OrgListingsSidebarFilter",render:function(){return i.createElement(a,{name:"recent-activity-org-listings",onChange:this.props.handleChange},i.createElement(o,{id:"recent-activity-pending",to:"org-listings",query:{approvalStatus:"PENDING"},params:{org:this.props.org.title}},i.createElement("label",{htmlFor:"recent-activity-org-pending",className:"label-needs-action"},"Pending ",this.props.org.shortName," Review",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-pending",to:"org-listings",query:{approvalStatus:"APPROVED_ORG"},params:{org:this.props.org.title}},i.createElement("label",{htmlFor:"recent-activity-org-pending",className:"label-pending"},"Organization Approved",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-published",to:"org-listings",query:{approvalStatus:"APPROVED"},params:{org:this.props.org.title}},i.createElement("label",{htmlFor:"recent-activity-org-published",className:"label-published"},"Published",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))),i.createElement(o,{id:"recent-activity-returned",to:"org-listings",query:{approvalStatus:"REJECTED"},params:{org:this.props.org.title}},i.createElement("label",{htmlFor:"recent-activity-org-returned",className:"label-rejected"},"Returned to Owner",i.createElement("i",{className:"fa fa-angle-right fa-2x"}))))}}),h=i.createClass({displayName:"RecentActivitySidebar",mixins:[s,l],renderFilters:function(){var e=this,t=this.state,n=t.currentUser,r=t.system,o=[];return n.isAdmin()&&o.push(i.createElement("div",{className:"filter-group"},i.createElement("h4",null,"Marketplace Overview"),i.createElement(d,{handleChange:this.handleChange}))),n.stewardedOrganizations.length>0&&r.organizations.length>0&&c.forEach(n.stewardedOrganizations,function(t){var n=c.find(r.organizations,function(e){return e.title===t});o.push(i.createElement("div",{className:"filter-group"},i.createElement("h4",null,n.shortName," Review "),i.createElement(p,{handleChange:e.handleChange,org:n})))}),o.push(i.createElement("div",{className:"filter-group"},i.createElement("h4",null,"My Listings Overview"),i.createElement(u,{handleChange:this.handleChange}))),o},render:function(){return i.createElement("form",{className:"RecentActivity__SidebarFilter"},this.renderFilters())}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(138),o=n(8),s=o.RouteHandler,a=n(19),l=n(5),c=n(66),u=n(67),d=i.createClass({displayName:"ListingManagement",mixins:[r,a],getDefaultProps:function(){return{tabs:[{to:"recent-activity",name:"Recent Activity"},{to:"all-listings",name:"All Marketplace Listings"},{to:"my-listings",name:"My Listings"}]}},getActiveTab:function(e){var t=this;return l.find(e,function(e){return t.isActive(e.to,e.params)})},render:function(){var e=this.state,t=e.currentUser,n=e.system,r=l.cloneDeep(this.props.tabs);return t.isAdmin()||r.splice(1,1),t.stewardedOrganizations.length>0&&n.organizations.length>0&&l.forEach(t.stewardedOrganizations,function(e){var t=l.find(n.organizations,function(t){return t.title===e});r.splice(2,0,{to:"org-listings",name:t.shortName+" Listings",params:{org:t.title}})}),i.createElement("div",{className:"ListingManagement"},i.createElement(c,null),i.createElement(u,null),i.createElement("div",{className:"ListingManagement__body"},i.createElement("h1",null,"Listing Management"),i.createElement("div",{className:"ListingManagement__TabContainer"},this.renderTabs(r),i.createElement("div",{className:"tab-content"},i.createElement(s,{org:this.getActiveTab(r)})))))}});e.exports=d,e.exports.MyListings=n(336),e.exports.RecentActivity=n(337)},function(e,t,n){"use strict";var i=n(1),r=n(85),o=n(8),s=o.Navigation,a=o.History,l=n(18),c=n(374),u=i.createClass({displayName:"ListingLink",render:function(){var e={listing:this.props.listingId,action:"view",tab:"overview"};return i.createElement(r,{queryParams:e},this.props.children)}}),d=i.createClass({displayName:"CenterProfileWindow",mixins:[l,s],getInitialState:function(){return{backRoute:a.length>1?this.goBack:this.getActiveRoutePath()}},render:function(){return i.createElement(c,{profileId:this.props.profileId,listingLinkEl:u,backRoute:this.state.backRoute})}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(5),o=n(342),s=n(12),a=s.fetchChangeLogs,l=s.reject,c=s.enable,u=s.disable,d=s.approveByOrg,p=s.approve,h=n(14).approvalStatus,f=n(14),m=f.UserRole,g=n(29),v=g.form,b=g.Str,y=g.subtype,w=g.struct,_=i.createClass({displayName:"Toggle",propTypes:{listing:i.PropTypes.object},render:function(){var e=this.props.title;return i.createElement("section",{className:this.props.className},i.createElement("h5",null,e),i.createElement("hr",null),i.createElement("p",null,this.props.description),i.createElement("label",{className:"switch"},this.props.label||e,":",i.createElement("input",{type:"checkbox",ref:"checkbox",className:"ios brand-success",checked:this.props.checked,onChange:this.props.onChange}),i.createElement("div",{className:"track"},i.createElement("div",{className:"knob"}))))}}),x=i.createClass({displayName:"EnabledControl",shouldComponentUpdate:function(e){return e.listing.isEnabled!==this.props.isEnabled},render:function(){var e=this.props.listing,t=e.isEnabled,n=t?"Enabled":"Disabled",r="This listing is "+(t?"":"not")+" visible to users",o=t?u.bind(null,e):c.bind(null,e);return i.createElement(_,{title:n,label:"Enabled",className:"enabled-toggle",description:r,checked:t,onChange:o})}}),k=i.createClass({displayName:"FeaturedControl",onChange:function(e){s.setFeatured(e.target.checked,this.props.listing)},shouldComponentUpdate:function(e){return e.listing.isFeatured!==this.props.isFeatured},render:function(){var e=this.props.listing,t=e.isFeatured,n="Featured",r="This listing is "+(t?"":"not")+" featured on the Discovery Page";return i.createElement(_,{title:n,label:"Featured",className:"featured-toggle",description:r,checked:t,onChange:this.onChange})}}),T=i.createClass({displayName:"AdministrationTab",propTypes:{listing:i.PropTypes.object.isRequired},getInitialState:function(){return{editingRejection:!1}},componentWillReceiveProps:function(e){this.props.listing.id!==e.listing.id&&a(e.listing.id)},componentWillMount:function(){this.props.listing.id&&a(this.props.listing.id)},render:function(){return i.createElement("div",{className:"tab-pane active Quickview__ChangeLog row"},this.renderStatus(),i.createElement("div",{className:"col-md-8 col-right"},i.createElement("section",null,i.createElement("h5",null,"Listing Changes"),i.createElement("hr",null),i.createElement(o,{showListingName:!1,org:this.props.listing.agency}))))},renderStatus:function(){var e,t,n=this.props.listing,o=h[n.approvalStatus],s=o,a=m[this.props.currentUser.highestRole]>=m.ADMIN,l=r.contains(this.props.currentUser.stewardedOrganizations,n.agency);switch(o){case"Published":var c=i.createElement(x,{key:"enabled",listing:this.props.listing});e=a?[c,i.createElement(k,{key:"featured",listing:this.props.listing})]:[c],t="label-published";break;case"Pending, Organization":l||a?(e=this.renderReviewSection(),t="label-needs-action"):(e=[],t="label-pending");break;case"Pending, Marketplace":a?(e=this.renderReviewSection(),t="label-needs-action"):(e=[],t="label-pending");break;case"Returned to Owner":t="label-needs-action",e=[];break;case"Draft":t="label-draft",e=[]}return i.createElement("div",{className:"col-md-4 col-left ListingAdmin__Controls"},i.createElement("section",null,i.createElement("h5",null,"Listing Status"),i.createElement("hr",null),i.createElement("p",{className:t},s)),e)},renderReviewSection:function(){var e=this.state.editingRejection,t=v.createForm(w({description:y(b,function(e){return e.length>=1&&e.length<=2e3})}),{fields:{description:{type:"textarea",message:"A justification is required. It can be up to 2000 characters in length."}}});return e?i.createElement("section",{className:"return-feedback"},i.createElement("h5",null,"Return to Owner Feedback"),i.createElement("hr",null),i.createElement("p",null,"Please provide feedback for the listing owner about what they should do to make this listing ready for publication"),i.createElement("form",null,i.createElement(t,{ref:"justification"}),i.createElement("button",{type:"button",className:"btn",onClick:this.cancelRejection},"Cancel"),i.createElement("button",{type:"button",className:"btn btn-warning",onClick:this.returnToOwner},"Return to Owner"))):i.createElement("section",{className:"review-listing"},i.createElement("h5",null,"Review Listing"),i.createElement("hr",null),i.createElement("button",{type:"button",className:"btn btn-success",onClick:this.approve},"Approve"),i.createElement("button",{type:"button",className:"btn btn-warning",onClick:this.editRejection},"Return to Owner"))},editRejection:function(e){e.preventDefault(),this.setState({editingRejection:!0})},returnToOwner:function(e){e.preventDefault();var t=this.refs.justification.getValue();t&&(l(this.props.listing.id,t.description),this.setState({editingRejection:!1}))},cancelRejection:function(e){e.preventDefault(),this.setState({editingRejection:!1})},approve:function(e){e.preventDefault(),"Pending, Organization"===h[this.props.listing.approvalStatus]?d(this.props.listing):p(this.props.listing)}});e.exports=T},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(69),s=n(133),a=i.createClass({displayName:"ChangeLogs",propTypes:{changeLogs:i.PropTypes.array,showListingName:i.PropTypes.bool},mixins:[r.listenTo(o,"changeLogsReceived")],getInitialState:function(){return{changeLogs:[]}},getDefaultProps:function(){return{showListingName:!0}},changeLogsReceived:function(){var e=o.getChangeLogs();this.setState({changeLogs:e})},render:function(){return i.createElement("ul",{className:"list-unstyled RecentActivity"},this.renderChangeLogs())},renderChangeLogs:function(){var e=this;return this.state.changeLogs.map(function(t){return[i.createElement(s,{showListingName:e.props.showListingName,changeLog:t}),i.createElement("br",null)]})}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(135),o=n(90),s=i.createClass({displayName:"DetailsTab",propTypes:{listing:i.PropTypes.object},render:function(){var e=this.props.listing.whatIsNew,t=this.props.listing.agency,n=this.props.listing.type,o=this.props.listing.launchUrl,s=this.props.listing.editedDate,a=this.props.listing.versionName,l=this.props.listing.categories.join(", "),c=this.props.listing.tags.join(", "),u=this.props.listing.requirements;return i.createElement("div",{className:"tab-pane active quickview-details row"},i.createElement("div",{className:"col-md-4 col-left"},i.createElement("section",null,i.createElement("h5",null,"Whats New"),i.createElement("hr",null),e?i.createElement("p",null,e):i.createElement(r,null)),i.createElement("section",null,i.createElement("h5",null,"Usage Requirements"),i.createElement("hr",null),i.createElement("p",null,u))),i.createElement("div",{className:"col-md-4"},i.createElement("section",null,i.createElement("h5",null,"Marketplace Properties"),i.createElement("hr",null),i.createElement("p",null,i.createElement("label",null,"Type:"),i.createElement("span",null," ",n),i.createElement("br",null),i.createElement("label",null,"URL:"),i.createElement("span",null," ",o),i.createElement("br",null),i.createElement("label",null,"Categories:"),i.createElement("span",null," ",l?l:i.createElement(r,{inline:!0})),i.createElement("br",null),i.createElement("label",null,"Tags:"),i.createElement("span",null," ",c?c:i.createElement(r,{inline:!0})),i.createElement("br",null),i.createElement("label",null,"Last Updated:"),i.createElement("span",null," ",s),i.createElement("br",null),i.createElement("label",null,"Version Number:"),i.createElement("span",null," ",a," "))),this.renderIntents()),i.createElement("div",{className:"col-md-4 col-right"},i.createElement("section",null,i.createElement("h5",null,"Ownership Information"),i.createElement("hr",null),i.createElement("label",null,"Owner(s):"),this.renderOwners(),i.createElement("br",null),i.createElement("label",null,"Associated Organization"),i.createElement("p",{className:"col-md-offset-1"},t),this.renderGovSponser())))},renderOwners:function(){var e=this.props.listing.owners;return e.map(function(e){return i.createElement("span",{className:"listing-owner"},i.createElement("span",null," "),i.createElement(o,{profileId:e.id},e.displayName))})},renderIntents:function(){var e=this.props.listing.intents,t=this.props.listing.singleton?"Yes":"No",n=this.props.listing.intents.map(function(e){var t=e.split("/");return i.createElement("p",null,i.createElement("label",null,t[2],": "),i.createElement("span",null," ",t[0]+"/"+t[1]))});return i.createElement("section",null,i.createElement("h5",null,"Ozone Properties"),i.createElement("hr",null),i.createElement("label",null,"Singleton:"),i.createElement("span",null," ",t),i.createElement("br",null),i.createElement("label",null,"Intents:"),i.createElement("div",{className:"col-md-offset-1"},e.length?n:i.createElement(r,null)))},renderGovSponser:function(){return this.props.listing.contacts.map(function(e){return e.type.indexOf("Government Sponser")>=0?[i.createElement("label",null,"Government Sponser "),i.createElement("div",{className:"col-md-offset-1"},i.createElement("p",null,i.createElement("label",null,"Name:"),i.createElement("span",null," ",e.name)),i.createElement("p",null,i.createElement("label",null,"Email:"),i.createElement("span",null," ",e.email)),i.createElement("p",null,i.createElement("label",null,"Unsecure Phone:"),i.createElement("span",null," ",e.unsecurePhone)),i.createElement("p",null,i.createElement("label",null,"Secure Phone:"),i.createElement("span",null," ",e.securePhone)))]:void 0})}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(44),o=n(127),s=n(128),a=i.createClass({displayName:"QuickviewHeader",propTypes:{listing:i.PropTypes.object,onCancel:i.PropTypes.func.isRequired},render:function(){var e=this.props.listing,t=e.title,n=e.avgRate,o=e.imageMediumUrl,s=e.agencyShort;return i.createElement("div",{className:"quickview-header"},i.createElement("div",{className:"quickview-header-info"},i.createElement("button",{type:"button",className:"close","aria-hidden":"true",onClick:this.props.onCancel},""),i.createElement("img",{className:"listing-icon",src:o,"data-fallback":"/store/images/types/3"}),i.createElement("h3",{className:"listing-title",title:t},t,s&&i.createElement("span",{className:"company"},s)),i.createElement(r,{className:"icon-rating",viewOnly:!0,currentRating:n,toggledClassName:"fa fa-star",untoggledClassName:"fa fa-star-o",halfClassName:"fa fa-star-half-o"})),!this.props.preview&&this.renderActions())},renderActions:function(){return i.createElement("div",{className:"btn-group quickview-header-actions"},i.createElement(s,{listing:this.props.listing,className:"btn btn-default"}),i.createElement(o,{listing:this.props.listing}),this.props.allowEdit&&i.createElement("button",{type:"button",className:"btn btn-default",onClick:this.props.onEdit},i.createElement("i",{className:"fa fa-pencil"})))}});e.exports=a},function(e,t,n){(function(t){"use strict";n(6),n(297);var i=n(1),r=n(86),o=i.createClass({displayName:"OverviewTab",propTypes:{shown:i.PropTypes.bool,listing:i.PropTypes.object},getDefaultProps:function(){return{shown:!1}},render:function(){var e=this.props.listing.description||"No description provided!",t=i.addons.classSet({"text-muted":!this.props.listing.description});return i.createElement("div",{className:"tab-pane active row quickview-overview"},this.renderScreenshots(),i.createElement("div",{className:"col-md-4"},i.createElement("p",{className:t},e)))},renderScreenshots:function(){var e=this,t=this.props.shown,n=this.props.listing.screenshots;if(!n.length)return i.createElement("p",{className:"text-muted col-md-8"},"No screenshots provided!");var o=n.map(function(t,n){return i.createElement("img",{src:t.smallImageUrl,onClick:e.showLargeScreenshots.bind(e,n)})});return i.createElement(r,{autoInit:t,className:"col-md-8"},o)},showLargeScreenshots:function(e){var n=this.props.listing.screenshots.map(function(e){return{src:e.largeImageUrl||e.smallImageUrl}});t.magnificPopup.open({type:"image",gallery:{enabled:!0},items:n},e)}});e.exports=o}).call(t,n(6))},function(e,t,n){"use strict";var i=n(1),r=n(135),o=n(5),s=i.createClass({displayName:"ResourcesTab",propTypes:{listing:i.PropTypes.object},render:function(){return i.createElement("div",{className:"tab-pane active quickview-resources row"},i.createElement("div",{className:"col-md-6 col-left"},i.createElement("section",{className:"documentation"},i.createElement("h5",null,"Documentation"),i.createElement("hr",null),this.renderUserGuide(),this.renderApiDoc()),i.createElement("section",{className:"resources"},i.createElement("h5",null,"Other Resources"),i.createElement("hr",null),this.renderOtherResources())),i.createElement("div",{className:"col-md-6 col-right"},i.createElement("section",{className:"tpoc"},i.createElement("h5",null,"Technical Support Contact Information"),i.createElement("hr",null),this.renderTechSuppot())))},renderUserGuide:function(){var e=o.find(this.props.listing.docUrls,{name:"User Manual"});return e?i.createElement("p",null,i.createElement("a",{target:"_blank",href:e.url},e.name)):i.createElement(r,{text:"User guide unavailable"})},renderApiDoc:function(){var e=o.find(this.props.listing.docUrls,{name:"API Documentation"});return e?i.createElement("p",null,i.createElement("a",{target:"_blank",href:e.url},e.name)):i.createElement(r,{text:"API documentation unavailable"})},renderOtherResources:function(){var e=o.compact(this.props.listing.docUrls.map(function(e){return"User Manual"!==e.name&&"API Documentation"!==e.name?i.createElement("p",null,i.createElement("a",{target:"_blank",href:e.url},e.name)):void 0}));return e.length?e:i.createElement(r,{text:"None available"})},renderTechSuppot:function(){var e=this.props.listing.contacts.map(function(e){return e.type.indexOf("Technical Support")>-1?e:void 0});return o.compact(e),e.length?e.map(function(e,t){return i.createElement("div",null,i.createElement("p",null,i.createElement("label",null,"Technical Support Point of Contact ",t+1)),i.createElement("div",{className:"col-md-offset-1"},i.createElement("p",null,i.createElement("label",null,"Name:"),i.createElement("span",null," ",e.name)),i.createElement("p",null,i.createElement("label",null,"Email:"),i.createElement("span",null," ",e.email)),i.createElement("p",null,i.createElement("label",null,"Unsecure Phone:"),i.createElement("span",null," ",e.unsecurePhone)),i.createElement("p",null,i.createElement("label",null,"Secure Phone:"),i.createElement("span",null," ",e.securePhone))))}):i.createElement(r,{text:"None available"})}});e.exports=s},function(e,t,n){(function(t){"use strict";var i=n(1),r=n(4),o=n(8),s=o.Navigation,a=n(18),l=n(5),c=n(38),u=n(344),d=n(69),p=n(345),h=n(351),f=n(343),m=n(346),g=n(341),v={overview:p,reviews:h,details:f,resources:m,administration:g},b=i.createClass({displayName:"Quickview",mixins:[r.connect(d),s,a],getDefaultProps:function(){return{tabs:[{to:"overview",name:"Overview"},{to:"details",name:"Details"},{to:"resources",name:"Resources"}]}},getInitialState:function(){return{shown:!1}},render:function(){var e,t,n=this.props.currentUser,r=this.state,o=r.shown,s=r.listing,a=this.getActiveRouteHandler();s&&(t=l.cloneDeep(this.props.tabs),e=s.owners.map(function(e){return e.username}),this.props.preview||(t.splice(1,0,{to:"reviews",name:"Reviews"}),(n.isAdmin()||l.contains(e,n.username)||l.contains(n.stewardedOrganizations,s.agency))&&t.push({to:"administration",name:"Administration"})));var p={listing:s,onCancel:this.close,onEdit:this.edit,currentUser:n,preview:this.props.preview,allowEdit:d.currentUserCanEdit()};return this.transferPropsTo(i.createElement(c,{ref:"modal",className:"quickview",onShown:this.onShown,onHidden:this.onHidden},s?[i.createElement(u,i.__spread({},p)),i.createElement("div",{className:"tabs-container"},this.renderTabs(t,s.id),i.createElement("div",{className:"tab-content"},i.createElement(a,{currentUser:n,listing:s,shown:o})))]:i.createElement("p",null,"Loading...")))},getActiveRouteHandler:function(){var e=v[this.props.tab];if(!e)throw new Error("Unknown tab.");return e},renderTabs:function(e,t){var n=this,r=e.map(function(e){var r=e.to===n.props.tab?"active":"",o=n.makeHref(n.getActiveRoutePath(),n.getParams(),{listing:t,action:n.props.preview?"preview":"view",tab:e.to});return i.createElement("li",{className:r,key:e.to},i.createElement("a",{href:o},e.name))});return i.createElement("ul",{className:"nav nav-tabs",role:"tablist"},r)},componentWillMount:function(){this.props.preview||d.loadListing(this.props.listingId)},componentWillReceiveProps:function(e){this.props.preview||this.props.listingId===e.listingId||d.loadListing(e.listingId)},onShown:function(){t(document).off("focusin.bs.modal"),this.setState({shown:!0})},onHidden:function(){this.state.toEdit||this.transitionTo(this.getActiveRoutePath(),this.getParams())},close:function(){this.refs.modal.close()},edit:function(){var e=this.state.listing;this.setState({toEdit:!0}),this.close(),this.transitionTo("edit",{listingId:e.id})}});e.exports=b,e.exports.OverviewTab=p,e.exports.ReviewsTab=h,e.exports.DetailsTab=f,e.exports.ResourcesTab=m,e.exports.AdministrationTab=g}).call(t,n(6))},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(136),s=n(5),a=n(44),l=n(353),c=n(12),u=i.createClass({displayName:"EditReview",mixins:[r.listenTo(c.saveReviewCompleted,"onSaveReviewCompleted"),r.listenTo(c.deleteReview,"onDeleteReviewCompleted")],propTypes:{listing:i.PropTypes.object.isRequired,review:i.PropTypes.object.isRequired,onSave:i.PropTypes.func.isRequired,onCancel:i.PropTypes.func.isRequired,user:i.PropTypes.object.isRequired},getDefaultProps:function(){return{review:{id:null,rate:0,text:""}}},getInitialState:function(){return{review:s.pick(this.props.review,"id","rate","text","author")}},componentWillReceiveProps:function(e){e.review&&this.setState({review:s.pick(e.review,"id","rate","text","author")})},onRatingChange:function(e){this.state.review.rate=e,this.forceUpdate()},onTextChange:function(){this.state.review.text=this.refs.text.getDOMNode().value.substring(0,4e3),this.forceUpdate()},onSave:function(){c.saveReview(this.props.listing,this.state.review)},onSaveReviewCompleted:function(e,t){this.state.review.id===t.id&&this.props.onSave()},onDeleteConfirm:function(){c.deleteReview(this.props.listing,this.state.review)},onDeleteReviewCompleted:function(e,t){this.state.review.id===t&&this.refs.deletePopover.hidePopover()},isEditingRateAllowed:function(){return this.state.review.author.username===this.props.user.username},render:function(){var e=this.state.review,t=e.rate,n=e.text,r=this.isEditingRateAllowed();return i.createElement("div",{className:"EditReview"},i.createElement("h5",null,"Edit Review"),i.createElement(o,null),i.createElement("div",{className:"EditReview__Rating"},i.createElement("div",null,"Star Rating"),i.createElement(a,{currentRating:t,onChange:this.onRatingChange,viewOnly:!r}),!r&&i.createElement("i",{className:"fa fa-lock"})),i.createElement("div",null,i.createElement("div",null,"Description"),i.createElement("textarea",{ref:"text",value:n,onChange:this.onTextChange})),i.createElement(l,{ref:"deletePopover",title:"Delete Review",content:"Are you sure you want to delete this review?",confirmButtonClassName:"btn-danger",onConfirm:this.onDeleteConfirm}),i.createElement("div",{className:"pull-right"},i.createElement("button",{className:"btn btn-default btn-sm",onClick:this.props.onCancel},"Cancel"),i.createElement("button",{className:"btn btn-success btn-sm",onClick:this.onSave},"Submit")))
}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(136),o=n(5),s=n(44),a=n(12),l=i.createClass({displayName:"ReviewListing",propTypes:{listing:i.PropTypes.object.isRequired,text:i.PropTypes.string.isRequired,rate:i.PropTypes.number.isRequired},getDefaultProps:function(){return{rate:0,text:""}},getInitialState:function(){return o.clone(this.props,"rate","text")},onRatingChange:function(e){this.state.rate=e,this.forceUpdate()},onTextChange:function(e){this.state.text=e.target.value.substring(0,4e3),this.forceUpdate()},onSave:function(){a.saveReview(this.props.listing,this.state)},onReset:function(){this.state.rate=this.props.rate,this.state.text=this.props.text,this.forceUpdate()},render:function(){var e=this.state,t=e.rate,n=e.text;return i.createElement("div",{className:"SubmitReview"},i.createElement("h5",null,"Review this Listing"),i.createElement(r,null),i.createElement("div",{className:"SubmitReview__Rating"},i.createElement("div",null,"Star Rating"),i.createElement(s,{currentRating:t,onChange:this.onRatingChange})),i.createElement("div",null,i.createElement("div",null,"Description"),i.createElement("textarea",{ref:"text",value:n,onChange:this.onTextChange})),i.createElement("div",{className:"pull-right"},i.createElement("button",{className:"btn btn-default btn-small",onClick:this.onReset},"Reset"),i.createElement("button",{className:"btn btn-success btn-small",onClick:this.onSave},"Submit")))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(44),o=n(5),s=n(355),a=i.createClass({displayName:"UserReview",mixins:[i.addons.PureRenderMixin],propTypes:{listing:i.PropTypes.object.isRequired,review:i.PropTypes.object.isRequired,user:i.PropTypes.object.isRequired,onEdit:i.PropTypes.func.isRequired},isEditAllowed:function(){var e=this.props,t=e.review,n=e.user,i=e.listing;return n.isAdmin()||t.author.username===n.username||n.isOrgSteward(i.agency)},render:function(){var e=this.props,t=e.review,n=e.onEdit,a=t.editedDate||t.createdDate;return i.createElement("li",{className:"Review"},i.createElement(r,{currentRating:t.rate,viewOnly:!0}),i.createElement("span",{className:"Review__author"},t.author.displayName),i.createElement(s,{className:"Review__time",time:a}),this.isEditAllowed()&&i.createElement("i",{className:"fa fa-pencil pull-right",onClick:o.partial(n,t)}),i.createElement("p",{className:"Review__text"},t.text))}}),l=i.createClass({displayName:"UserReviews",propTypes:{listing:i.PropTypes.object.isRequired,user:i.PropTypes.object.isRequired,reviews:i.PropTypes.array,onEdit:i.PropTypes.func.isRequired},getDefaultProps:function(){return{reviews:[]}},render:function(){return this.props.reviews&&this.props.reviews.length>0?i.createElement("ul",{className:"list-unstyled list-reviews"},this.renderReviews()):i.createElement("div",null,i.createElement("h4",null,"There are no user reviews yet."),i.createElement("p",null,"Please add a review to share your thoughts and experiences with others."))},renderReviews:function(){var e=this.props,t=e.onEdit,n=e.user,r=e.listing;return this.props.reviews.map(function(e){return i.createElement(a,{key:e.id,user:n,listing:r,review:e,onEdit:t})})}});e.exports=l,e.exports.UserReview=a},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(5),s=n(44),a=n(350),l=n(349),c=n(348),u=n(69),d=n(19),p=n(12),h=n(23),f=i.createClass({displayName:"RatingProgressBar",mixins:[i.addons.PureRenderMixin],getDefaultProps:function(){return{count:0,value:0}},render:function(){var e=this.props,t=e.count,n=e.value,r={width:n+"%"};return i.createElement("div",{className:"star-rating"},i.createElement("span",null,t," stars"),i.createElement("div",{className:"progress"},i.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100",style:r})),i.createElement("span",{className:"count"},"(",t,")"))}}),m=i.createClass({displayName:"ReviewsTab",mixins:[r.listenTo(p.fetchReviewsCompleted,"onFetchItemCommentsCompleted"),d],propTypes:{listing:i.PropTypes.object.isRequired},getInitialState:function(){return this.getState()},getState:function(){var e=h.getDefaultData().currentUser,t=u.getReviews();if(!t)return{reviews:t,reviewBeingEdited:null,currentUserReview:null};var n={reviews:t,currentUserReview:o.find(t,{author:{username:e.username}})};return this.state&&this.state.reviewBeingEdited&&(n.reviewBeingEdited=o.find(t,{id:this.state.reviewBeingEdited.id})),n},componentWillReceiveProps:function(e){this.props.listing.id!==e.listing.id&&p.fetchReviews(e.listing)},componentWillMount:function(){this.props.listing.id&&!this.state.reviews&&p.fetchReviews(this.props.listing)},render:function(){var e=this.props,t=e.listing,n=this.state,r=n.reviews,o=n.currentUserReview,s=n.reviewBeingEdited,u=n.currentUser;return i.createElement("div",{className:"tab-pane active quickview-reviews row"},i.createElement("section",{className:"col-md-3 col-left"},this.renderReviewFilters()),i.createElement("section",{className:"col-md-5"},i.createElement(a,{listing:t,user:u,reviews:r,onEdit:this.onEdit})),i.createElement("section",{className:"col-md-4 col-right"},!o&&!s&&i.createElement(l,{listing:t}),s&&i.createElement(c,{user:u,listing:t,review:s,onCancel:this.onEditCancel,onSave:this.onEditCancel})))},onEdit:function(e){this.setState({reviewBeingEdited:e})},onEditCancel:function(){this.setState({reviewBeingEdited:null})},onFetchItemCommentsCompleted:function(){this.setState(this.getState())},renderReviewFilters:function(){var e=this.props.listing,t=e.totalVotes,n=[5,4,3,2,1].map(function(n){var r=e["totalRate"+n],o=0===t?0:Math.round(100*r/t).toFixed(2);return i.createElement(f,{count:r,value:o,key:n})});return i.createElement("div",null,i.createElement("h5",null,"Average Rating"),i.createElement(s,{currentRating:e.avgRate||0,viewOnly:!0}),i.createElement("p",null," From ",e.totalVotes||0," ratings "),i.createElement("div",{className:"review-filters"},n))}});e.exports=m},function(e,t,n){"use strict";e.exports=n(434)(React).Input},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(5),s=i.addons,a=s.classSet,l=i.createClass({displayName:"Confirmation",propTypes:{message:i.PropTypes.string.isRequired,onCancel:i.PropTypes.func.isRequired,confirmButtonClassName:i.PropTypes.string,onConfirm:i.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.message,n={"btn btn-sm":!0};return n[this.props.confirmButtonClassName]=!0,i.createElement("div",null,i.createElement("p",null,t),i.createElement("div",{className:"text-right"},i.createElement("button",{className:"btn btn-sm btn-default",onClick:this.props.onCancel},"Cancel"),i.createElement("button",{className:a(n),onClick:this.props.onConfirm},"Delete")))}}),c=i.createClass({displayName:"PopoverConfirmationButton",propTypes:{animation:i.PropTypes.bool,container:i.PropTypes.string,content:i.PropTypes.string,placement:i.PropTypes.oneOf(["top","right","bottom","left"]),title:i.PropTypes.string,trigger:i.PropTypes.string,viewport:i.PropTypes.string,onCancel:i.PropTypes.func,confirmButtonClassName:i.PropTypes.string,onConfirm:i.PropTypes.func.isRequired},getDefaultProps:function(){return{container:"body",content:"",placement:"bottom",trigger:"click",viewport:"body",onCancel:o.noop,confirmButtonClassName:"btn-default",onConfirm:o.noop}},onCancel:function(){this.hidePopover(),this.props.onCancel()},onConfirm:function(){this.props.onConfirm(this.hidePopover)},hidePopover:function(){r(this.getDOMNode()).popover("hide")},componentDidMount:function(){var e=this.props,t=e.content,n=e.confirmButtonClassName,o=this,s=o.onCancel,a=o.onConfirm;r(this.getDOMNode()).popover(this.props).on("shown.bs.popover",function(){i.render(i.createElement(l,{message:t,onCancel:s,confirmButtonClassName:n,onConfirm:a}),r(this).data()["bs.popover"].$tip.find(".popover-content")[0])}).on("hide.bs.popover",function(){i.unmountComponentAtNode(r(this).data()["bs.popover"].$tip.find(".popover-content")[0])})},componentWillUnmount:function(){r(this.getDOMNode()).off("shown.bs.popover hide.bs.popover").popover("destroy")},render:function(){return i.createElement("a",{tabIndex:"0",className:"btn btn-sm btn-default",role:"button",title:this.props.title},"Delete")}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(5),o=i.createClass({displayName:"Select",propTypes:{options:i.PropTypes.array.isRequired},_renderOptions:function(){return this.props.options.map(function(e){return i.createElement("option",{key:e,value:e},e)})},render:function(){var e=r.omit(this.props,"options");return i.createElement("select",i.__spread({},e),this._renderOptions())}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(142),o=i.createClass({displayName:"TimeAgo",mixins:[i.addons.PureRenderMixin],propTypes:{className:i.PropTypes.string,time:i.PropTypes.string.isRequired,autoUpdate:i.PropTypes.bool},getDefaultProps:function(){return{autoUpdate:!1}},getInitialState:function(){return{time:r(this.props.time)}},componentDidMount:function(){this.props.autoUpdate===!0&&this.setAutoUpdateInterval()},componentWillUnmount:function(){this.clearAutoUpdatInterval()},render:function(){var e=this.props.className||"";return i.createElement("em",{className:e+" TimeAgo"},r(this.props.time))},setAutoUpdateInterval:function(){this.interval=setInterval(function(){this.setState({time:r(this.props.time)})}.bind(this),1e3)},clearAutoUpdatInterval:function(){this.interval&&clearInterval(this.interval)}});e.exports=o},function(e,t,n){"use strict";function i(e,t,n){var i=s.cloneDeep(n);i[e]=t,p.save(i)}var r=n(59),o=r.ListingApi,s=n(5),a=n(14),l=a.PAGINATION_MAX,c=n(13),u=c.WEBTOP_URL,d=n(84),p=n(12),h=n(65),f=n(92),m=n(139),g=n(23),v=i.bind(null,"isEnabled");p.fetchAllListings.listen(function(e){var t,n=f.getListingsByFilter(e),i={};n?(n.expectPage(),t=n.nextLink):(s.forOwn(e||{},function(e,t){null!==e&&(i[t]=e)}),s.assign(i,{offset:0,max:l})),o.getAllListings(t,i).then(s.partial(p.fetchAllListingsCompleted,e))}),p.fetchAllChangeLogs.listen(function(e,t){var i,r=n(140),a=r.getChangeLogs(),c={};a?(a.expectPage(),i=a.nextLink):s.assign(c,{offset:0,max:l}),o.getAllChangeLogs(e,i,c).then(function(e){p.fetchAllChangeLogsCompleted(t,e)})}),p.fetchNewArrivals.listen(function(){o.getNewArrivals().then(p.fetchNewArrivalsCompleted)}),p.fetchMostPopular.listen(function(){o.getMostPopular().then(p.fetchMostPopularCompleted)}),p.fetchFeatured.listen(function(){o.getFeatured().then(p.fetchFeaturedCompleted)}),p.fetchById.listen(function(e){o.getById(e).then(p.fetchByIdCompleted)}),function(){function e(e){var t=e&&e.match(/"[^"]*"|\S+/g),n=t&&t.map(function(e){return/["\*]$/.test(e)?e:e+"*"});return n&&n.join(" ")}var t;p.search.listen(function(n){var i=e(n.queryString)||"",r=Object.assign({},n,{queryString:i});s.isEqual(r,t)||(t=r,o.search(r).then(function(e){s.isEqual(t,r)&&p.searchCompleted(e)}))})}(),p.fetchChangeLogs.listen(function(e){o.getChangeLogs(e).then(p.fetchChangeLogsCompleted.bind(null,e))}),p.fetchOwnedListings.listen(function(e){o.getOwnedListings(e).then(p.fetchOwnedListingsCompleted)}),p.fetchReviews.listen(function(e){o.fetchReviews(e.id).then(p.fetchReviewsCompleted.bind(null,e.id)),"undefined"!=typeof e.title&&d.trackListingReview(e.title)}),p.saveReview.listen(function(e,t){d.trackListingReview(e.title),o.saveReview(e.id,t).then(function(t){p.fetchById(e.id),p.fetchReviews(e),p.saveReviewCompleted(e,t)}).fail(p.saveReviewFailed)}),p.deleteReview.listen(function(e,t){o.deleteReview(e.id,t.id).then(function(){p.fetchById(e.id),p.fetchReviews(e),p.deleteReviewCompleted(e,t)}).fail(s.partial(p.deleteReviewFailed,e,t))}),function(){function e(e){var t=e.currentUser;return t?t.launchInWebtop:null}function t(e){var t=u+"#/launchApp/"+encodeURIComponent(e);window.open(t)}var n=e(g.getDefaultData()),i=m.getDefaultData(),r=[];g.listen(function(t){n=e(t)}),m.listen(function(e){i=e;var n=function(t){return s.find(e,{listing:{uuid:t}})},o=s.groupBy(r,function(e){return n(e)?"bookmarked":"stillPending"}),a=o.stillPending,l=o.bookmarked;r=a||[],l&&l.forEach(t)}),p.launch.listen(function(e){d.trackEvent("Applications",e.title),n?s.contains(i.map(function(e){return e.listing.id}),e.id)?t(e.uuid):(r=r.concat(e.uuid),h.addToLibrary(e)):window.open(e.launchUrl)})}(),p.save.listen(function(e){var t=!e.id;t&&d.trackListingCreation(e.title),o.save(e).then(p.saveCompleted.bind(null,t)).then(p.listingChangeCompleted).fail(p.saveFailed)}),p.reject.listen(function(e,t){o.rejectListing(e,t).then(p.rejectCompleted).then(p.listingChangeCompleted)}),p.enable.listen(v.bind(null,!0)),p.disable.listen(v.bind(null,!1)),p.approve.listen(function(e){d.trackListingApproval(e.title),i("approvalStatus","APPROVED",e)}),p.approveByOrg.listen(function(e){d.trackListingOrgApproval(e.title),i("approvalStatus","APPROVED_ORG",e)}),p.setFeatured.listen(i.bind(null,"isFeatured"))},function(e,t,n){"use strict";var i,r=n(83),o=n(367);r.search.listen(function(e){i=e,o.search(e).then(function(t){i===e&&r.searchCompleted(e,t)})})},function(e,t,n){"use strict";n(357),n(356)},function(e,t,n){"use strict";var i,r=n(4),o=n(5),s=n(57),a=n(71),l=r.createStore({init:function(){i=new a,this.listenTo(s.fetchActiveCompleted,this.fetchActiveCompleted),this.listenTo(s.createNotificationCompleted,this.onCreateCompleted),this.listenTo(s.expireNotificationCompleted,this.onExpireCompleted)},getNotifications:function(){return i},fetchActiveCompleted:function(e){i.receivePage(e),this.trigger()},onCreateCompleted:function(e,t){i.data.unshift(t),this.trigger()},onExpireCompleted:function(e){o.remove(i.data,{id:e.id}),this.trigger()}});e.exports=l},function(e,t,n){"use strict";function i(){return parseInt(r.css("padding-right"),10)}var r,o=n(4),s=n(6),a=0,l=o.createStore({init:function(){if(r=s(document.body),window.MutationObserver){var e=new MutationObserver(this.bodyAttributesChanged.bind(this));e.observe(document.body,{attributes:!0})}a=i()},bodyAttributesChanged:function(e){var t=this;e.forEach(function(e){var n;"style"===e.attributeName&&(n=i(),n!==a&&(a=n,t.trigger(n)))})},getDefaultData:function(){return a}});e.exports=l},function(e,t,n){"use strict";var i=n(4),r=n(12),o=[],s=[],a=[],l=[],c=i.createStore({init:function(){this.listenTo(r.fetchNewArrivalsCompleted,this.onNewArrivalsFetched),this.listenTo(r.fetchMostPopularCompleted,this.onMostPopularFetched),this.listenTo(r.fetchFeaturedCompleted,this.onFeaturedFetched),this.listenTo(r.searchCompleted,this.onSearchCompleted)},onNewArrivalsFetched:function(e){o=e,this.trigger()},getNewArrivals:function(){return o},onMostPopularFetched:function(e){s=e,this.trigger()},getMostPopular:function(){return s},onFeaturedFetched:function(e){a=e,this.trigger()},getFeatured:function(){return a},onSearchCompleted:function(e){l=e,this.trigger()},getSearchResults:function(){return l}});e.exports=c},function(e,t,n){"use strict";var i=n(4),r=n(57),o=n(71),s=!1,a=function(){s=!0,r.fetchPast()};r.createNotificationCompleted.listen(a),r.expireNotificationCompleted.listen(a);var l,c=i.createStore({init:function(){l=new o,this.listenTo(r.fetchPastCompleted,this.fetchPastCompleted),this.listenTo(r.expireNotificationCompleted,this.onExpireCompleted)},getNotifications:function(){return l},fetchPastCompleted:function(e){s?(l=new o(e),s=!1):l.receivePage(e),this.trigger()},onExpireCompleted:function(e){l.data.unshift(e),this.trigger()}});e.exports=c},function(e,t,n){"use strict";var i=n(4),r=n(83),o=n(5),s=i.createStore({searchTerm:null,profiles:[],listenables:r,onSearchCompleted:function(e,t){this.searchTerm=e,this.profiles=t,this.doTrigger()},doTrigger:function(){this.trigger(this.getDefaultData())},getDefaultData:function(){return o.pick(this,"searchTerm","profiles")}});e.exports=s},function(e){"use strict";e.exports={capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}}},function(e,t,n){"use strict";var i=n(6),r=n(13),o=r.API_URL,s={addToLibrary:function(e){var t={listing:{id:e.id}};return i.ajax({url:o+"/api/profile/self/library",type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(t)})},removeFromLibrary:function(e){return i.ajax({url:o+"/api/profile/self/library/"+encodeURIComponent(e.id),type:"delete"})},getLibrary:function(){return i.getJSON(o+"/api/profile/self/library")}};e.exports=s},function(e,t,n){"use strict";function i(e){return e.expiresDate=new Date(e.expiresDate.replace("+0000","Z")),e}var r=n(6),o=n(13),s=o.API_URL,a=n(14),l=a.PAGINATION_MAX,c=n(144);e.exports={create:function(e){return r.ajax({url:s+"/api/notification",type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify(e)}).then(i)},update:function(e){return r.ajax({url:s+"/api/notification/"+e.id,type:"put",dataType:"json",contentType:"application/json",data:JSON.stringify(e)}).then(i)},fetchActive:function(){return r.getJSON(s+"/api/notification/pending").then(function(e){return new c(e,i)})},fetchPast:function(e){return e=e||s+"/api/notification/expired?offset=0&max="+l,r.getJSON(e).then(function(e){return new c(e,i)})}}},function(e,t,n){"use strict";var i=n(6),r=n(13),o=r.API_URL;e.exports={search:function(e){return i.getJSON(o+"/api/profile?usernameStartsWith="+encodeURIComponent(e)).then(function(e){var t=e._embedded||{},n=t.item?[].concat(t.item):[];return n})}}},function(e,t,n){"use strict";function i(e){return new o(e).getItemAsList()}var r=n(6),o=n(145),s=n(13),a=s.API_URL,l={getTypes:function(){return r.getJSON(a+"/api/type").pipe(i)},getCategories:function(){return r.getJSON(a+"/api/category").pipe(i)},getIntents:function(){return r.getJSON(a+"/api/intent").pipe(i)},getContactTypes:function(){return r.getJSON(a+"/api/contactType").pipe(i)},getOrganizations:function(){return r.getJSON(a+"/api/agency").pipe(i)},getUsers:function(){return r.getJSON(a+"/api/profile").pipe(i)},getStewards:function(){return r.getJSON(a+"/api/profile?role=ORG_STEWARD").pipe(i)}};e.exports=l},[553,45],function(e,t,n){"use strict";var i=n(1),r=n(377),o=i.createClass({displayName:"LoadError",propTypes:{error:i.PropTypes.object.isRequired},render:function(){var e=r(this.props.error);return i.createElement("section",{className:"load-error"},i.createElement("p",null,"There was a problem completing your request."),i.createElement("div",{className:"error-details"},i.createElement("h4",null,e.shortDescription),i.createElement("p",null,i.createElement("label",null,"Error code")," ",e.code||"None"),i.createElement("p",null,e.longDescription),i.createElement("p",null,i.createElement("label",null,"Server Message")," ",e.serverMessage||"None"),i.createElement("section",{className:"recommended-action"},i.createElement("h5",null,"What should I do?"),i.createElement("p",null,e.recommendedAction))))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=i,o=r.PropTypes,s=n(96),a=n(97),l=n(30),c=i.createClass({displayName:"UserNotification",propTypes:{notification:o.object.isRequired},onDismiss:function(e){e.preventDefault(),e.stopPropagation(),l.dismissNotification(this.props.notification)},render:function(){var e=this.props.notification,t=e.expiresDate,n=e.message;return i.createElement("li",{className:"UserNotification"},i.createElement("button",{type:"button",className:"close pull-right",onClick:this.onDismiss},""),i.createElement("h5",{className:"created-by"},"OZONE"),i.createElement("i",{className:"small"},i.createElement(s,{date:t}),i.createElement(a,{date:t})),i.createElement("p",{className:"message small"},n))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(4),o=i.addons.classSet,s=(n(45),n(373)),a=n(23),l=n(30),c=i.createClass({displayName:"UserNotificationDropdown",mixins:[r.connect(a)],getInitialState:function(){return{notifications:null}},componentDidMount:function(){l.fetchNotifications()},render:function(){var e=this.state.notifications,t=e&&e.length>0,n=o({"icon-bell-filled":!0,activeIcon:t});return i.createElement("li",{className:"dropdown"},i.createElement("a",{href:"#","data-toggle":"dropdown"},i.createElement("i",{className:n})),t&&i.createElement(s,{notifications:e}))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=(n(4),n(371)),o=i.createClass({displayName:"UserNotifications",_renderNotification:function(e){return i.createElement(r,{key:e.id,notification:e})},_renderNotifications:function(){var e=this.props.notifications,t=e.length;return e.map(function(e,n){var r=this._renderNotification(e);return n===t-1?r:[r,i.createElement("li",{className:"divider"})]}.bind(this))},render:function(){var e=this.props.notifications;return e&&e.length>0?i.createElement("ul",{className:"dropdown-menu UserNotifications"},this._renderNotifications()):null}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(38),s=n(8),a=s.Navigation,l=n(376),c=n(30),u=i.createClass({displayName:"ListingRow",propTypes:{listing:i.PropTypes.object.isRequired,linkEl:i.PropTypes.func.isRequired},render:function(){var e=this.props.listing,t=this.props.linkEl;return i.createElement("li",{className:"listing"},i.createElement(t,{listingId:e.id},i.createElement("img",{src:e.imageMediumUrl}),e.title))}}),d=i.createClass({displayName:"ProfileInfo",mixins:[r.connect(l)],propTypes:{profileId:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),listingLinkEl:i.PropTypes.func.isRequired},getInitialState:function(){return{profile:null,ownedListings:[]}},componentWillMount:function(){c.fetchProfile(this.props.profileId),c.fetchOwnedListings(this.props.profileId)},render:function(){var e=this.state.profile,t=this.props.listingLinkEl,n=this.state.ownedListings.map(function(e){return i.createElement(u,{key:e.id,linkEl:t,listing:e})});return e?i.createElement("section",{className:"profile-info"},i.createElement("dl",null,i.createElement("dt",null,"Name"),i.createElement("dd",null,e.displayName),i.createElement("dt",null,"Username"),i.createElement("dd",null,e.username),i.createElement("dt",null,"Email"),i.createElement("dd",null,e.email||"none available")),i.createElement("section",{className:"owned-listings"},i.createElement("header",null,i.createElement("h4",null,e.displayName,"'s Listings"),i.createElement("small",null,"A list of the Marketplace listings that this user owns")),i.createElement("ul",null,n))):i.createElement("span",{className:"loading"},"Loading profile information")}}),p=i.createClass({displayName:"ProfileWindow",mixins:[a],propTypes:{profileId:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.string]),listingLinkEl:i.PropTypes.func.isRequired,backRoute:i.PropTypes.oneOfType([i.PropTypes.string.isRequired,i.PropTypes.func.isRequired])},render:function(){return i.createElement(o,{title:"Profile",ref:"modal",className:"profile-window",size:"small",onCancel:this.close},i.createElement(d,{profileId:this.props.profileId,listingLinkEl:this.props.listingLinkEl}))},close:function(){var e=this.props.backRoute;"function"==typeof e?e():this.transitionTo(this.props.backRoute)}});e.exports=p},function(e,t,n){"use strict";function i(e){var t=e.currentUser,n=t?t.launchInWebtop:void 0;return{initialLaunchInWebtop:n,launchInWebtop:n}}var r=n(1),o=n(4),s=n(8),a=s.Navigation,l=n(23),c=n(30),u=n(38),d=r.createClass({displayName:"Toggle",propTypes:{checked:r.PropTypes.bool,onChange:r.PropTypes.func.isRequired},render:function(){return r.createElement("label",{className:"switch"},r.createElement("input",{type:"checkbox",className:"ios",onChange:this.props.onChange,checked:this.props.checked}),r.createElement("div",{className:"track"},r.createElement("div",{className:"knob"})),this.props.children)}}),p=r.createClass({displayName:"SettingsWindow",mixins:[o.listenTo(l,"onStoreChange"),a],propsTypes:{backRoute:r.PropTypes.string.isRequired},getInitialState:function(){return i(l.getDefaultData())},render:function(){return r.createElement(u,{ref:"modal",className:"settings-window",title:"Settings",cancel:"Cancel",confirm:"Save",onCancel:this.close,onConfirm:this.save},r.createElement("dl",null,r.createElement("dt",null,"Default Application Launch",r.createElement("small",null,"When you click on a listing, this is how your listing will open")),r.createElement("dd",null,r.createElement(d,{ref:"launchInWebtop",onChange:this.onLaunchInWebtopChange,checked:this.state.launchInWebtop},"Open in Webtop"))))},shouldComponentUpdate:function(e,t){return t.launchInWebtop!==this.state.launchInWebtop||t.initialLaunchInWebtop!==this.state.initialLaunchInWebtop},onStoreChange:function(e){this.setState(i(e))},onLaunchInWebtopChange:function(e){this.setState({launchInWebtop:e.target.checked})},close:function(){this.transitionTo(this.props.backRoute)},save:function(){this.state.launchInWebtop!==this.state.initialLaunchInWebtop&&c.updateLaunchPreference(this.state.launchInWebtop),this.close()}});e.exports=p},function(e,t,n){"use strict";var i=n(4),r=n(45),o=n(30),s=n(95),a=i.createStore({ownedListings:[],profile:null,listenables:o,getDefaultData:function(){return r.pick(this,"profile","ownedListings")},doTrigger:function(){this.trigger(this.getDefaultData())},onFetchOwnedListings:function(e){var t=this;s.getOwnedListings(e).then(function(e){t.ownedListings=e,t.doTrigger()})},onFetchProfile:function(e){var t=this;s.getProfile(e).then(function(e){t.profile=e,t.doTrigger()})}});e.exports=a},function(e,t,n){"use strict";function i(e){var t=e,n=t.httpStatusCode,i=t.message,o=n?s[n]:a;return r({serverMessage:i,code:n},o)}var r=n(72),o=Object.freeze,s=o({400:o({shortDescription:"Bad Request",longDescription:"The application sent the server a poorly worded request and the server 	            cannot understand what was requested.",recommendedAction:"Please contact your system administrator."}),401:o({shortDescription:"Unauthorized",longDescription:"The request requires an authenticated, authorized user and 	            authorization has been refused.",recommendedAction:"Check that you have the appropriate credentials available for 	            authentication and authorization and try again. If you feel that you have reached 	            this page in error, please contact your system administrator."}),403:o({shortDescription:"Forbidden",longDescription:"You do not have the correct role for the server to complete 	            this request.",recommendedAction:"Check that you have the appropriate credentials available for 	            authentication and authorization and try again. If you feel that you have reached 	            this page in error, please contact your system administrator."}),404:o({shortDescription:"Not Found",longDescription:"The requested item was not found at the specified location. The 	            address may be incorrect or it may have moved or been deleted.",recommendedAction:"Please contact your system administrator."}),405:o({shortDescription:"Method Not Allowed",longDescription:"The method identified in the system's request is not valid for the 	            resource referred to.",recommendedAction:"Please contact your system administrator."}),406:o({shortDescription:"Not Acceptable",longDescription:"The resource identified in the system's request is not able to provide 	            an acceptable response.",recommendedAction:"Please contact your system administrator."}),407:o({shortDescription:"Proxy Authentication Required",longDescription:"The request requires an authenticated, authorized user and 	            authorization has been refused. You must be authorized via the proxy authentication 	            service.",recommendedAction:"Check that you have the appropriate credentials available for 	            authentication and authorization and try again. If you feel that you have reached 	            this page in error, please contact your system administrator."}),408:o({shortDescription:"Request Timeout",longDescription:"The response was not provided to the server in time.",recommendedAction:"Please try again. If you receive this message multiple times, 	            contact your system administrator."}),409:o({shortDescription:"Conflict",longDescription:"The request could not be completed due to a conflict with the current 	            state of the resource.",recommendedAction:"Please check any selections or uploads and try again. If you receive 	            this message multiple times, please contact your system administrator."}),410:o({shortDescription:"Gone",longDescription:"The requested item was moved.",recommendedAction:"Please contact your system administrator."}),411:o({shortDescription:"Length Required",longDescription:"The server could not accept the request without a specific length for 	            the content.",recommendedAction:"Please contact your system administrator."}),412:o({shortDescription:"Precondition Failed",longDescription:"The server could not fulfill the request because a precondition in a 	            request-header field was false when tested by the server.",recommendedAction:"Please contact your system administrator."}),413:o({shortDescription:"Request Entity Too Large",longDescription:"The server could not fulfill the request because the request entity is 	            larger than the server can process.",recommendedAction:"Please contact your system administrator."}),414:o({shortDescription:"Request - URI Too Long",longDescription:"The URI for the request is too long for the server to interpret.",recommendedAction:"Please contact your system administrator."}),415:o({shortDescription:"Unsupported Media Type",longDescription:"The server could not fulfill the request because the entity of the 	            request is in an unsupported format.",recommendedAction:"Please contact your system administrator."}),416:o({shortDescription:"Requested Range Not Satisfiable",longDescription:"The range of values specified in the request cannot be satisfied by 	            the server.",recommendedAction:"Please contact your system administrator."}),417:o({shortDescription:"Expectation Failed",longDescription:"The expectation given in an Expect request-header field could not be 	            met by this server or, if using a proxy, the request could not be met by the next 	            hop-server.",recommendedAction:"Please contact your system administrator."}),500:o({shortDescription:"Internal Server Error",longDescription:"The server encountered an unexpected issue that prevented it from 	            fulfilling your request.",recommendedAction:"Please try again. If you receive this message multiple times, please 	            contact your system administrator."}),501:o({shortDescription:"Not Implemented",longDescription:"The server does not currently support the functionality required to 	            fulfill your request.",recommendedAction:"Please contact your system administrator."}),502:o({shortDescription:"Bad Gateway",longDescription:"The server received an invalid response from another server which it 	            contacted in order to complete your request.",recommendedAction:"Please try again. If you receive this message multiple times, please 	            contact your system administrator."}),503:o({shortDescription:"Service Unavailable",longDescription:"The server is currently unable to handle your request because it is 	            temporary overloaded or down for maintenance.",recommendedAction:"Please wait a few minutes and try again. If you receive this message 	            multiple times,please contact your system administrator."}),504:o({shortDescription:"Gateway Timeout",longDescription:"The server did not receive a timely response from another server and 	            could not complete your request.",recommendedAction:"Please try again. If you receive this message multiple times, 	            contact your system administrator."}),505:o({shortDescription:"HTTP Version Not Supported",longDescription:"A request sent by the application is in an HTTP version that is not 	            supported by the server.",recommendedAction:"Please contact your system administrator."})}),a=o({shortDescription:"Unknown Error",longDescription:"An unknown issue occurred and prevented the server from fulfilling the 	        request.",recommendedAction:"Please try again. If you receive this message multiple times, please 	        contact your system administrator."});
e.exports=i},function(e){"use strict";function t(e,t,n){var i=e.responseText,r=e.getResponseHeader("Content-Type"),o=r&&-1!==r.indexOf("json"),s=i&&o?JSON.parse(i):null,a=s?s.message:null,l=a||("text/plain"===r?i:null)||null;return Object.freeze({xhr:e,jqErrorMessage:t,statusText:n,httpStatusCode:e.status||null,message:l})}e.exports=t},function(e,t,n){"use strict";function i(e){return o.reduce(e,function(e,t,n){return e[n]=r({sync:!0}),e[n].listen(t),e[n+"Completed"]=r({sync:!0}),e[n+"Failed"]=r({sync:!0}),e},{})}var r=n(4).createAction,o=n(45);e.exports=i},function(e,t,n){var i=n(383),r=n(98),o=React.createClass({displayName:"Calendar",mixins:[n(432)],handleClickOutside:function(){this.props.hideCalendar()},getInitialState:function(){return{date:new r(this.props.selected).safeClone(moment())}},componentWillReceiveProps:function(e){e.selected!==this.props.selected&&this.setState({date:new r(e.selected).clone()})},increaseMonth:function(){this.setState({date:this.state.date.addMonth()})},decreaseMonth:function(){this.setState({date:this.state.date.subtractMonth()})},weeks:function(){return this.state.date.mapWeeksInMonth(this.renderWeek)},handleDayClick:function(e){this.props.onSelect(e)},renderWeek:function(e,t){return e.weekInMonth(this.state.date)?React.createElement("div",{key:t},this.days(e)):void 0},renderDay:function(e,t){var n=new r(this.props.minDate).safeClone(),o=new r(this.props.maxDate).safeClone(),s=e.isBefore(n)||e.isAfter(o);return React.createElement(i,{key:t,day:e,date:this.state.date,onClick:this.handleDayClick.bind(this,e),selected:new r(this.props.selected),disabled:s})},days:function(e){return e.mapDaysInWeek(this.renderDay)},render:function(){return React.createElement("div",{className:"datepicker"},React.createElement("div",{className:"datepicker__triangle"}),React.createElement("div",{className:"datepicker__header"},React.createElement("a",{className:"datepicker__navigation datepicker__navigation--previous",onClick:this.decreaseMonth}),React.createElement("span",{className:"datepicker__current-month"},this.state.date.format("MMMM YYYY")),React.createElement("a",{className:"datepicker__navigation datepicker__navigation--next",onClick:this.increaseMonth}),React.createElement("div",null,React.createElement("div",{className:"datepicker__day"},"Mo"),React.createElement("div",{className:"datepicker__day"},"Tu"),React.createElement("div",{className:"datepicker__day"},"We"),React.createElement("div",{className:"datepicker__day"},"Th"),React.createElement("div",{className:"datepicker__day"},"Fr"),React.createElement("div",{className:"datepicker__day"},"Sa"),React.createElement("div",{className:"datepicker__day"},"Su"))),React.createElement("div",{className:"datepicker__month"},this.weeks()))}});e.exports=o},function(e,t,n){var i=n(98),r=React.createClass({displayName:"DateInput",getDefaultProps:function(){return{dateFormat:"YYYY-MM-DD"}},getInitialState:function(){return{value:this.safeDateFormat(this.props.date)}},componentDidMount:function(){this.toggleFocus(this.props.focus)},componentWillReceiveProps:function(e){this.toggleFocus(e.focus),this.setState({value:this.safeDateFormat(e.date)})},toggleFocus:function(e){e?this.refs.input.getDOMNode().focus():this.refs.input.getDOMNode().blur()},handleChange:function(e){var t=moment(e.target.value,this.props.dateFormat,!0);this.setState({value:e.target.value}),this.isValueAValidDate()&&this.props.setSelected(new i(t))},safeDateFormat:function(e){return e?e.format(this.props.dateFormat):null},isValueAValidDate:function(){var e=moment(event.target.value,this.props.dateFormat,!0);return e.isValid()},handleKeyDown:function(e){switch(e.key){case"Enter":e.preventDefault(),this.props.handleEnter()}},handleClick:function(e){this.props.handleClick(e)},render:function(){return React.createElement("input",{ref:"input",type:"text",value:this.state.value,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onChange:this.handleChange,className:"datepicker__input",placeholder:this.props.placeholderText})}});e.exports=r},function(e,t,n){var i=n(384),r=(n(98),n(380)),o=n(381),s=React.createClass({displayName:"DatePicker",getInitialState:function(){return{focus:!1}},handleFocus:function(){this.setState({focus:!0})},hideCalendar:function(){setTimeout(function(){this.setState({focus:!1})}.bind(this),0)},handleSelect:function(e){this.setSelected(e),setTimeout(function(){this.hideCalendar()}.bind(this),200)},setSelected:function(e){this.props.onChange(e.moment())},onInputClick:function(){this.setState({focus:!0})},calendar:function(){return this.state.focus?React.createElement(i,null,React.createElement(r,{selected:this.props.selected,onSelect:this.handleSelect,hideCalendar:this.hideCalendar,minDate:this.props.minDate,maxDate:this.props.maxDate})):void 0},render:function(){return React.createElement("div",null,React.createElement(o,{date:this.props.selected,dateFormat:this.props.dateFormat,focus:this.state.focus,onFocus:this.handleFocus,handleClick:this.onInputClick,handleEnter:this.hideCalendar,setSelected:this.setSelected,hideCalendar:this.hideCalendar,placeholderText:this.props.placeholderText}),this.calendar())}});e.exports=s},function(e){var t=React.createClass({displayName:"Day",handleClick:function(e){this.props.disabled||this.props.onClick(e)},render:function(){return classes=React.addons.classSet({datepicker__day:!0,"datepicker__day--disabled":this.props.disabled,"datepicker__day--selected":this.props.day.sameDay(this.props.selected),"datepicker__day--today":this.props.day.sameDay(moment())}),React.createElement("div",{className:classes,onClick:this.handleClick},this.props.day.day())}});e.exports=t},function(e){var t=React.createClass({displayName:"Popover",componentWillMount:function(){popoverContainer=document.createElement("span"),popoverContainer.className="datepicker__container",this._popoverElement=popoverContainer,document.querySelector("body").appendChild(this._popoverElement)},componentDidMount:function(){this._renderPopover()},componentDidUpdate:function(){this._renderPopover()},_popoverComponent:function(){var e=this.props.className;return React.createElement("div",{className:e},this.props.children)},_tetherOptions:function(){return{element:this._popoverElement,target:this.getDOMNode().parentElement,attachment:"top left",targetAttachment:"bottom left",targetOffset:"10px 0",optimizations:{moveElement:!1},constraints:[{to:"scrollParent",attachment:"together",pin:!0}]}},_renderPopover:function(){React.render(this._popoverComponent(),this._popoverElement),null!=this._tether?this._tether.setOptions(this._tetherOptions()):this._tether=new Tether(this._tetherOptions())},componentWillUnmount:function(){this._tether.destroy(),React.unmountComponentAtNode(this._popoverElement),this._popoverElement.parentNode&&this._popoverElement.parentNode.removeChild(this._popoverElement)},render:function(){return React.createElement("span",null)}});e.exports=t},function(e,t){var n,i;n=[],i=function(){function e(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(16)],r=function(e){function t(t,n,i){var r=-1,o=t?t.length:0;for(n=e(n,i,3);++r<o;)if(n(t[r],r,t))return r;return-1}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(101),n(100)],r=function(e,t){function n(n,i,r,o){return"boolean"!=typeof i&&null!=i&&(o=r,r="function"!=typeof i&&o&&o[i]===n?null:i,i=!1),null!=r&&(n=t(n,r,o)),e(n,i)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e,i,r){e=+e||0,r="number"==typeof r?r:+r||1,null==i&&(i=e,e=0);for(var o=-1,s=n(0,t((i-e)/(r||1))),a=Array(s);++o<s;)a[o]=e,e+=r;return a}var t=Math.ceil,n=Math.max;return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(153),n(32)],r=function(e,t){function n(n){return e(n,t(arguments,1))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(397),n(398)],r=function(e,t){function n(){for(var n=arguments.length>1?arguments:arguments[0],i=-1,r=n?e(t(n,"length")):0,o=Array(0>r?0:r);++i<r;)o[i]=t(n,i);return o}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(33)],r=function(e){function t(t,n){var i=-1,r=t?t.length:0,o={};for(n||!r||e(t[0])||(n=[]);++i<r;){var s=t[i];n?o[s]=n[i]:s&&(o[s[0]]=s[1])}return o}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(102),n(17),n(33),n(105)],r=function(e,t,n,i){function r(r,s,a){var l=-1,c=e,u=r?r.length:0,d=!1;return a=(0>a?o(0,u+a):a)||0,n(r)?d=c(r,s,a)>-1:"number"==typeof u?d=(i(r)?r.indexOf(s,a):c(r,s,a))>-1:t(r,function(e){return++l>=a?!(d=e===s):void 0}),d}var o=Math.max;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(16),n(17)],r=function(e,t){function n(n,i,r){var o=!0;i=e(i,r,3);var s=-1,a=n?n.length:0;if("number"==typeof a)for(;++s<a&&(o=!!i(n[s],s,n)););else t(n,function(e,t,n){return o=!!i(e,t,n)});return o}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(16),n(17)],r=function(e,t){function n(n,i,r){var o=[];i=e(i,r,3);var s=-1,a=n?n.length:0;if("number"==typeof a)for(;++s<a;){var l=n[s];i(l,s,n)&&o.push(l)}else t(n,function(e,t,n){i(e,t,n)&&o.push(e)});return o}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(16),n(17)],r=function(e,t){function n(n,i,r){i=e(i,r,3);var o=-1,s=n?n.length:0;if("number"!=typeof s){var a;return t(n,function(e,t,n){return i(e,t,n)?(a=e,!1):void 0}),a}for(;++o<s;){var l=n[o];if(i(l,o,n))return l}}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(408)],r=function(e){var t=Object.prototype,n=t.hasOwnProperty,i=e(function(e,t,i){(n.call(e,i)?e[i]:e[i]=[]).push(t)});return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(407),n(16),n(99),n(17),n(33),n(105)],r=function(e,t,n,i,r,o){function s(i,s,a){var l=-1/0,c=l;if("function"!=typeof s&&a&&a[s]===i&&(s=null),null==s&&r(i))for(var u=-1,d=i.length;++u<d;){var p=i[u];p>c&&(c=p)}else s=null==s&&o(i)?e:t(s,a,3),n(i,function(e,t,n){var i=s(e,t,n);i>l&&(l=i,c=e)});return c}return s}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(100)],r=function(e){var t=e;return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(155),n(32)],r=function(e,t){function n(n,i){return arguments.length>2?e(n,17,t(arguments,2),null,i):e(n,1,null,null,i)}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48),n(34),n(426)],r=function(e,t,n){function i(i,s,a){var l,c,u,d,p,h,f,m=0,g=!1,v=!0;if(!e(i))throw new TypeError;if(s=o(0,s)||0,a===!0){var b=!0;v=!1}else t(a)&&(b=a.leading,g="maxWait"in a&&(o(s,a.maxWait)||0),v="trailing"in a?a.trailing:v);var y=function(){var e=s-(n()-d);if(0>=e){c&&clearTimeout(c);var t=f;c=h=f=r,t&&(m=n(),u=i.apply(p,l),h||c||(l=p=null))}else h=setTimeout(y,e)},w=function(){h&&clearTimeout(h),c=h=f=r,(v||g!==s)&&(m=n(),u=i.apply(p,l),h||c||(l=p=null))};return function(){if(l=arguments,d=n(),p=this,f=v&&(h||!b),g===!1)var e=b&&!h;else{c||b||(m=d);var t=g-(d-m),r=0>=t;r?(c&&(c=clearTimeout(c)),m=d,u=i.apply(p,l)):c||(c=setTimeout(w,t))}return r&&h?h=clearTimeout(h):h||s===g||(h=setTimeout(y,s)),e&&(r=!0,u=i.apply(p,l)),!r||h||c||(l=p=null),u}}var r,o=Math.max;return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(48)],r=function(e){function t(t){var n,i;if(!e(t))throw new TypeError;return function(){return n?i:(n=!0,i=t.apply(this,arguments),t=null,i)}}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(155),n(32)],r=function(e,t){function n(n){return e(n,16,t(arguments,1))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(152),n(34),n(103),n(32)],r=function(e,t,n,i){function r(r){function o(){if(l){var n=i(l);s.apply(n,arguments)}if(this instanceof o){var r=e(a.prototype),u=a.apply(r,n||arguments);return t(u)?u:r}return a.apply(c,n||arguments)}var a=r[0],l=r[2],c=r[4];return n(o,r),o}var o=[],s=o.push;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(152),n(34),n(103),n(32)],r=function(e,t,n,i){function r(o){function a(){var n=f?p:this;if(u){var o=i(u);s.apply(o,arguments)}if((d||g)&&(o||(o=i(arguments)),d&&s.apply(o,d),g&&o.length<h))return c|=16,r([l,v?c:-4&c,o,null,p,h]);if(o||(o=arguments),m&&(l=n[b]),this instanceof a){n=e(l.prototype);var y=l.apply(n,o);return t(y)?y:n}return l.apply(n,o)}var l=o[0],c=o[1],u=o[2],d=o[3],p=o[4],h=o[5],f=1&c,m=2&c,g=4&c,v=8&c,b=l;return n(a,o),a}var o=[],s=o.push;return r}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(102),n(158)],r=function(e,t){function n(n,i){var r=typeof i;if(n=n.cache,"boolean"==r||null==i)return n[i]?0:-1;"number"!=r&&"string"!=r&&(r="object");var o="number"==r?i:t+i;return n=(n=n[r])&&n[o],"object"==r?n&&e(n,i)>-1?0:-1:n?0:-1}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(158)],r=function(e){function t(t){var n=this.cache,i=typeof t;if("boolean"==i||null==t)n[t]=!0;else{"number"!=i&&"string"!=i&&(i="object");var r="number"==i?t:e+t,o=n[i]||(n[i]={});"object"==i?(o[r]||(o[r]=[])).push(t):o[r]=!0}}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e){return e.charCodeAt(0)}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(16),n(17),n(33)],r=function(e,t){function n(n){return function(i,r,o){var s={};r=e(r,o,3);var a=-1,l=i?i.length:0;if("number"==typeof l)for(;++a<l;){var c=i[a];n(s,c,r(c,a,i),i)}else t(i,function(e,t,i){n(s,e,r(e,t,i),i)});return s}}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(406),n(411),n(162)],r=function(e,t){function n(n){var i=-1,r=n.length,o=n[0],s=n[r/2|0],a=n[r-1];if(o&&"object"==typeof o&&s&&"object"==typeof s&&a&&"object"==typeof a)return!1;var l=t();l["false"]=l["null"]=l["true"]=l.undefined=!1;var c=t();for(c.array=n,c.cache=l,c.push=e;++i<r;)c.push(n[i]);return c}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(157)],r=function(e){function t(t){return e[t]}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(160)],r=function(e){function t(){return e.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){var e=75;return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(157),n(49)],r=function(e,t){var n=RegExp("["+t(e).join("")+"]","g");return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(47)],r=function(e){var t=Object.prototype,n=t.hasOwnProperty,i=function(t){var i,r=t,o=[];if(!r)return o;if(!e[typeof t])return o;for(i in r)n.call(r,i)&&o.push(i);return o};return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(31),n(49),n(47)],r=function(e,t,n){var i=function(i,r,o){var s,a=i,l=a;if(!a)return l;var c=arguments,u=0,d="number"==typeof o?2:c.length;if(d>3&&"function"==typeof c[d-2])var p=e(c[--d-1],c[d--],2);else d>2&&"function"==typeof c[d-1]&&(p=c[--d]);for(;++u<d;)if(a=c[u],a&&n[typeof a])for(var h=-1,f=n[typeof a]&&t(a),m=f?f.length:0;++h<m;)s=f[h],l[s]=p?p(l[s],a[s]):a[s];return l};return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(151),n(31)],r=function(e,t){function n(n,i,r,o){return"boolean"!=typeof i&&null!=i&&(o=r,r=i,i=!1),e(n,i,"function"==typeof r&&t(r,o,1))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(151),n(31)],r=function(e,t){function n(n,i,r){return e(n,!0,"function"==typeof i&&t(i,r,1))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e){return e&&"object"==typeof e&&"number"==typeof e.length&&i.call(e)==t||!1}var t="[object Arguments]",n=Object.prototype,i=n.toString;return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t){var n,i;n=[],i=function(){function e(e){return e===!0||e===!1||e&&"object"==typeof e&&i.call(e)==t||!1}var t="[object Boolean]",n=Object.prototype,i=n.toString;return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(17),n(48)],r=function(e,t){function n(n){var a=!0;if(!n)return a;var c=l.call(n),u=n.length;return c==r||c==s||c==i||c==o&&"number"==typeof u&&t(n.splice)?!u:(e(n,function(){return a=!1}),a)}var i="[object Arguments]",r="[object Array]",o="[object Object]",s="[object String]",a=Object.prototype,l=a.toString;return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(31),n(154)],r=function(e,t){function n(n,i,r,o){return t(n,i,"function"==typeof r&&e(r,o,2))}return n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(49)],r=function(e){function t(t){for(var n=-1,i=e(t),r=i.length,o=Array(r);++n<r;)o[n]=t[i[n]];return o}return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(46)],r=function(e){var t=/\bthis\b/,n={};return n.funcDecomp=!e(window.WinRTError)&&t.test(function(){return this}),n.funcNames="string"==typeof Function.name,n}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;i=[n(410),n(49),n(413)],r=function(e,t,n){function i(t){return null==t?"":String(t).replace(n,e)}return i}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e){return e}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){var i,r;i=[n(46)],r=function(e){var t=e(t=Date.now)&&t||function(){return(new Date).getTime()};return t}.apply(t,i),!(void 0!==r&&(e.exports=r))},function(e,t){var n,i;n=[],i=function(){function e(e){return function(t){return t[e]}}return e}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./af":166,"./af.js":166,"./ar":170,"./ar-ma":167,"./ar-ma.js":167,"./ar-sa":168,"./ar-sa.js":168,"./ar-tn":169,"./ar-tn.js":169,"./ar.js":170,"./az":171,"./az.js":171,"./be":172,"./be.js":172,"./bg":173,"./bg.js":173,"./bn":174,"./bn.js":174,"./bo":175,"./bo.js":175,"./br":176,"./br.js":176,"./bs":177,"./bs.js":177,"./ca":178,"./ca.js":178,"./cs":179,"./cs.js":179,"./cv":180,"./cv.js":180,"./cy":181,"./cy.js":181,"./da":182,"./da.js":182,"./de":184,"./de-at":183,"./de-at.js":183,"./de.js":184,"./el":185,"./el.js":185,"./en-au":186,"./en-au.js":186,"./en-ca":187,"./en-ca.js":187,"./en-gb":188,"./en-gb.js":188,"./eo":189,"./eo.js":189,"./es":190,"./es.js":190,"./et":191,"./et.js":191,"./eu":192,"./eu.js":192,"./fa":193,"./fa.js":193,"./fi":194,"./fi.js":194,"./fo":195,"./fo.js":195,"./fr":197,"./fr-ca":196,"./fr-ca.js":196,"./fr.js":197,"./fy":198,"./fy.js":198,"./gl":199,"./gl.js":199,"./he":200,"./he.js":200,"./hi":201,"./hi.js":201,"./hr":202,"./hr.js":202,"./hu":203,"./hu.js":203,"./hy-am":204,"./hy-am.js":204,"./id":205,"./id.js":205,"./is":206,"./is.js":206,"./it":207,"./it.js":207,"./ja":208,"./ja.js":208,"./ka":209,"./ka.js":209,"./km":210,"./km.js":210,"./ko":211,"./ko.js":211,"./lb":212,"./lb.js":212,"./lt":213,"./lt.js":213,"./lv":214,"./lv.js":214,"./mk":215,"./mk.js":215,"./ml":216,"./ml.js":216,"./mr":217,"./mr.js":217,"./ms-my":218,"./ms-my.js":218,"./my":219,"./my.js":219,"./nb":220,"./nb.js":220,"./ne":221,"./ne.js":221,"./nl":222,"./nl.js":222,"./nn":223,"./nn.js":223,"./pl":224,"./pl.js":224,"./pt":226,"./pt-br":225,"./pt-br.js":225,"./pt.js":226,"./ro":227,"./ro.js":227,"./ru":228,"./ru.js":228,"./sk":229,"./sk.js":229,"./sl":230,"./sl.js":230,"./sq":231,"./sq.js":231,"./sr":233,"./sr-cyrl":232,"./sr-cyrl.js":232,"./sr.js":233,"./sv":234,"./sv.js":234,"./ta":235,"./ta.js":235,"./th":236,"./th.js":236,"./tl-ph":237,"./tl-ph.js":237,"./tr":238,"./tr.js":238,"./tzm":240,"./tzm-latn":239,"./tzm-latn.js":239,"./tzm.js":240,"./uk":241,"./uk.js":241,"./uz":242,"./uz.js":242,"./vi":243,"./vi.js":243,"./zh-cn":244,"./zh-cn.js":244,"./zh-tw":245,"./zh-tw.js":245};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=428},300,function(e){e.exports="/* w2ui 1.5.x (nightly) (c) http://w2ui.com, vitmalina@gmail.com */\nvar w2ui  = w2ui  || {};\nvar w2obj = w2obj || {}; // expose object to be able to overwrite default functions\n\n/************************************************\n*  Library: Web 2.0 UI for jQuery\n*  - Following objects are defines\n*        - w2ui             - object that will contain all widgets\n*        - w2obj            - object with widget prototypes\n*        - w2utils          - basic utilities\n*        - $().w2render     - common render\n*        - $().w2destroy    - common destroy\n*        - $().w2marker     - marker plugin\n*        - $().w2tag        - tag plugin\n*        - $().w2overlay    - overlay plugin\n*        - $().w2menu       - menu plugin\n*        - w2utils.event    - generic event object\n*        - w2utils.keyboard - object for keyboard navigation\n*  - Dependencies: jQuery\n*\n* == NICE TO HAVE ==\n*   - overlay should be displayed where more space (on top or on bottom)\n*   - write and article how to replace certain framework functions\n*   - add maxHeight for the w2menu\n*   - isTime should support seconds\n*   - add time zone\n*   - TEST On IOS\n*   - $().w2marker() -- only unmarks first instance\n*   - subitems for w2menus()\n*\n* == 1.5 changes\n*   - date has problems in FF new Date('yyyy-mm-dd') breaks\n*   - bug: w2utils.formatDate('2011-31-01', 'yyyy-dd-mm'); - wrong foratter\n*   - format date and time is buggy\n*   - added decimalSymbol\n*   - renamed size() -> formatSize()\n*   - added cssPrefix()\n*   - added w2utils.settings.weekStarts\n*   - onComplete should pass widget as context (this)\n*   - hidden and disabled in menus\n*   - added menu.item.hint for overlay menues\n*   - added w2tag options.id, options.left, options.top\n*\n************************************************/\n\nvar w2utils = (function () {\n    var tmp = {}; // for some temp variables\n    var obj = {\n        version  : '1.5.x',\n        settings : {\n            \"locale\"            : \"en-us\",\n            \"date_format\"       : \"m/d/yyyy\",\n            \"date_display\"      : \"Mon d, yyyy\",\n            \"time_format\"       : \"hh:mi pm\",\n            \"currencyPrefix\"    : \"$\",\n            \"currencySuffix\"    : \"\",\n            \"currencyPrecision\" : 2,\n            \"groupSymbol\"       : \",\",\n            \"decimalSymbol\"     : \".\",\n            \"shortmonths\"       : [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n            \"fullmonths\"        : [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n            \"shortdays\"         : [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"],\n            \"fulldays\"          : [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n            \"weekStarts\"        : \"M\",      // can be \"M\" for Monday or \"S\" for Sunday\n            \"dataType\"          : 'HTTP',   // can be HTTP, RESTFULL, JSON (case sensative)\n            \"phrases\"           : {}        // empty object for english phrases\n        },\n        isInt           : isInt,\n        isFloat         : isFloat,\n        isMoney         : isMoney,\n        isHex           : isHex,\n        isAlphaNumeric  : isAlphaNumeric,\n        isEmail         : isEmail,\n        isDate          : isDate,\n        isTime          : isTime,\n        age             : age,\n        date            : date,\n        formatSize      : formatSize,\n        formatNumber    : formatNumber,\n        formatDate      : formatDate,\n        formatTime      : formatTime,\n        formatDateTime  : formatDateTime,\n        stripTags       : stripTags,\n        encodeTags      : encodeTags,\n        escapeId        : escapeId,\n        base64encode    : base64encode,\n        base64decode    : base64decode,\n        transition      : transition,\n        lock            : lock,\n        unlock          : unlock,\n        lang            : lang,\n        locale          : locale,\n        getSize         : getSize,\n        scrollBarSize   : scrollBarSize,\n        checkName       : checkName,\n        checkUniqueId   : checkUniqueId,\n        parseRoute      : parseRoute,\n        cssPrefix       : cssPrefix,\n        // some internal variables\n        isIOS : ((navigator.userAgent.toLowerCase().indexOf('iphone') != -1 ||\n                 navigator.userAgent.toLowerCase().indexOf('ipod') != -1 ||\n                 navigator.userAgent.toLowerCase().indexOf('ipad') != -1) \n                 ? true : false),\n        isIE : ((navigator.userAgent.toLowerCase().indexOf('msie') != -1 ||\n                 navigator.userAgent.toLowerCase().indexOf('trident') != -1 )\n                 ? true : false)\n    };\n    return obj;\n\n    function isInt (val) {\n        var re = /^[-+]?[0-9]+$/;\n        return re.test(val);\n    }\n\n    function isFloat (val) {\n        if (typeof val == 'string') val = val.replace(w2utils.settings.decimalSymbol, '.');\n        return (typeof val === 'number' || (typeof val === 'string' && val !== '')) && !isNaN(Number(val));\n    }\n\n    function isMoney (val) {\n        var se = w2utils.settings;\n        var re = new RegExp('^'+ (se.currencyPrefix ? '\\\\' + se.currencyPrefix + '?' : '') +'[-+]?[0-9]*[\\\\'+ se.decimalSymbol +']?[0-9]+'+ (se.currencySuffix ? '\\\\' + se.currencySuffix + '?' : '') +'$', 'i');\n        if (typeof val === 'string') {\n            val = val.replace(new RegExp(se.groupSymbol, 'g'), '');\n        }\n        if (typeof val === 'object' || val === '') return false;\n        return re.test(val);\n    }\n\n    function isHex (val) {\n        var re = /^[a-fA-F0-9]+$/;\n        return re.test(val);\n    }\n\n    function isAlphaNumeric (val) {\n        var re = /^[a-zA-Z0-9_-]+$/;\n        return re.test(val);\n    }\n\n    function isEmail (val) {\n        var email = /^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n        return email.test(val);\n    }\n\n    function isDate (val, format, retDate) {\n        if (!val) return false;\n\n        var dt   = 'Invalid Date';\n        var month, day, year;\n\n        if (format == null) format = w2utils.settings.date_format;\n\n        if (typeof val.getUTCFullYear === 'function' && typeof val.getUTCMonth === 'function' && typeof val.getUTCDate === 'function') {\n            year = val.getUTCFullYear();\n            month = val.getUTCMonth();\n            day = val.getUTCDate();\n        } else if (typeof val.getFullYear === 'function' && typeof val.getMonth === 'function' && typeof val.getDate === 'function') {\n            year = val.getFullYear();\n            month = val.getMonth();\n            day = val.getDate();\n        } else {\n            val = String(val);\n            // convert month formats\n            if (new RegExp('mon', 'ig').test(format)) {\n                format = format.replace(/month/ig, 'm').replace(/mon/ig, 'm').replace(/dd/ig, 'd').replace(/[, ]/ig, '/').replace(/\\/\\//g, '/').toLowerCase();\n                val    = val.replace(/[, ]/ig, '/').replace(/\\/\\//g, '/').toLowerCase();\n                for (var m = 0, len = w2utils.settings.fullmonths.length; m < len; m++) {\n                    var t = w2utils.settings.fullmonths[m];\n                    val = val.replace(new RegExp(t, 'ig'), (parseInt(m) + 1)).replace(new RegExp(t.substr(0, 3), 'ig'), (parseInt(m) + 1));\n                }\n            }\n            // format date\n            var tmp  = val.replace(/-/g, '/').replace(/\\./g, '/').toLowerCase().split('/');\n            var tmp2 = format.replace(/-/g, '/').replace(/\\./g, '/').toLowerCase();\n            if (tmp2 === 'mm/dd/yyyy') { month = tmp[0]; day = tmp[1]; year = tmp[2]; }\n            if (tmp2 === 'm/d/yyyy')   { month = tmp[0]; day = tmp[1]; year = tmp[2]; }\n            if (tmp2 === 'dd/mm/yyyy') { month = tmp[1]; day = tmp[0]; year = tmp[2]; }\n            if (tmp2 === 'd/m/yyyy')   { month = tmp[1]; day = tmp[0]; year = tmp[2]; }\n            if (tmp2 === 'yyyy/dd/mm') { month = tmp[2]; day = tmp[1]; year = tmp[0]; }\n            if (tmp2 === 'yyyy/d/m')   { month = tmp[2]; day = tmp[1]; year = tmp[0]; }\n            if (tmp2 === 'yyyy/mm/dd') { month = tmp[1]; day = tmp[2]; year = tmp[0]; }\n            if (tmp2 === 'yyyy/m/d')   { month = tmp[1]; day = tmp[2]; year = tmp[0]; }\n            if (tmp2 === 'mm/dd/yy')   { month = tmp[0]; day = tmp[1]; year = tmp[2]; }\n            if (tmp2 === 'm/d/yy')     { month = tmp[0]; day = tmp[1]; year = parseInt(tmp[2]) + 1900; }\n            if (tmp2 === 'dd/mm/yy')   { month = tmp[1]; day = tmp[0]; year = parseInt(tmp[2]) + 1900; }\n            if (tmp2 === 'd/m/yy')     { month = tmp[1]; day = tmp[0]; year = parseInt(tmp[2]) + 1900; }\n            if (tmp2 === 'yy/dd/mm')   { month = tmp[2]; day = tmp[1]; year = parseInt(tmp[0]) + 1900; }\n            if (tmp2 === 'yy/d/m')     { month = tmp[2]; day = tmp[1]; year = parseInt(tmp[0]) + 1900; }\n            if (tmp2 === 'yy/mm/dd')   { month = tmp[1]; day = tmp[2]; year = parseInt(tmp[0]) + 1900; }\n            if (tmp2 === 'yy/m/d')     { month = tmp[1]; day = tmp[2]; year = parseInt(tmp[0]) + 1900; }\n        }\n        if (!isInt(year)) return false;\n        if (!isInt(month)) return false;\n        if (!isInt(day)) return false;\n        year = +year;\n        month = +month;\n        day = +day;\n        dt = new Date(year, month - 1, day);\n        // do checks\n        if (month == null) return false;\n        if (String(dt) == 'Invalid Date') return false;\n        if ((dt.getMonth() + 1 !== month) || (dt.getDate() !== day) || (dt.getFullYear() !== year)) return false;\n        if (retDate === true) return dt; else return true;\n    }\n\n    function isTime (val, retTime) {\n        // Both formats 10:20pm and 22:20\n        if (val == null) return false;\n        var max, pm;\n        // -- process american format\n        val = String(val);\n        val = val.toUpperCase();\n        pm = val.indexOf('PM') >= 0;\n        var ampm = (pm || val.indexOf('AM') >= 0);\n        if (ampm) max = 12; else max = 24;\n        val = val.replace('AM', '').replace('PM', '');\n        val = $.trim(val);\n        // ---\n        var tmp = val.split(':');\n        var h = parseInt(tmp[0] || 0), m = parseInt(tmp[1] || 0);\n        // accept edge case: 3PM is a good timestamp, but 3 (without AM or PM) is NOT:\n        if ((!ampm || tmp.length !== 1) && tmp.length !== 2) { return false; }\n        if (tmp[0] === '' || h < 0 || h > max || !this.isInt(tmp[0]) || tmp[0].length > 2) { return false; }\n        if (tmp.length === 2 && (tmp[1] === '' || m < 0 || m > 59 || !this.isInt(tmp[1]) || tmp[1].length !== 2)) { return false; }\n        // check the edge cases: 12:01AM is ok, as is 12:01PM, but 24:01 is NOT ok while 24:00 is (midnight; equivalent to 00:00).\n        // meanwhile, there is 00:00 which is ok, but 0AM nor 0PM are okay, while 0:01AM and 0:00AM are.\n        if (!ampm && max === h && m !== 0) { return false; }\n        if (ampm && tmp.length === 1 && h === 0) { return false; }\n\n        if (retTime === true) {\n            if (pm) h += 12;\n            return {\n                hours: h,\n                minutes: m\n            };\n        }\n        return true;\n    }\n\n    function age (dateStr) {\n        if (dateStr === '' || dateStr == null || (typeof dateStr == 'object' && !dateStr.getMonth)) return '';\n        var d1 = new Date(dateStr);\n        if (w2utils.isInt(dateStr)) d1 = new Date(Number(dateStr)); // for unix timestamps\n        if (String(d1) == 'Invalid Date') return '';\n\n        var d2  = new Date();\n        var sec = (d2.getTime() - d1.getTime()) / 1000;\n        var amount = '';\n        var type   = '';\n        if (sec < 0) {\n            amount = '<span style=\"color: #aaa\">0 sec</span>';\n            type   = '';\n        } else if (sec < 60) {\n            amount = Math.floor(sec);\n            type   = 'sec';\n            if (sec < 0) { amount = 0; type = 'sec'; }\n        } else if (sec < 60*60) {\n            amount = Math.floor(sec/60);\n            type   = 'min';\n        } else if (sec < 24*60*60) {\n            amount = Math.floor(sec/60/60);\n            type   = 'hour';\n        } else if (sec < 30*24*60*60) {\n            amount = Math.floor(sec/24/60/60);\n            type   = 'day';\n        } else if (sec < 365*24*60*60) {\n            amount = Math.floor(sec/30/24/60/60*10)/10;\n            type   = 'month';\n        } else if (sec < 365*4*24*60*60) {\n            amount = Math.floor(sec/365/24/60/60*10)/10;\n            type   = 'year';\n        } else if (sec >= 365*4*24*60*60) {\n            // factor in leap year shift (only older then 4 years)\n            amount = Math.floor(sec/365.25/24/60/60*10)/10;\n            type   = 'year';\n        }\n        return amount + ' ' + type + (amount > 1 ? 's' : '');\n    }\n\n    function date (dateStr) {\n        if (dateStr === '' || dateStr == null || (typeof dateStr == 'object' && !dateStr.getMonth)) return '';\n        var d1 = new Date(dateStr);\n        if (w2utils.isInt(dateStr)) d1 = new Date(Number(dateStr)); // for unix timestamps\n        if (String(d1) == 'Invalid Date') return '';\n\n        var months = w2utils.settings.shortmonths;\n        var d2   = new Date(); // today\n        var d3   = new Date();\n        d3.setTime(d3.getTime() - 86400000); // yesterday\n\n        var dd1  = months[d1.getMonth()] + ' ' + d1.getDate() + ', ' + d1.getFullYear();\n        var dd2  = months[d2.getMonth()] + ' ' + d2.getDate() + ', ' + d2.getFullYear();\n        var dd3  = months[d3.getMonth()] + ' ' + d3.getDate() + ', ' + d3.getFullYear();\n\n        var time = (d1.getHours() - (d1.getHours() > 12 ? 12 :0)) + ':' + (d1.getMinutes() < 10 ? '0' : '') + d1.getMinutes() + ' ' + (d1.getHours() >= 12 ? 'pm' : 'am');\n        var time2= (d1.getHours() - (d1.getHours() > 12 ? 12 :0)) + ':' + (d1.getMinutes() < 10 ? '0' : '') + d1.getMinutes() + ':' + (d1.getSeconds() < 10 ? '0' : '') + d1.getSeconds() + ' ' + (d1.getHours() >= 12 ? 'pm' : 'am');\n        var dsp = dd1;\n        if (dd1 === dd2) dsp = time;\n        if (dd1 === dd3) dsp = w2utils.lang('Yesterday');\n\n        return '<span title=\"'+ dd1 +' ' + time2 +'\">'+ dsp +'</span>';\n    }\n\n    function formatSize (sizeStr) {\n        if (!w2utils.isFloat(sizeStr) || sizeStr === '') return '';\n        sizeStr = parseFloat(sizeStr);\n        if (sizeStr === 0) return 0;\n        var sizes = ['Bt', 'KB', 'MB', 'GB', 'TB'];\n        var i = parseInt( Math.floor( Math.log(sizeStr) / Math.log(1024) ) );\n        return (Math.floor(sizeStr / Math.pow(1024, i) * 10) / 10).toFixed(i === 0 ? 0 : 1) + ' ' + sizes[i];\n    }\n\n    function formatNumber (val, groupSymbol, decimalSymbol) {\n        var ret = '';\n        if (groupSymbol == null) groupSymbol = w2utils.settings.groupSymbol || ',';\n        if (decimalSymbol == null) decimalSymbol = w2utils.settings.decimalSymbol || '.';\n        // check if this is a number\n        if (w2utils.isFloat(val) || w2utils.isInt(val) || w2utils.isMoney(val)) {\n            tmp = String(val).split('.');\n            ret = String(tmp[0]).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1\" + groupSymbol);\n            if (tmp[1] != null) ret += decimalSymbol + tmp[1];\n        }\n        return ret;\n    }\n\n    function formatDate (dateStr, format) { // IMPORTANT dateStr HAS TO BE valid JavaScript Date String\n        if (!format) format = this.settings.date_format;\n        if (dateStr === '' || dateStr == null || (typeof dateStr == 'object' && !dateStr.getMonth)) return '';\n\n        var dt = new Date(dateStr);\n        if (w2utils.isInt(dateStr)) dt = new Date(Number(dateStr)); // for unix timestamps\n        if (String(dt) == 'Invalid Date') return '';\n\n        var year  = dt.getFullYear();\n        var month = dt.getMonth();\n        var date  = dt.getDate();\n        return format.toLowerCase()\n            .replace('month', w2utils.settings.fullmonths[month])\n            .replace('mon', w2utils.settings.shortmonths[month])\n            .replace(/yyyy/g, year)\n            .replace(/yyy/g, year)\n            .replace(/yy/g, year > 2000 ? 100 + parseInt(String(year).substr(2)) : String(year).substr(2))\n            .replace(/(^|[^a-z$])y/g, '$1' + year)            // only y's that are not preceeded by a letter\n            .replace(/mm/g, (month + 1 < 10 ? '0' : '') + (month + 1))\n            .replace(/dd/g, (date < 10 ? '0' : '') + date)\n            .replace(/th/g, (date == 1 ? 'st' : 'th'))\n            .replace(/th/g, (date == 2 ? 'nd' : 'th'))\n            .replace(/th/g, (date == 3 ? 'rd' : 'th'))\n            .replace(/(^|[^a-z$])m/g, '$1' + (month + 1))     // only y's that are not preceeded by a letter\n            .replace(/(^|[^a-z$])d/g, '$1' + date);           // only y's that are not preceeded by a letter\n    }\n\n    function formatTime (dateStr, format) { // IMPORTANT dateStr HAS TO BE valid JavaScript Date String\n        var months = w2utils.settings.shortmonths;\n        var fullMonths = w2utils.settings.fullmonths;\n        if (!format) format = this.settings.time_format;\n        if (dateStr === '' || dateStr == null || (typeof dateStr == 'object' && !dateStr.getMonth)) return '';\n\n        var dt = new Date(dateStr);\n        if (w2utils.isInt(dateStr)) dt  = new Date(Number(dateStr)); // for unix timestamps\n        if (w2utils.isTime(dateStr)) {\n            var tmp = w2utils.isTime(dateStr, true);\n            dt = new Date();\n            dt.setHours(tmp.hours);\n            dt.setMinutes(tmp.minutes);\n        }\n        if (String(dt) == 'Invalid Date') return '';\n\n        var type = 'am';\n        var hour = dt.getHours();\n        var h24  = dt.getHours();\n        var min  = dt.getMinutes();\n        var sec  = dt.getSeconds();\n        if (min < 10) min = '0' + min;\n        if (sec < 10) sec = '0' + sec;\n        if (format.indexOf('am') !== -1 || format.indexOf('pm') !== -1) {\n            if (hour >= 12) type = 'pm';\n            if (hour > 12)  hour = hour - 12;\n        }\n        return format.toLowerCase()\n            .replace('am', type)\n            .replace('pm', type)\n            .replace('hhh', (hour < 10 ? '0' + hour : hour))\n            .replace('hh24', (h24 < 10 ? '0' + h24 : h24))\n            .replace('h24', h24)\n            .replace('hh', hour)\n            .replace('mm', min)\n            .replace('mi', min)\n            .replace('ss', sec)\n            .replace(/(^|[^a-z$])h/g, '$1' + hour)    // only y's that are not preceeded by a letter\n            .replace(/(^|[^a-z$])m/g, '$1' + min)     // only y's that are not preceeded by a letter\n            .replace(/(^|[^a-z$])s/g, '$1' + sec);    // only y's that are not preceeded by a letter\n    }\n\n    function formatDateTime(dateStr, format) {\n        var fmt;\n        if (dateStr === '' || dateStr == null || (typeof dateStr == 'object' && !dateStr.getMonth)) return '';\n        if (typeof format !== 'string') {\n            fmt = [this.settings.date_format, this.settings.time_format];\n        } else {\n            fmt = format.split('|');\n        }\n        return this.formatDate(dateStr, fmt[0]) + ' ' + this.formatTime(dateStr, fmt[1]);\n    }\n\n    function stripTags (html) {\n        if (html === null) return html;\n        switch (typeof html) {\n            case 'number':\n                break;\n            case 'string':\n                html = $.trim(String(html).replace(/(<([^>]+)>)/ig, \"\"));\n                break;\n            case 'object':\n                for (var a in html) html[a] = this.stripTags(html[a]);\n                break;\n        }\n        return html;\n    }\n\n    function encodeTags (html) {\n        if (html === null) return html;\n        switch (typeof html) {\n            case 'number':\n                break;\n            case 'string':\n                html = String(html).replace(/&/g, \"&amp;\").replace(/>/g, \"&gt;\").replace(/</g, \"&lt;\").replace(/\"/g, \"&quot;\");\n                break;\n            case 'object':\n                for (var a in html) html[a] = this.encodeTags(html[a]);\n                break;\n        }\n        return html;\n    }\n\n    function escapeId (id) {\n        if (id === '' || id == null) return '';\n        return String(id).replace(/([;&,\\.\\+\\*\\~'`:\"\\!\\^#$%@\\[\\]\\(\\)=<>\\|\\/? {}\\\\])/g, '\\\\$1');\n    }\n\n    function base64encode (input) {\n        var output = \"\";\n        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n        var i = 0;\n        var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        input = utf8_encode(input);\n\n        while (i < input.length) {\n            chr1 = input.charCodeAt(i++);\n            chr2 = input.charCodeAt(i++);\n            chr3 = input.charCodeAt(i++);\n            enc1 = chr1 >> 2;\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n            enc4 = chr3 & 63;\n            if (isNaN(chr2)) {\n                enc3 = enc4 = 64;\n            } else if (isNaN(chr3)) {\n                enc4 = 64;\n            }\n            output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n        }\n\n        function utf8_encode (string) {\n            string = String(string).replace(/\\r\\n/g,\"\\n\");\n            var utftext = \"\";\n\n            for (var n = 0; n < string.length; n++) {\n                var c = string.charCodeAt(n);\n                if (c < 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if((c > 127) && (c < 2048)) {\n                    utftext += String.fromCharCode((c >> 6) | 192);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c >> 12) | 224);\n                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n            }\n            return utftext;\n        }\n\n        return output;\n    }\n\n    function base64decode (input) {\n        var output = \"\";\n        var chr1, chr2, chr3;\n        var enc1, enc2, enc3, enc4;\n        var i = 0;\n        var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n        while (i < input.length) {\n            enc1 = keyStr.indexOf(input.charAt(i++));\n            enc2 = keyStr.indexOf(input.charAt(i++));\n            enc3 = keyStr.indexOf(input.charAt(i++));\n            enc4 = keyStr.indexOf(input.charAt(i++));\n            chr1 = (enc1 << 2) | (enc2 >> 4);\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n            chr3 = ((enc3 & 3) << 6) | enc4;\n            output = output + String.fromCharCode(chr1);\n            if (enc3 !== 64) {\n                output = output + String.fromCharCode(chr2);\n            }\n            if (enc4 !== 64) {\n                output = output + String.fromCharCode(chr3);\n            }\n        }\n        output = utf8_decode(output);\n\n        function utf8_decode (utftext) {\n            var string = \"\";\n            var i = 0;\n            var c = 0, c2, c3;\n\n            while ( i < utftext.length ) {\n                c = utftext.charCodeAt(i);\n                if (c < 128) {\n                    string += String.fromCharCode(c);\n                    i++;\n                }\n                else if((c > 191) && (c < 224)) {\n                    c2 = utftext.charCodeAt(i+1);\n                    string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n                    i += 2;\n                }\n                else {\n                    c2 = utftext.charCodeAt(i+1);\n                    c3 = utftext.charCodeAt(i+2);\n                    string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n                    i += 3;\n                }\n            }\n\n            return string;\n        }\n\n        return output;\n    }\n\n    function transition (div_old, div_new, type, callBack) {\n        var width  = $(div_old).width();\n        var height = $(div_old).height();\n        var time   = 0.5;\n\n        if (!div_old || !div_new) {\n            console.log('ERROR: Cannot do transition when one of the divs is null');\n            return;\n        }\n\n        div_old.parentNode.style.cssText += cross('perspective', '700px') +'; overflow: hidden;';\n        div_old.style.cssText += '; position: absolute; z-index: 1019; '+ cross('backface-visibility', 'hidden');\n        div_new.style.cssText += '; position: absolute; z-index: 1020; '+ cross('backface-visibility', 'hidden');\n\n        switch (type) {\n            case 'slide-left':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d('+ width + 'px, 0, 0)', 'translate('+ width +'px, 0)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +';'+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                    div_old.style.cssText += cross('transition', time+'s') +';'+ cross('transform', 'translate3d(-'+ width +'px, 0, 0)', 'translate(-'+ width +'px, 0)');\n                }, 1);\n                break;\n\n            case 'slide-right':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(-'+ width +'px, 0, 0)', 'translate(-'+ width +'px, 0)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'translate3d(0px, 0, 0)', 'translate(0px, 0)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'translate3d('+ width +'px, 0, 0)', 'translate('+ width +'px, 0)');\n                }, 1);\n                break;\n\n            case 'slide-down':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; z-index: 1; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                div_new.style.cssText += 'overflow: hidden; z-index: 0; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'translate3d(0, '+ height +'px, 0)', 'translate(0, '+ height +'px)');\n                }, 1);\n                break;\n\n            case 'slide-up':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, '+ height +'px, 0)', 'translate(0, '+ height +'px)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                }, 1);\n                break;\n\n            case 'flip-left':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateY(0deg)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateY(-180deg)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateY(0deg)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateY(180deg)');\n                }, 1);\n                break;\n\n            case 'flip-right':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateY(0deg)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateY(180deg)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateY(0deg)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateY(-180deg)');\n                }, 1);\n                break;\n\n            case 'flip-down':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateX(0deg)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateX(180deg)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateX(0deg)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateX(-180deg)');\n                }, 1);\n                break;\n\n            case 'flip-up':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateX(0deg)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'rotateX(-180deg)');\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateX(0deg)');\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'rotateX(180deg)');\n                }, 1);\n                break;\n\n            case 'pop-in':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)') + '; '+ cross('transform', 'scale(.8)') + '; opacity: 0;';\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'scale(1)') +'; opacity: 1;';\n                    div_old.style.cssText += cross('transition', time+'s') +';';\n                }, 1);\n                break;\n\n            case 'pop-out':\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)') +'; '+ cross('transform', 'scale(1)') +'; opacity: 1;';\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)') +'; opacity: 0;';\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time+'s') +'; opacity: 1;';\n                    div_old.style.cssText += cross('transition', time+'s') +'; '+ cross('transform', 'scale(1.7)') +'; opacity: 0;';\n                }, 1);\n                break;\n\n            default:\n                // init divs\n                div_old.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)');\n                div_new.style.cssText += 'overflow: hidden; '+ cross('transform', 'translate3d(0, 0, 0)', 'translate(0, 0)') +'; opacity: 0;';\n                $(div_new).show();\n                // -- need a timing function because otherwise not working\n                window.setTimeout(function() {\n                    div_new.style.cssText += cross('transition', time +'s') +'; opacity: 1;';\n                    div_old.style.cssText += cross('transition', time +'s');\n                }, 1);\n                break;\n        }\n\n        setTimeout(function () {\n            if (type === 'slide-down') {\n                $(div_old).css('z-index', '1019');\n                $(div_new).css('z-index', '1020');\n            }\n            if (div_new) {\n                $(div_new).css({ 'opacity': '1' }).css(w2utils.cssPrefix({\n                    'transition': '',\n                    'transform' : '',\n                    'backface-visibility': ''  \n                }));\n            }\n            if (div_old) {\n                $(div_old).css({ 'opacity': '1' }).css(w2utils.cssPrefix({\n                    'transition': '',\n                    'transform' : '',\n                    'backface-visibility': ''  \n                }));\n                if (div_old.parentNode) $(div_old.parentNode).css(w2utils.cssPrefix('perspective', ''));\n            }\n            if (typeof callBack === 'function') callBack();\n        }, time * 1000);\n\n        function cross(property, value, none_webkit_value) {\n            var isWebkit=!!window.webkitURL; // jQuery no longer supports $.browser - RR\n            if (!isWebkit && typeof none_webkit_value !== 'undefined') value = none_webkit_value;\n            return ';'+ property +': '+ value +'; -webkit-'+ property +': '+ value +'; -moz-'+ property +': '+ value +'; '+\n                '-ms-'+ property +': '+ value +'; -o-'+ property +': '+ value +';';\n        }\n    }\n\n    function lock (box, msg, spinner) {\n        var options = {};\n        if (typeof msg === 'object') {\n            options = msg;\n        } else {\n            options.msg     = msg;\n            options.spinner = spinner;\n        }\n        if (!options.msg && options.msg !== 0) options.msg = '';\n        w2utils.unlock(box);\n        $(box).prepend(\n            '<div class=\"w2ui-lock\"></div>'+\n            '<div class=\"w2ui-lock-msg\"></div>'\n        );\n        var $lock = $(box).find('.w2ui-lock');\n        var mess = $(box).find('.w2ui-lock-msg');\n        if (!options.msg) mess.css({ 'background-color': 'transparent', 'border': '0px' });\n        if (options.spinner === true) options.msg = '<div class=\"w2ui-spinner\" '+ (!options.msg ? 'style=\"width: 35px; height: 35px\"' : '') +'></div>' + options.msg;\n        if (options.opacity != null) $lock.css('opacity', options.opacity);\n        if (typeof $lock.fadeIn == 'function') {\n            $lock.fadeIn(200);\n            mess.html(options.msg).fadeIn(200);\n        } else {\n            $lock.show();\n            mess.html(options.msg).show(0);            \n        }\n        // hide all tags (do not hide overlays as the form can be in overlay)\n        $().w2tag();\n    }\n\n    function unlock (box, speed) {\n        if (isInt(speed)) {\n            $(box).find('.w2ui-lock').fadeOut(speed);\n            setTimeout(function () {\n                $(box).find('.w2ui-lock').remove();\n                $(box).find('.w2ui-lock-msg').remove();\n            }, speed);\n        } else {\n            $(box).find('.w2ui-lock').remove();\n            $(box).find('.w2ui-lock-msg').remove();            \n        }\n    }\n\n    function getSize (el, type) {\n        var $el = $(el);\n        var bwidth = {\n            left    : parseInt($el.css('border-left-width')) || 0,\n            right   : parseInt($el.css('border-right-width')) || 0,\n            top     : parseInt($el.css('border-top-width')) || 0,\n            bottom  : parseInt($el.css('border-bottom-width')) || 0\n        };\n        var mwidth = {\n            left    : parseInt($el.css('margin-left')) || 0,\n            right   : parseInt($el.css('margin-right')) || 0,\n            top     : parseInt($el.css('margin-top')) || 0,\n            bottom  : parseInt($el.css('margin-bottom')) || 0\n        };\n        var pwidth = {\n            left    : parseInt($el.css('padding-left')) || 0,\n            right   : parseInt($el.css('padding-right')) || 0,\n            top     : parseInt($el.css('padding-top')) || 0,\n            bottom  : parseInt($el.css('padding-bottom')) || 0\n        };\n        switch (type) {\n            case 'top'      : return bwidth.top + mwidth.top + pwidth.top;\n            case 'bottom'   : return bwidth.bottom + mwidth.bottom + pwidth.bottom;\n            case 'left'     : return bwidth.left + mwidth.left + pwidth.left;\n            case 'right'    : return bwidth.right + mwidth.right + pwidth.right;\n            case 'width'    : return bwidth.left + bwidth.right + mwidth.left + mwidth.right + pwidth.left + pwidth.right + parseInt($el.width());\n            case 'height'   : return bwidth.top + bwidth.bottom + mwidth.top + mwidth.bottom + pwidth.top + pwidth.bottom + parseInt($el.height());\n            case '+width'   : return bwidth.left + bwidth.right + mwidth.left + mwidth.right + pwidth.left + pwidth.right;\n            case '+height'  : return bwidth.top + bwidth.bottom + mwidth.top + mwidth.bottom + pwidth.top + pwidth.bottom;\n        }\n        return 0;\n    }\n\n    function lang (phrase) {\n        var translation = this.settings.phrases[phrase];\n        if (translation == null) return phrase; else return translation;\n    }\n\n    function locale (locale) {\n        if (!locale) locale = 'en-us';\n        if (locale.length === 5) locale = 'locale/'+ locale +'.json';\n        \n        // clear phrases from language before\n        w2utils.settings.phrases = {};\n\n        // load from the file\n        $.ajax({\n            url      : locale,\n            type     : \"GET\",\n            dataType : \"JSON\",\n            async    : false,\n            cache    : false,\n            success  : function (data, status, xhr) {\n                w2utils.settings = $.extend(true, w2utils.settings, data);\n                // apply translation to some prototype functions\n                var p = w2obj.grid.prototype;\n                for (var b in p.buttons) { // buttons is an object\n                    p.buttons[b].caption = w2utils.lang(p.buttons[b].caption);\n                    p.buttons[b].hint    = w2utils.lang(p.buttons[b].hint);\n                }\n                p.msgDelete  = w2utils.lang(p.msgDelete);\n                p.msgNotJSON = w2utils.lang(p.msgNotJSON);\n                p.msgRefresh = w2utils.lang(p.msgRefresh);\n            },\n            error    : function (xhr, status, msg) {\n                console.log('ERROR: Cannot load locale '+ locale);\n            }\n        });\n    }\n\n    function scrollBarSize () {\n        if (tmp.scrollBarSize) return tmp.scrollBarSize;\n        var html =\n            '<div id=\"_scrollbar_width\" style=\"position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;\">'+\n            '    <div style=\"height: 120px\">1</div>'+\n            '</div>';\n        $('body').append(html);\n        tmp.scrollBarSize = 100 - $('#_scrollbar_width > div').width();\n        $('#_scrollbar_width').remove();\n        if (String(navigator.userAgent).indexOf('MSIE') >= 0) tmp.scrollBarSize  = tmp.scrollBarSize / 2; // need this for IE9+\n        return tmp.scrollBarSize;\n    }\n\n\n    function checkName (params, component) { // was w2checkNameParam\n        if (!params || typeof params.name === 'undefined') {\n            console.log('ERROR: The parameter \"name\" is required but not supplied in $().'+ component +'().');\n            return false;\n        }\n        if (typeof w2ui[params.name] !== 'undefined') {\n            console.log('ERROR: The parameter \"name\" is not unique. There are other objects already created with the same name (obj: '+ params.name +').');\n            return false;\n        }\n        if (!w2utils.isAlphaNumeric(params.name)) {\n            console.log('ERROR: The parameter \"name\" has to be alpha-numeric (a-z, 0-9, dash and underscore). ');\n            return false;\n        }\n        return true;\n    }\n\n    function checkUniqueId (id, items, itemsDecription, objName) { // was w2checkUniqueId\n        if (!$.isArray(items)) items = [items];\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === id) {\n                console.log('ERROR: The parameter \"id='+ id +'\" is not unique within the current '+ itemsDecription +'. (obj: '+ objName +')');\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function parseRoute(route) {\n        var keys = [];\n        var path = route\n            .replace(/\\/\\(/g, '(?:/')\n            .replace(/\\+/g, '__plus__')\n            .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional) {\n                keys.push({ name: key, optional: !! optional });\n                slash = slash || '';\n                return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\n            })\n            .replace(/([\\/.])/g, '\\\\$1')\n            .replace(/__plus__/g, '(.+)')\n            .replace(/\\*/g, '(.*)');\n        return {\n            path  : new RegExp('^' + path + '$', 'i'),\n            keys  : keys\n        };\n    }\n\n    function cssPrefix(field, value, returnString) {\n        var css    = {};\n        var newCSS = {};\n        var ret    = '';\n        if (!$.isPlainObject(field)) {\n            css[field] = value;\n        } else {\n            css = field;\n            if (value === true) returnString = true;\n        }\n        for (var c in css) {\n            newCSS[c] = css[c];\n            newCSS['-webkit-'+c] = css[c];\n            newCSS['-moz-'+c]    = css[c].replace('-webkit-', '-moz-');\n            newCSS['-ms-'+c]     = css[c].replace('-webkit-', '-ms-');\n            newCSS['-o-'+c]      = css[c].replace('-webkit-', '-o-');\n        }\n        if (returnString === true) {\n            for (var c in newCSS) {\n                ret += c + ': ' + newCSS[c] + '; ';\n            }\n        } else {\n            ret = newCSS;\n        }\n        return ret;\n    } \n\n})();\n\n/***********************************************************\n*  Generic Event Object\n*  --- This object is reused across all other\n*  --- widgets in w2ui.\n*\n*********************************************************/\n\nw2utils.event = {\n\n    on: function (eventData, handler) {\n        if (!$.isPlainObject(eventData)) eventData = { type: eventData };\n        eventData = $.extend({ type: null, execute: 'before', target: null, onComplete: null }, eventData);\n\n        if (!eventData.type) { console.log('ERROR: You must specify event type when calling .on() method of '+ this.name); return; }\n        if (!handler) { console.log('ERROR: You must specify event handler function when calling .on() method of '+ this.name); return; }\n        if (!$.isArray(this.handlers)) this.handlers = [];\n        this.handlers.push({ event: eventData, handler: handler });\n    },\n\n    off: function (eventData, handler) {\n        if (!$.isPlainObject(eventData)) eventData = { type: eventData };\n        eventData = $.extend({}, { type: null, execute: 'before', target: null, onComplete: null }, eventData);\n\n        if (!eventData.type) { console.log('ERROR: You must specify event type when calling .off() method of '+ this.name); return; }\n        if (!handler) { handler = null; }\n        // remove handlers\n        var newHandlers = [];\n        for (var h = 0, len = this.handlers.length; h < len; h++) {\n            var t = this.handlers[h];\n            if ((t.event.type === eventData.type || eventData.type === '*') &&\n                (t.event.target === eventData.target || eventData.target === null) &&\n                (t.handler === handler || handler === null))\n            {\n                // match\n            } else {\n                newHandlers.push(t);\n            }\n        }\n        this.handlers = newHandlers;\n    },\n\n    trigger: function (eventData) {\n        var eventData = $.extend({ type: null, phase: 'before', target: null }, eventData, {\n            isStopped: false, isCancelled: false,\n            preventDefault  : function () { this.isCancelled = true; },\n            stopPropagation : function () { this.isStopped   = true; }\n        });\n        if (eventData.phase === 'before') eventData.onComplete = null;\n        var args, fun, tmp;\n        if (eventData.target == null) eventData.target = null;\n        if (!$.isArray(this.handlers)) this.handlers = [];\n        // process events in REVERSE order\n        for (var h = this.handlers.length-1; h >= 0; h--) {\n            var item = this.handlers[h];\n            if ((item.event.type === eventData.type || item.event.type === '*') &&\n                (item.event.target === eventData.target || item.event.target === null) &&\n                (item.event.execute === eventData.phase || item.event.execute === '*' || item.event.phase === '*'))\n            {\n                eventData = $.extend({}, item.event, eventData);\n                // check handler arguments\n                args = [];\n                tmp  = new RegExp(/\\((.*?)\\)/).exec(item.handler);\n                if (tmp) args = tmp[1].split(/\\s*,\\s*/);\n                if (args.length === 2) {\n                    item.handler.call(this, eventData.target, eventData); // old way for back compatibility\n                } else {\n                    item.handler.call(this, eventData); // new way\n                }\n                if (eventData.isStopped === true || eventData.stop === true) return eventData; // back compatibility eventData.stop === true\n            }\n        }\n        // main object events\n        var funName = 'on' + eventData.type.substr(0,1).toUpperCase() + eventData.type.substr(1);\n        if (eventData.phase === 'before' && typeof this[funName] === 'function') {\n            fun = this[funName];\n            // check handler arguments\n            args = [];\n            tmp  = new RegExp(/\\((.*?)\\)/).exec(fun);\n            if (tmp) args = tmp[1].split(/\\s*,\\s*/);\n            if (args.length === 2) {\n                fun.call(this, eventData.target, eventData); // old way for back compatibility\n            } else {\n                fun.call(this, eventData); // new way\n            }\n            if (eventData.isStopped === true || eventData.stop === true) return eventData; // back compatibility eventData.stop === true\n        }\n        // item object events\n        if (eventData.object != null && eventData.phase === 'before' &&\n            typeof eventData.object[funName] === 'function')\n        {\n            fun = eventData.object[funName];\n            // check handler arguments\n            args = [];\n            tmp  = new RegExp(/\\((.*?)\\)/).exec(fun);\n            if (tmp) args = tmp[1].split(/\\s*,\\s*/);\n            if (args.length === 2) {\n                fun.call(this, eventData.target, eventData); // old way for back compatibility\n            } else {\n                fun.call(this, eventData); // new way\n            }\n            if (eventData.isStopped === true || eventData.stop === true) return eventData;\n        }\n        // execute onComplete\n        if (eventData.phase === 'after' && typeof eventData.onComplete === 'function') eventData.onComplete.call(this, eventData);\n\n        return eventData;\n    }\n};\n\n/***********************************************************\n*  Common Keyboard Handler. Supported in\n*  - grid\n*  - sidebar\n*  - popup\n*\n*********************************************************/\n\nw2utils.keyboard = (function (obj) {\n    // private scope\n    var w2ui_name = null;\n\n    obj.active    = active;\n    obj.clear     = clear;\n\n    init();\n    return obj;\n\n    function init() {\n        $(document).on('keydown', keydown);\n        $(document).on('mousedown', mousedown);\n    }\n\n    function keydown (event) {\n        var tag = event.target.tagName;\n        if ($.inArray(tag, ['INPUT', 'SELECT', 'TEXTAREA']) !== -1) return;\n        if ($(event.target).prop('contenteditable') === 'true') return;\n        if (!w2ui_name) return;\n        // pass to appropriate widget\n        if (w2ui[w2ui_name] && typeof w2ui[w2ui_name].keydown === 'function') {\n            w2ui[w2ui_name].keydown.call(w2ui[w2ui_name], event);\n        }\n    }\n\n    function mousedown (event) {\n        var tag = event.target.tagName;\n        var els = $(event.target).parents('.w2ui-grid, .w2ui-sidebar, .w2ui-popup');\n        if (els.length > 0) {\n            var name = els.attr('name');\n            var obj = w2ui[name];\n            if (name != w2ui_name) {\n                if (clear(event) === false) return; // event cancelled\n                if (active(name) === false) return; // event cancelled\n            }\n            if (obj && obj.keyboard) w2ui_name = name;\n        } else {\n            clear(event);\n        }\n    }\n\n    function active (new_w2ui_name) {\n        if (new_w2ui_name == null) return w2ui_name;\n        var obj = w2ui[new_w2ui_name];\n        if (obj && obj.focus) {\n            if (obj.focus.call(obj, event) === false) return false;\n        }\n        w2ui_name = new_w2ui_name;\n        return true;\n    }\n\n    function clear (event) {\n        if (w2ui_name != null && w2ui[w2ui_name].blur) {\n            if (w2ui[w2ui_name].blur.call(w2ui[w2ui_name], event) === false) return false;\n        }\n        w2ui_name = null;\n        return true;\n    }\n\n})({});\n\n/***********************************************************\n*  Commonly used plugins\n*  --- used primarily in grid and form\n*\n*********************************************************/\n\n(function () {\n\n    $.fn.w2render = function (name) {\n        if ($(this).length > 0) {\n            if (typeof name === 'string' && w2ui[name]) w2ui[name].render($(this)[0]);\n            if (typeof name === 'object') name.render($(this)[0]);\n        }\n    };\n\n    $.fn.w2destroy = function (name) {\n        if (!name && this.length > 0) name = this.attr('name');\n        if (typeof name === 'string' && w2ui[name]) w2ui[name].destroy();\n        if (typeof name === 'object') name.destroy();\n    };\n\n    $.fn.w2marker = function () {\n        var str = Array.prototype.slice.call(arguments, 0);\n        if (str.length == 0 || !str[0]) { // remove marker\n            return $(this).each(clearMarkedText);\n        } else { // add marker\n            return $(this).each(function (index, el) {\n                clearMarkedText(index, el);\n                for (var s = 0; s < str.length; s++) {\n                    var tmp = str[s];\n                    if (typeof tmp !== 'string') tmp = String(tmp);\n                    // escape regex special chars\n                    tmp = tmp.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\").replace(/&/g, '&amp;').replace(/</g, '&gt;').replace(/>/g, '&lt;');\n                    var regex = new RegExp(tmp + '(?!([^<]+)?>)', \"gi\"); // only outside tags\n                    el.innerHTML = el.innerHTML.replace(regex, replaceValue);\n                }\n                function replaceValue(matched) { // mark new\n                    return '<span class=\"w2ui-marker\">' + matched + '</span>';\n                }\n            });\n        }\n\n        function clearMarkedText(index, el) {\n            while (el.innerHTML.indexOf('<span class=\"w2ui-marker\">') != -1) {\n                el.innerHTML = el.innerHTML.replace(/\\<span class=\\\"w2ui\\-marker\\\"\\>(.*)\\<\\/span\\>/ig, '$1'); // unmark\n            }\n        }\n    };\n\n    // -- w2tag - appears on the right side from element, there can be multiple on screen at a time\n\n    $.fn.w2tag = function (text, options) {\n        if (!$.isPlainObject(options)) options = {};\n        if (!$.isPlainObject(options.css)) options.css = {};\n        if (typeof options['class'] === 'undefined') options['class'] = '';\n        // remove all tags\n        if ($(this).length === 0) {\n            $('.w2ui-tag').each(function (index, elem) {\n                var opt = $(elem).data('options');\n                if (opt == null) opt = {};\n                $($(elem).data('taged-el')).removeClass( opt['class'] );\n                clearInterval($(elem).data('timer'));\n                $(elem).remove();\n            });\n            return;\n        }\n        return $(this).each(function (index, el) {\n            // show or hide tag\n            var tagOrigID = (options.id ? options.id : el.id);\n            var tagID = w2utils.escapeId(tagOrigID);\n            if (text === '' || text == null) {\n                $('#w2ui-tag-'+tagID).css('opacity', 0);\n                // remmove element\n                clearInterval($('#w2ui-tag-'+tagID).data('timer'));\n                $('#w2ui-tag-'+tagID).remove();\n            } else {\n                // remove elements\n                clearInterval($('#w2ui-tag-'+tagID).data('timer'));\n                $('#w2ui-tag-'+tagID).remove();\n                // insert\n                $('body').append(\n                    '<div id=\"w2ui-tag-'+ tagOrigID +'\" class=\"w2ui-tag '+ ($(el).parents('.w2ui-popup').length > 0 ? 'w2ui-tag-popup' : '') +\n                    '\" style=\"\"></div>');\n\n                var timer = setInterval(function () {\n                    // monitor if destroyed\n                    if ($(el).length === 0 || ($(el).offset().left === 0 && $(el).offset().top === 0)) {\n                        clearInterval($('#w2ui-tag-'+tagID).data('timer'));\n                        tmp_hide();\n                        return;\n                    }\n                    // monitor if moved\n                    if ($('#w2ui-tag-'+tagID).data('position') !== ($(el).offset().left + el.offsetWidth) + 'x' + $(el).offset().top) {\n                        $('#w2ui-tag-'+tagID).css(w2utils.cssPrefix({ 'transition': '.2s' })).css({\n                            left: ($(el).offset().left + el.offsetWidth + (options.left ? options.left : 0)) + 'px',\n                            top : ($(el).offset().top + (options.top ? options.top : 0)) + 'px'\n                        }).data('position', ($(el).offset().left + el.offsetWidth) + 'x' + $(el).offset().top);\n                    }\n                }, 100);\n                setTimeout(function () {\n                    if (!$(el).offset()) return;\n                    $('#w2ui-tag-'+tagID).css({\n                        opacity: '1',\n                        left: ($(el).offset().left + el.offsetWidth + (options.left ? options.left : 0)) + 'px',\n                        top : ($(el).offset().top + (options.top ? options.top : 0)) + 'px'\n                    }).html('<div style=\"margin-top: -2px 0px 0px -2px; white-space: nowrap;\"> <div class=\"w2ui-tag-body\">'+ text +'</div> </div>')\n                    .data('text', text)\n                    .data('taged-el', el)\n                    .data('options', options)\n                    .data('position', ($(el).offset().left + el.offsetWidth) + 'x' + $(el).offset().top)\n                    .data('timer', timer);\n                    $(el).off('keypress', tmp_hide).on('keypress', tmp_hide).off('change', tmp_hide).on('change', tmp_hide)\n                        .css(options.css).addClass(options['class']);\n                    if (typeof options.onShow === 'function') options.onShow();\n                }, 1);\n                var originalCSS = '';\n                if ($(el).length > 0) originalCSS = $(el)[0].style.cssText;\n                // bind event to hide it\n                function tmp_hide() {\n                    $tag = $('#w2ui-tag-'+tagID);\n                    if ($tag.length <= 0) return;\n                    clearInterval($tag.data('timer'));\n                    $tag.remove();\n                    $(el).off('keypress', tmp_hide).removeClass(options['class']);\n                    if ($(el).length > 0) $(el)[0].style.cssText = originalCSS;\n                    if (typeof options.onHide === 'function') options.onHide();\n                }\n            }\n        });\n    };\n\n    // w2overlay - appears under the element, there can be only one at a time\n\n    $.fn.w2overlay = function (html, options) {\n        var obj  = this;\n        var name = '';\n        var defaults = {\n            name      : null,      // it not null, then allows multiple concurent overlays\n            html      : '',        // html text to display\n            align     : 'none',    // can be none, left, right, both\n            left      : 0,         // offset left\n            top       : 0,         // offset top\n            tipLeft   : 30,        // tip offset left\n            width     : 0,         // fixed width\n            height    : 0,         // fixed height\n            maxWidth  : null,      // max width if any\n            maxHeight : null,      // max height if any\n            style     : '',        // additional style for main div\n            'class'   : '',        // additional class name for main div\n            onShow    : null,      // event on show\n            onHide    : null,      // event on hide\n            openAbove : false,     // show abover control\n            tmp       : {}\n        };\n        if (arguments.length == 1) {\n            if (typeof html == 'object') {\n                options = html; \n            } else {\n                options = { html: html };\n            }\n        }\n        if (arguments.length == 2) options.html = html;\n        if (!$.isPlainObject(options)) options = {};\n        options = $.extend({}, defaults, options);\n        if (options.name) name = '-' + options.name;\n        // if empty then hide\n        var tmp_hide;\n        if (this.length === 0 || options.html === '' || options.html == null) {\n            if ($('#w2ui-overlay'+ name).length > 0) {\n                tmp_hide = $('#w2ui-overlay'+ name)[0].hide;\n                if (typeof tmp_hide === 'function') tmp_hide();\n            } else {\n            $('#w2ui-overlay'+ name).remove();\n            }\n            return $(this);\n        }\n        if ($('#w2ui-overlay'+ name).length > 0) {\n            tmp_hide = $('#w2ui-overlay'+ name)[0].hide;\n            $(document).off('click', tmp_hide);\n            if (typeof tmp_hide === 'function') tmp_hide();\n        }\n        $('body').append(\n            '<div id=\"w2ui-overlay'+ name +'\" style=\"display: none\"'+\n            '        class=\"w2ui-reset w2ui-overlay '+ ($(this).parents('.w2ui-popup, .w2ui-overlay-popup').length > 0 ? 'w2ui-overlay-popup' : '') +'\">'+\n            '    <style></style>'+\n            '    <div style=\"'+ options.style +'\" class=\"'+ options['class'] +'\"></div>'+\n            '</div>'\n        );\n        // init\n        var div1 = $('#w2ui-overlay'+ name);\n        var div2 = div1.find(' > div');\n        div2.html(options.html);\n        // pick bg color of first div\n        var bc  = div2.css('background-color');\n        if (bc != null && bc !== 'rgba(0, 0, 0, 0)' && bc !== 'transparent') div1.css('background-color', bc);\n\n        div1.data('element', obj.length > 0 ? obj[0] : null)\n            .data('options', options)\n            .data('position', $(obj).offset().left + 'x' + $(obj).offset().top)\n            .fadeIn('fast')\n            .on('click', function (event) {\n                // if there is label for input, it will produce 2 click events\n                if (event.target.tagName == 'LABEL') event.stopPropagation();\n            })\n            .on('mousedown', function (event) {\n                $('#w2ui-overlay'+ name).data('keepOpen', true);\n                if (['INPUT', 'TEXTAREA', 'SELECT'].indexOf(event.target.tagName) == -1) event.preventDefault();\n            });\n        div1[0].hide   = hide;\n        div1[0].resize = resize;\n\n        // need time to display\n        resize();\n        setTimeout(function () {\n            resize();\n            $(document).off('click', hide).on('click', hide);\n            if (typeof options.onShow === 'function') options.onShow();\n        }, 10);\n\n        monitor();\n        return $(this);\n\n        // monitor position\n        function monitor() {\n            var tmp = $('#w2ui-overlay'+ name);\n            if (tmp.data('element') !== obj[0]) return; // it if it different overlay\n            if (tmp.length === 0) return;\n            var pos = $(obj).offset().left + 'x' + $(obj).offset().top;\n            if (tmp.data('position') !== pos) {\n                hide();\n            } else {\n                setTimeout(monitor, 250);\n            }\n        }\n\n        // click anywhere else hides the drop down\n        function hide () {\n            var div1 = $('#w2ui-overlay'+ name);\n            if (div1.data('keepOpen') === true) {\n                div1.removeData('keepOpen');\n                return;\n            }\n            var result;\n            if (typeof options.onHide === 'function') result = options.onHide();\n            if (result === false) return;\n            div1.remove();\n            $(document).off('click', hide);\n            clearInterval(div1.data('timer'));\n        }\n\n        function resize () {\n            var div1 = $('#w2ui-overlay'+ name);\n            var div2 = div1.find(' > div');\n            // if goes over the screen, limit height and width\n            if (div1.length > 0) {\n                div2.height('auto').width('auto');\n                // width/height\n                var overflowX = false;\n                var overflowY = false;\n                var h = div2.height();\n                var w = div2.width();\n                if (options.width && options.width < w) w = options.width;\n                if (w < 30) w = 30;\n                // if content of specific height\n                if (options.tmp.contentHeight) {\n                    h = parseInt(options.tmp.contentHeight);\n                    div2.height(h);\n                    setTimeout(function () {\n                        if (h > div2.find('div.menu > table').height()) {\n                            div2.find('div.menu').css('overflow-y', 'hidden');\n                        }\n                    }, 1);\n                    setTimeout(function () { div2.find('div.menu').css('overflow-y', 'auto'); }, 10);\n                }\n                if (options.tmp.contentWidth) {\n                    w = parseInt(options.tmp.contentWidth);\n                    div2.width(w);\n                    setTimeout(function () {\n                        if (w > div2.find('div.menu > table').width()) {\n                            div2.find('div.menu').css('overflow-x', 'hidden');\n                        }\n                    }, 1);\n                    setTimeout(function () { div2.find('div.menu').css('overflow-x', 'auto'); }, 10);\n                }\n                // alignment\n                switch (options.align) {\n                    case 'both':\n                        options.left = 17;\n                        if (options.width === 0) options.width = w2utils.getSize($(obj), 'width');\n                        break;\n                    case 'left':\n                        options.left = 17;\n                        break;\n                    case 'right':\n                        options.tipLeft = w - 45;\n                        options.left = w2utils.getSize($(obj), 'width') - w + 10;\n                        break;\n                }\n                // adjust position\n                var tmp = (w - 17) / 2;\n                var boxLeft  = options.left;\n                var boxWidth = options.width;\n                var tipLeft  = options.tipLeft;\n                if (w === 30 && !boxWidth) boxWidth = 30; else boxWidth = (options.width ? options.width : 'auto');\n                if (tmp < 25) {\n                    boxLeft = 25 - tmp;\n                    tipLeft = Math.floor(tmp);\n                }\n                // Y coord\n                div1.css({\n                    top         : (obj.offset().top + w2utils.getSize(obj, 'height') + options.top + 7) + 'px',\n                    left        : ((obj.offset().left > 25 ? obj.offset().left : 25) + boxLeft) + 'px',\n                    'min-width' : boxWidth,\n                    'min-height': (options.height ? options.height : 'auto')\n                });\n                // $(window).height() - has a problem in FF20\n                var maxHeight = window.innerHeight + $(document).scrollTop() - div2.offset().top - 7;\n                var maxWidth  = window.innerWidth + $(document).scrollLeft() - div2.offset().left - 7;\n                if ((maxHeight > -50 && maxHeight < 210) || options.openAbove === true) {\n                    // show on top\n                    maxHeight = div2.offset().top - $(document).scrollTop() - 7;\n                    if (options.maxHeight && maxHeight > options.maxHeight) maxHeight = options.maxHeight;\n                    if (h > maxHeight) {\n                        overflowY = true;\n                        div2.height(maxHeight).width(w).css({ 'overflow-y': 'auto' });\n                        h = maxHeight;\n                    }\n                    div1.css('top', ($(obj).offset().top - h - 24 + options.top) + 'px');\n                    div1.find('>style').html(\n                        '#w2ui-overlay'+ name +':before { display: none; margin-left: '+ parseInt(tipLeft) +'px; }'+\n                        '#w2ui-overlay'+ name +':after { display: block; margin-left: '+ parseInt(tipLeft) +'px; }'\n                    );\n                } else {\n                    // show under\n                    if (options.maxHeight && maxHeight > options.maxHeight) maxHeight = options.maxHeight;\n                    if (h > maxHeight) {\n                        overflowY = true;\n                        div2.height(maxHeight).width(w).css({ 'overflow-y': 'auto' });\n                    }\n                    div1.find('>style').html(\n                        '#w2ui-overlay'+ name +':before { display: block; margin-left: '+ parseInt(tipLeft) +'px; }'+\n                        '#w2ui-overlay'+ name +':after { display: none; margin-left: '+ parseInt(tipLeft) +'px; }'\n                    );\n                }\n                // check width\n                w = div2.width();\n                maxWidth = window.innerWidth + $(document).scrollLeft() - div2.offset().left - 7;\n                if (options.maxWidth && maxWidth > options.maxWidth) maxWidth = options.maxWidth;\n                if (w > maxWidth && options.align !== 'both') {\n                    options.align = 'right';\n                    setTimeout(function () { resize(); }, 1);\n                }\n                // check scroll bar\n                if (overflowY && overflowX) div2.width(w + w2utils.scrollBarSize() + 2);\n            }\n        }\n    };\n\n    $.fn.w2menu = function (menu, options) {\n        /*\n        ITEM STRUCTURE\n            item : {\n                id       : null,\n                text     : '',\n                style    : '',\n                img      : '',\n                icon     : '',\n                count    : '',\n                hidden   : false,\n                disabled : false\n                ...\n            }\n        */\n        var defaults = {\n            index      : null,        // current selected\n            items      : [],\n            render     : null,\n            msgNoItems : 'No items',\n            onSelect   : null,\n            tmp        : {}\n        };\n        var obj  = this;\n        var name = '';\n        if (menu === 'refresh') {\n            // if not show - call blur\n            if ($('#w2ui-overlay'+ name).length > 0) {\n                options = $.extend($.fn.w2menuOptions, options);\n                var scrTop = $('#w2ui-overlay'+ name +' div.menu').scrollTop();\n                $('#w2ui-overlay'+ name +' div.menu').html(getMenuHTML());\n                $('#w2ui-overlay'+ name +' div.menu').scrollTop(scrTop);\n                setTimeout(function () { mresize(); }, 1);\n            } else {\n                $(this).w2menu(options);\n            }\n        } else if (menu === 'refresh-index') {\n            var $menu  = $('#w2ui-overlay'+ name +' div.menu');\n            var cur    = $menu.find('tr[index='+ options.index +']');\n            var scrTop = $menu.scrollTop();\n            $menu.find('tr.w2ui-selected').removeClass('w2ui-selected'); // clear all\n            cur.addClass('w2ui-selected'); // select current\n            // scroll into view\n            if (cur.length > 0) {\n                var top    = cur[0].offsetTop - 5; // 5 is margin top\n                var height = $menu.height();\n                $menu.scrollTop(scrTop);\n                if (top < scrTop || top + cur.height() > scrTop + height) {\n                    $menu.animate({ 'scrollTop': top - (height - cur.height() * 2) / 2 }, 200, 'linear');\n                }\n            }\n            return;\n        } else {\n            if (arguments.length === 1) options = menu; else options.items = menu;\n            if (typeof options !== 'object') options = {};\n            options = $.extend({}, defaults, options);\n            $.fn.w2menuOptions = options;\n            if (options.name) name = '-' + options.name;\n            if (typeof options.select === 'function' && typeof options.onSelect !== 'function') options.onSelect = options.select;\n            if (typeof options.onRender === 'function' && typeof options.render !== 'function') options.render = options.onRender;\n            // since only one overlay can exist at a time\n            $.fn.w2menuHandler = function (event, index) {\n                if (typeof options.onSelect === 'function') {\n                    // need time so that menu first hides\n                    setTimeout(function () {\n                        options.onSelect({\n                            index : index,\n                            item  : options.items[index],\n                            originalEvent: event\n                        });\n                    }, 10);\n                }\n                // do not uncomment (or enum search type is not working in grid)\n                // setTimeout(function () { $(document).click(); }, 50);\n            };\n            var html = '';\n            if (options.search) {\n                html +=\n                    '<div style=\"position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;\">'+\n                    '    <div class=\"w2ui-icon icon-search\" style=\"position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;\"></div>'+\n                    '    <input id=\"menu-search\" type=\"text\" style=\"width: 100%; outline: none; padding-left: 20px;\" onclick=\"event.stopPropagation();\">'+\n                    '</div>';\n                options.style += ';background-color: #ECECEC';\n                options.index = 0;\n                for (var i = 0; i < options.items.length; i++) options.items[i].hidden = false;\n            }\n            html += '<div class=\"menu\" style=\"position: absolute; top: '+ (options.search ? 40 : 0) + 'px; bottom: 0px; width: 100%; overflow: auto;\">' +\n                        getMenuHTML() +\n                    '</div>';\n            var ret = $(this).w2overlay(html, options);\n            setTimeout(function () {\n                $('#w2ui-overlay'+ name +' #menu-search')\n                    .on('keyup', change)\n                    .on('keydown', function (event) {\n                        // cancel tab key\n                        if (event.keyCode === 9) { event.stopPropagation(); event.preventDefault(); }\n                    });\n                if (options.search) {\n                    if (['text', 'password'].indexOf($(obj)[0].type) != -1 || $(obj)[0].tagName == 'texarea') return;\n                    $('#w2ui-overlay'+ name +' #menu-search').focus();                    \n                }\n            }, 200);\n            mresize();\n            return ret;\n        }\n\n        function mresize() {\n            setTimeout(function () {\n                // show selected\n                $('#w2ui-overlay'+ name +' tr.w2ui-selected').removeClass('w2ui-selected');\n                var cur    = $('#w2ui-overlay'+ name +' tr[index='+ options.index +']');\n                var scrTop = $('#w2ui-overlay'+ name +' div.menu').scrollTop();\n                cur.addClass('w2ui-selected');\n                if (options.tmp) options.tmp.contentHeight = $('#w2ui-overlay'+ name +' table').height() + (options.search ? 50 : 10);\n                if (options.tmp) options.tmp.contentWidth  = $('#w2ui-overlay'+ name +' table').width();\n                if ($('#w2ui-overlay'+ name).length > 0) $('#w2ui-overlay'+ name)[0].resize();\n                // scroll into view\n                if (cur.length > 0) {\n                    var top    = cur[0].offsetTop - 5; // 5 is margin top\n                    var el     = $('#w2ui-overlay'+ name +' div.menu');\n                    var height = el.height();\n                    $('#w2ui-overlay'+ name +' div.menu').scrollTop(scrTop);\n                    if (top < scrTop || top + cur.height() > scrTop + height) {\n                        $('#w2ui-overlay'+ name +' div.menu').animate({ 'scrollTop': top - (height - cur.height() * 2) / 2 }, 200, 'linear');\n                    }\n                }\n            }, 1);\n        }\n\n        function change(event) {\n            var search  = this.value;\n            var key     = event.keyCode;\n            var cancel  = false;\n            switch (key) {\n                case 13: // enter\n                    $('#w2ui-overlay'+ name).remove();\n                    $.fn.w2menuHandler(event, options.index);\n                    break;\n                case 9:  // tab\n                case 27: // escape\n                    $('#w2ui-overlay'+ name).remove();\n                    $.fn.w2menuHandler(event, -1);\n                    break;\n                case 38: // up\n                    options.index = w2utils.isInt(options.index) ? parseInt(options.index) : 0;\n                    options.index--;\n                    while (options.index > 0 && options.items[options.index].hidden) options.index--;\n                    if (options.index === 0 && options.items[options.index].hidden) {\n                        while (options.items[options.index] && options.items[options.index].hidden) options.index++;\n                    }\n                    if (options.index < 0) options.index = 0;\n                    cancel = true;\n                    break;\n                case 40: // down\n                    options.index = w2utils.isInt(options.index) ? parseInt(options.index) : 0;\n                    options.index++;\n                    while (options.index < options.items.length-1 && options.items[options.index].hidden) options.index++;\n                    if (options.index === options.items.length-1 && options.items[options.index].hidden) {\n                        while (options.items[options.index] && options.items[options.index].hidden) options.index--;\n                    }\n                    if (options.index >= options.items.length) options.index = options.items.length - 1;\n                    cancel = true;\n                    break;\n            }\n            // filter\n            if (!cancel) {\n                var shown  = 0;\n                for (var i = 0; i < options.items.length; i++) {\n                    var item = options.items[i];\n                    var prefix = '';\n                    var suffix = '';\n                    if (['is', 'begins with'].indexOf(options.match) !== -1) prefix = '^';\n                    if (['is', 'ends with'].indexOf(options.match) !== -1) suffix = '$';\n                    try {\n                        var re = new RegExp(prefix + search + suffix, 'i');\n                        if (re.test(item.text) || item.text === '...') item.hidden = false; else item.hidden = true;\n                    } catch (e) {}\n                    // do not show selected items\n                    if (obj.type === 'enum' && $.inArray(item.id, ids) !== -1) item.hidden = true;\n                    if (item.hidden !== true) shown++;\n                }\n                options.index = 0;\n                while (options.index < options.items.length-1 && options.items[options.index].hidden) options.index++;\n                if (shown <= 0) options.index = -1;\n            }\n            $(obj).w2menu('refresh', options);\n            mresize();\n        }\n\n        function getMenuHTML () {\n            if (options.spinner) {\n                return  '<table class=\"w2ui-drop-menu\"><tr><td style=\"padding: 5px 10px 10px 10px; text-align: center\">'+\n                        '    <div class=\"w2ui-spinner\" style=\"width: 18px; height: 18px; position: relative; top: 5px;\"></div> '+\n                        '    <div style=\"display: inline-block; padding: 3px; color: #999;\">'+ w2utils.lang('Loading...') +'</div>'+\n                        '</td></tr></table>';\n            }\n            var count        = 0;\n            var menu_html    = '<table cellspacing=\"0\" cellpadding=\"0\" class=\"w2ui-drop-menu\">';\n            var img = null, icon = null;\n            for (var f = 0; f < options.items.length; f++) {\n                var mitem = options.items[f];\n                if (typeof mitem === 'string') {\n                    mitem = { id: mitem, text: mitem };\n                } else {\n                    if (mitem.text != null && mitem.id == null) mitem.id = mitem.text;\n                    if (mitem.text == null && mitem.id != null) mitem.text = mitem.id;\n                    if (mitem.caption != null) mitem.text = mitem.caption;\n                    img  = mitem.img;\n                    icon = mitem.icon;\n                    if (img  == null) img  = null;\n                    if (icon == null) icon = null;\n                }\n                if (mitem.hidden !== true) {\n                    var imgd = '';\n                    var txt = mitem.text;\n                    if (typeof options.render === 'function') txt = options.render(mitem, options);\n                    if (img)  imgd = '<td class=\"menu-icon\"><div class=\"w2ui-tb-image w2ui-icon '+ img +'\"></div></td>';\n                    if (icon) imgd = '<td class=\"menu-icon\" align=\"center\"><span class=\"w2ui-icon '+ icon +'\"></span></td>';\n                    // render only if non-empty\n                    if (typeof txt !== 'undefined' && txt !== '' && !(/^-+$/.test(txt))) {\n                        var bg = (count % 2 === 0 ? 'w2ui-item-even' : 'w2ui-item-odd');\n                        if (options.altRows !== true) bg = '';\n                        var colspan = 1;\n                        if (imgd == '') colspan++;\n                        if (mitem.count == null) colspan++;\n                        menu_html +=\n                            '<tr index=\"'+ f + '\" style=\"'+ (mitem.style ? mitem.style : '') +'\" '+ (mitem.hint ? 'title=\"'+ mitem.hint +'\"' : '') +\n                            '        class=\"'+ bg +' '+ (options.index === f ? 'w2ui-selected' : '') + ' ' + (mitem.disabled === true ? 'w2ui-disabled' : '') +'\"'+\n                            '        onmousedown=\"$(this).parent().find(\\'tr\\').removeClass(\\'w2ui-selected\\'); $(this).addClass(\\'w2ui-selected\\');\"'+\n                            '        onclick=\"event.stopPropagation(); '+\n                            '               if ('+ (mitem.disabled === true ? 'true' : 'false') + ') return;'+\n                            '               $(\\'#w2ui-overlay'+ name +'\\').remove(); '+\n                            '               $.fn.w2menuHandler(event, \\''+ f +'\\');\">'+\n                                imgd +\n                            '   <td class=\"menu-text\" colspan=\"'+ colspan +'\">'+ txt +'</td>'+\n                            '   <td class=\"menu-count\">'+ (mitem.count != null ? '<span>' + mitem.count + '</span>' : '') + '</td>' +\n                            '</tr>';\n                        count++;\n                    } else {\n                        // horizontal line\n                        menu_html += '<tr><td colspan=\"2\" style=\"padding: 6px; pointer-events: none\"><div style=\"border-top: 1px solid silver;\"></div></td></tr>';\n                    }\n                }\n                options.items[f] = mitem;\n            }\n            if (count === 0) {\n                menu_html += '<tr><td style=\"padding: 13px; color: #999; text-align: center\">'+ options.msgNoItems +'</div></td></tr>';\n            }\n            menu_html += \"</table>\";\n            return menu_html;\n        }\n    };\n})();\n\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2grid        - grid widget\n*        - $().w2grid    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2toolbar, w2fields, w2alert, w2confirm\n*\n* == NICE TO HAVE == \n*   - frozen columns\n*   - add colspans\n*   - allow this.total to be unknown (-1)\n*   - column autosize based on largest content\n*   - easy bubbles in the grid\n*   - More than 2 layers of header groups\n*   - reorder columns/records\n*   - hidden searches could not be clearned by the user\n*   - problem with .set() and arrays, array get extended too, but should be replaced\n*   - move events into prototype\n*   - add grid.focus()\n*   - after edit stay on the same record option\n*   - allow render: function to be filters\n*   - if supplied array of ids, get should return array of records\n*   - row drag and drop has bugs\n*   - header filtration\n*   - allow functions in routeData (also add routeData to list/enum)\n*   - implement global routeData and all elements read from there\n*   - send parsed URL to the event if there is parseData\n*   - if you set searchData or sortData and call refresh() it should work\n*   - bug: vs_start = 100 and more then 500 records, when scrolling empty sets\n*   - use column field for style: { 1: 'color: red' }\n*   - unselect fires too many times (if many is unselected, one event should fire)\n*   - add selectType: 'none' so that no selection can be make but with mouse\n*   - send parsed URL to the event if there is routeData\n*\n* == 1.5 changes\n*   - $('#grid').w2grid() - if called w/o argument then it returns grid object\n*   - added statusRange     : true,\n*           statusBuffered  : false,\n*           statusRecordID  : true,\n*           statusSelection : true,\n*           statusResponse  : true,\n*           statusSort      : true,\n*           statusSearch    : true,\n*   - change selectAll() and selectNone() - return time it took\n*   - added vs_start and vs_extra\n*   - added update() - updates only data in the grid\n*   - add to docs onColumnDragStart, onColumnDragEnd\n*   - onSelect and onSelect should fire 1 time for selects with shift or selectAll(), selectNone()\n*   - record.style[field_name]\n*   - added focus(), blur(), onFocus, onBlur\n*   - added search.operator\n*   - refactor reorderRow (not finished)\n*\n************************************************************************/\n\n(function () {\n    var w2grid = function(options) {\n\n        // public properties\n        this.name         = null;\n        this.box          = null;     // HTML element that hold this element\n        this.header       = '';\n        this.url          = '';\n        this.routeData    = {};       // data for dynamic routes\n        this.columns      = [];       // { field, caption, size, attr, render, hidden, gridMinWidth, editable }\n        this.columnGroups = [];       // { span: int, caption: 'string', master: true/false }\n        this.records      = [];       // { recid: int(requied), field1: 'value1', ... fieldN: 'valueN', style: 'string', editable: true/false, summary: true/false, changes: object }\n        this.summary      = [];       // arry of summary records, same structure as records array\n        this.searches     = [];       // { type, caption, field, inTag, outTag, hidden }\n        this.searchData   = [];\n        this.sortData     = [];\n        this.postData     = {};\n        this.toolbar      = {};       // if not empty object; then it is toolbar object\n\n        this.show = {\n            header          : false,\n            toolbar         : false,\n            footer          : false,\n            columnHeaders   : true,\n            lineNumbers     : false,\n            expandColumn    : false,\n            selectColumn    : false,\n            emptyRecords    : true,\n            toolbarReload   : true,\n            toolbarColumns  : true,\n            toolbarSearch   : true,\n            toolbarAdd      : false,\n            toolbarEdit     : false,\n            toolbarDelete   : false,\n            toolbarSave     : false,\n            statusRange     : true,\n            statusBuffered  : false,\n            statusRecordID  : true,\n            statusSelection : true,\n            statusResponse  : true,\n            statusSort      : true,\n            statusSearch    : true,\n            recordTitles    : true,\n            selectionBorder : true,\n            skipRecords     : true\n        };\n\n        this.autoLoad       = true;     // for infinite scroll\n        this.fixedBody      = true;     // if false; then grid grows with data\n        this.recordHeight   = 24;\n        this.vs_start       = 300;\n        this.vs_extra       = 15;\n        this.keyboard       = true;\n        this.selectType     = 'row';    // can be row|cell\n        this.multiSearch    = true;\n        this.multiSelect    = true;\n        this.multiSort      = true;\n        this.reorderColumns = false;\n        this.reorderRows    = false;\n        this.markSearch     = true;\n\n        this.total   = 0;     // server total\n        this.limit   = 100;\n        this.offset  = 0;     // how many records to skip (for infinite scroll) when pulling from server\n        this.style   = '';\n        this.ranges  = [];\n        this.menu    = [];\n        this.method  = null;         // if defined, then overwrited ajax method\n        this.recid   = null;\n        this.parser  = null;\n\n        // events\n        this.onAdd              = null;\n        this.onEdit             = null;\n        this.onRequest          = null;        // called on any server event\n        this.onLoad             = null;\n        this.onDelete           = null;\n        this.onDeleted          = null;\n        this.onSubmit           = null;\n        this.onSave             = null;\n        this.onSelect           = null;\n        this.onUnselect         = null;\n        this.onClick            = null;\n        this.onDblClick         = null;\n        this.onContextMenu      = null;\n        this.onMenuClick        = null;        // when context menu item selected\n        this.onColumnClick      = null;\n        this.onColumnResize     = null;\n        this.onSort             = null;\n        this.onSearch           = null;\n        this.onChange           = null;        // called when editable record is changed\n        this.onRestore          = null;        // called when editable record is restored\n        this.onExpand           = null;\n        this.onCollapse         = null;\n        this.onError            = null;\n        this.onKeydown          = null;\n        this.onToolbar          = null;     // all events from toolbar\n        this.onColumnOnOff      = null;\n        this.onCopy             = null;\n        this.onPaste            = null;\n        this.onSelectionExtend  = null;\n        this.onEditField        = null;\n        this.onRender           = null;\n        this.onRefresh          = null;\n        this.onReload           = null;\n        this.onResize           = null;\n        this.onDestroy          = null;\n        this.onStateSave        = null;\n        this.onStateRestore     = null;\n        this.onFocus            = null;\n        this.onBlur             = null;\n        this.onReorderRow       = null;\n\n        // internal\n        this.last = {\n            field     : 'all',\n            caption   : w2utils.lang('All Fields'),\n            logic     : 'OR',\n            search    : '',\n            searchIds : [],\n            selection : {\n                indexes : [],\n                columns : {}\n            },\n            multi       : false,\n            scrollTop   : 0,\n            scrollLeft  : 0,\n            sortData    : null,\n            sortCount   : 0,\n            xhr         : null,\n            range_start : null,\n            range_end   : null,\n            sel_ind     : null,\n            sel_col     : null,\n            sel_type    : null,\n            edit_col    : null\n        };\n\n        $.extend(true, this, w2obj.grid, options);\n    };\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2grid = function(method) {\n        if ($.isPlainObject(method)) {\n            // check name parameter\n            if (!w2utils.checkName(method, 'w2grid')) return;\n            // remember items\n            var columns      = method.columns;\n            var columnGroups = method.columnGroups;\n            var records      = method.records;\n            var searches     = method.searches;\n            var searchData   = method.searchData;\n            var sortData     = method.sortData;\n            var postData     = method.postData;\n            var toolbar      = method.toolbar;\n            // extend items\n            var object = new w2grid(method);\n            $.extend(object, { postData: {}, records: [], columns: [], searches: [], toolbar: {}, sortData: [], searchData: [], handlers: [] });\n            if (object.onExpand != null) object.show.expandColumn = true;\n            $.extend(true, object.toolbar, toolbar);\n            // reassign variables\n            if (columns)      for (var p = 0; p < columns.length; p++)      object.columns[p]       = $.extend(true, {}, columns[p]);\n            if (columnGroups) for (var p = 0; p < columnGroups.length; p++) object.columnGroups[p]  = $.extend(true, {}, columnGroups[p]);\n            if (searches)     for (var p = 0; p < searches.length; p++)     object.searches[p]      = $.extend(true, {}, searches[p]);\n            if (searchData)   for (var p = 0; p < searchData.length; p++)   object.searchData[p]    = $.extend(true, {}, searchData[p]);\n            if (sortData)     for (var p = 0; p < sortData.length; p++)     object.sortData[p]      = $.extend(true, {}, sortData[p]);\n            object.postData = $.extend(true, {}, postData);\n\n            // check if there are records without recid\n            if (records) for (var r = 0; r < records.length; r++) {\n                if (records[r].recid == null) {\n                    console.log('ERROR: Cannot add records without recid. (obj: '+ object.name +')');\n                    return;\n                }\n                object.records[r] = $.extend(true, {}, records[r]);\n            }\n            // add searches\n            for (var c in object.columns) {\n                var col = object.columns[c];\n                if (col.searchable == null || col.searchable === false || object.getSearch(col.field) != null) continue;\n                var stype = col.searchable;\n                var attr  = '';\n                if (col.searchable === true) { stype = 'text'; attr = 'size=\"20\"'; }\n                object.addSearch({ field: col.field, caption: col.caption, type: stype, attr: attr });\n            }\n            // init toolbar\n            object.initToolbar();\n            // render if necessary\n            if ($(this).length !== 0) {\n                object.render($(this)[0]);\n            }\n            // register new object\n            w2ui[object.name] = object;\n            return object;\n\n        } else {\n            var obj = w2ui[$(this).attr('name')];\n            if (!obj) return null;\n            if (arguments.length > 0) {\n                if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n                return this;\n            } else {\n                return obj;\n            }\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    w2grid.prototype = {    \n        msgDelete       : w2utils.lang('Are you sure you want to delete selected records?'),\n        msgNotJSON      : w2utils.lang('Returned data is not in valid JSON format.'),\n        msgAJAXerror    : w2utils.lang('AJAX error. See console for more details.'),\n        msgRefresh      : w2utils.lang('Refreshing...'),\n        msgNeedReload   : w2utils.lang('Your remove data source record count has changed, reloading from the first record.'),\n\n        buttons: {\n            'reload'   : { type: 'button', id: 'w2ui-reload', icon: 'w2ui-icon-reload', hint: w2utils.lang('Reload data in the list') },\n            'columns'  : { type: 'drop', id: 'w2ui-column-on-off', icon: 'w2ui-icon-columns', hint: w2utils.lang('Show/hide columns'), arrow: false, html: '' },\n            'search'   : { type: 'html',   id: 'w2ui-search',\n                            html: '<div class=\"w2ui-icon icon-search-down w2ui-search-down\" title=\"'+ w2utils.lang('Select Search Field') +'\" '+\n                                  'onclick=\"var obj = w2ui[$(this).parents(\\'div.w2ui-grid\\').attr(\\'name\\')]; obj.searchShowFields();\"></div>'\n                          },\n            'search-go': { type: 'drop',  id: 'w2ui-search-advanced', icon: 'w2ui-icon-search', caption: w2utils.lang('Search'), hint: w2utils.lang('Open Search Fields') },\n            'add'      : { type: 'button', id: 'w2ui-add', caption: w2utils.lang('Add New'), hint: w2utils.lang('Add new record'), icon: 'w2ui-icon-plus' },\n            'edit'     : { type: 'button', id: 'w2ui-edit', caption: w2utils.lang('Edit'), hint: w2utils.lang('Edit selected record'), icon: 'w2ui-icon-pencil', disabled: true },\n            'delete'   : { type: 'button', id: 'w2ui-delete', caption: w2utils.lang('Delete'), hint: w2utils.lang('Delete selected records'), icon: 'w2ui-icon-cross', disabled: true },\n            'save'     : { type: 'button', id: 'w2ui-save', caption: w2utils.lang('Save'), hint: w2utils.lang('Save changed records'), icon: 'w2ui-icon-check' }\n        },\n\n        add: function (record) {\n            if (!$.isArray(record)) record = [record];\n            var added = 0;\n            for (var o in record) {\n                if (this.recid && typeof record[o].recid == 'undefined') record[o].recid = record[o][this.recid];\n                if (record[o].recid == null) {\n                    console.log('ERROR: Cannot add record without recid. (obj: '+ this.name +')');\n                    continue;\n                }\n                this.records.push(record[o]);\n                added++;\n            }\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (!url) {\n                this.total = this.records.length;\n                this.localSort();\n                this.localSearch();\n            }\n            this.refresh(); // ??  should it be reload?\n            return added;\n        },\n\n        find: function (obj, returnIndex) {\n            if (obj == null) obj = {};\n            var recs    = [];\n            var hasDots = false;\n            // check if property is nested - needed for speed\n            for (var o in obj) if (String(o).indexOf('.') != -1) hasDots = true;\n            // look for an item\n            for (var i = 0; i < this.records.length; i++) {\n                var match = true;\n                for (var o in obj) {\n                    var val = this.records[i][o];\n                    if (hasDots && String(o).indexOf('.') != -1) val = this.parseField(this.records[i], o);\n                    if (obj[o] != val) match = false;\n                }\n                if (match && returnIndex !== true) recs.push(this.records[i].recid);\n                if (match && returnIndex === true) recs.push(i);\n            }\n            return recs;\n        },\n\n        set: function (recid, record, noRefresh) { // does not delete existing, but overrides on top of it\n            if (typeof recid == 'object') {\n                noRefresh = record;\n                record    = recid;\n                recid     = null;\n            }\n            // update all records\n            if (recid == null) {\n                for (var r in this.records) {\n                    $.extend(true, this.records[r], record); // recid is the whole record\n                }\n                if (noRefresh !== true) this.refresh();\n            } else { // find record to update\n                var ind = this.get(recid, true);\n                if (ind == null) return false;\n                var isSummary = (this.records[ind] && this.records[ind].recid == recid ? false : true);\n                if (isSummary) {\n                    $.extend(true, this.summary[ind], record);\n                } else {\n                    $.extend(true, this.records[ind], record);\n                }\n                if (noRefresh !== true) this.refreshRow(recid); // refresh only that record\n            }\n            return true;\n        },\n\n        get: function (recid, returnIndex) {\n            // search records\n            for (var i = 0; i < this.records.length; i++) {\n                if (this.records[i].recid == recid) {\n                    if (returnIndex === true) return i; else return this.records[i];\n                }\n            }\n            // search summary\n            for (var i = 0; i < this.summary.length; i++) {\n                if (this.summary[i].recid == recid) {\n                    if (returnIndex === true) return i; else return this.summary[i];\n                }\n            }\n            return null;\n        },\n\n        remove: function () {\n            var removed = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.records.length-1; r >= 0; r--) {\n                    if (this.records[r].recid == arguments[a]) { this.records.splice(r, 1); removed++; }\n                }\n                for (var r = this.summary.length-1; r >= 0; r--) {\n                    if (this.summary[r].recid == arguments[a]) { this.summary.splice(r, 1); removed++; }\n                }\n            }\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (!url) {\n                this.localSort();\n                this.localSearch();\n            }\n            this.refresh();\n            return removed;\n        },\n\n        addColumn: function (before, columns) {\n            var added = 0;\n            if (arguments.length == 1) {\n                columns = before;\n                before  = this.columns.length;\n            } else {\n                if (typeof before == 'string') before = this.getColumn(before, true);\n                if (before === null) before = this.columns.length;\n            }\n            if (!$.isArray(columns)) columns = [columns];\n            for (var o in columns) {\n                this.columns.splice(before, 0, columns[o]);\n                // if column is searchable, add search field\n                if (columns[o].searchable) {\n                    var stype = columns[o].searchable;\n                    var attr  = '';\n                    if (columns[o].searchable === true) { stype = 'text'; attr = 'size=\"20\"'; }\n                    this.addSearch({ field: columns[o].field, caption: columns[o].caption, type: stype, attr: attr });\n                }\n                before++;\n                added++;\n            }\n            this.refresh();\n            return added;\n        },\n\n        removeColumn: function () {\n            var removed = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.columns.length-1; r >= 0; r--) {\n                    if (this.columns[r].field == arguments[a]) { \n                        if (this.columns[r].searchable) this.removeSearch(arguments[a]);\n                        this.columns.splice(r, 1);\n                        removed++; \n                    }\n                }\n            }\n            this.refresh();\n            return removed;\n        },\n\n        getColumn: function (field, returnIndex) {\n            for (var i = 0; i < this.columns.length; i++) {\n                if (this.columns[i].field == field) {\n                    if (returnIndex === true) return i; else return this.columns[i];\n                }\n            }\n            return null;\n        },\n\n        toggleColumn: function () {\n            var effected = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.columns.length-1; r >= 0; r--) {\n                    var col = this.columns[r];\n                    if (col.field == arguments[a]) {\n                        col.hidden = !col.hidden;\n                        effected++;\n                    }\n                }\n            }\n            this.refresh();\n            return effected;\n        },\n\n        showColumn: function () {\n            var shown = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.columns.length-1; r >= 0; r--) {\n                    var col = this.columns[r];\n                    if (col.gridMinWidth) delete col.gridMinWidth;\n                    if (col.field == arguments[a] && col.hidden !== false) {\n                        col.hidden = false;\n                        shown++;\n                    }\n                }\n            }\n            this.refresh();\n            return shown;\n        },\n\n        hideColumn: function () {\n            var hidden = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.columns.length-1; r >= 0; r--) {\n                    var col = this.columns[r];\n                    if (col.field == arguments[a] && col.hidden !== true) {\n                        col.hidden = true;\n                        hidden++;\n                    }\n                }\n            }\n            this.refresh();\n            return hidden;\n        },\n\n        addSearch: function (before, search) {\n            var added = 0;\n            if (arguments.length == 1) {\n                search = before;\n                before = this.searches.length;\n            } else {\n                if (typeof before == 'string') before = this.getSearch(before, true);\n                if (before === null) before = this.searches.length;\n            }\n            if (!$.isArray(search)) search = [search];\n            for (var o in search) {\n                this.searches.splice(before, 0, search[o]);\n                before++;\n                added++;\n            }\n            this.searchClose();\n            return added;\n        },\n\n        removeSearch: function () {\n            var removed = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.searches.length-1; r >= 0; r--) {\n                    if (this.searches[r].field == arguments[a]) { this.searches.splice(r, 1); removed++; }\n                }\n            }\n            this.searchClose();\n            return removed;\n        },\n\n        getSearch: function (field, returnIndex) {\n            for (var i = 0; i < this.searches.length; i++) {\n                if (this.searches[i].field == field) {\n                    if (returnIndex === true) return i; else return this.searches[i];\n                }\n            }\n            return null;\n        },\n\n        toggleSearch: function () {\n            var effected = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.searches.length-1; r >= 0; r--) {\n                    if (this.searches[r].field == arguments[a]) {\n                        this.searches[r].hidden = !this.searches[r].hidden;\n                        effected++;\n                    }\n                }\n            }\n            this.searchClose();\n            return effected;\n        },\n\n        showSearch: function () {\n            var shown = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.searches.length-1; r >= 0; r--) {\n                    if (this.searches[r].field == arguments[a] && this.searches[r].hidden !== false) {\n                        this.searches[r].hidden = false;\n                        shown++;\n                    }\n                }\n            }\n            this.searchClose();\n            return shown;\n        },\n\n        hideSearch: function () {\n            var hidden = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                for (var r = this.searches.length-1; r >= 0; r--) {\n                    if (this.searches[r].field == arguments[a] && this.searches[r].hidden !== true) {\n                        this.searches[r].hidden = true;\n                        hidden++;\n                    }\n                }\n            }\n            this.searchClose();\n            return hidden;\n        },\n\n        getSearchData: function (field) {\n            for (var s in this.searchData) {\n                if (this.searchData[s].field == field) return this.searchData[s];\n            }\n            return null;\n        },\n\n        localSort: function (silent) {\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url) {\n                console.log('ERROR: grid.localSort can only be used on local data source, grid.url should be empty.');\n                return;\n            }\n            if ($.isEmptyObject(this.sortData)) return;\n            var time = (new Date()).getTime();\n            var obj = this;\n            // process date fields\n            obj.prepareData();\n            // process sortData\n            for (var s in this.sortData) {\n                var column = this.getColumn(this.sortData[s].field); \n                if (!column) return;\n                if (typeof column.render == 'string') {\n                    if (['date', 'age'].indexOf(column.render.split(':')[0]) != -1) {\n                        this.sortData[s]['field_'] = column.field + '_';\n                    }\n                    if (['time'].indexOf(column.render.split(':')[0]) != -1) {\n                        this.sortData[s]['field_'] = column.field + '_';\n                    }\n                }\n            }\n            // process sort\n            this.records.sort(function (a, b) {\n                var ret = 0;\n                for (var s in obj.sortData) {\n                    var fld = obj.sortData[s].field;\n                    if (obj.sortData[s].field_) fld = obj.sortData[s].field_;\n                    var aa = a[fld];\n                    var bb = b[fld];\n                    if (String(fld).indexOf('.') != -1) {\n                        aa = obj.parseField(a, fld);\n                        bb = obj.parseField(b, fld);\n                    }\n                    if (typeof aa == 'string') aa = $.trim(aa.toLowerCase());\n                    if (typeof bb == 'string') bb = $.trim(bb.toLowerCase());\n                    if (aa > bb) ret = (obj.sortData[s].direction == 'asc' ? 1 : -1);\n                    if (aa < bb) ret = (obj.sortData[s].direction == 'asc' ? -1 : 1);\n                    if (typeof aa != 'object' && typeof bb == 'object') ret = -1;\n                    if (typeof bb != 'object' && typeof aa == 'object') ret = 1;\n                    if (aa == null && bb != null) ret = 1;    // all nuls and undefined on bottom\n                    if (aa != null && bb == null) ret = -1;\n                    if (ret != 0) break;\n                }\n                return ret;\n            });\n            time = (new Date()).getTime() - time;\n            if (silent !== true && obj.show.statusSort) {\n                setTimeout(function () { \n                    obj.status(w2utils.lang('Sorting took') + ' ' + time/1000 + ' ' + w2utils.lang('sec')); \n                }, 10);\n            }\n            return time;\n        },\n\n        localSearch: function (silent) {\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url) {\n                console.log('ERROR: grid.localSearch can only be used on local data source, grid.url should be empty.');\n                return;\n            }\n            var time = (new Date()).getTime();\n            var obj = this;\n            this.total = this.records.length;\n            // mark all records as shown\n            this.last.searchIds = [];\n            // prepare date/time fields\n            this.prepareData();\n            // hide records that did not match\n            if (this.searchData.length > 0 && !url) {\n                this.total = 0;\n                for (var r in this.records) {\n                    var rec = this.records[r];\n                    var fl  = 0;\n                    for (var s in this.searchData) {\n                        var sdata      = this.searchData[s];\n                        var search     = this.getSearch(sdata.field);\n                        if (sdata  == null) continue;\n                        if (search == null) search = { field: sdata.field, type: sdata.type };\n                        var val1b = obj.parseField(rec, search.field);\n                        var val1  = String(val1b).toLowerCase();\n                        if (typeof sdata.value != 'undefined') {\n                            if (!$.isArray(sdata.value)) {\n                                var val2 = String(sdata.value).toLowerCase();\n                            } else {\n                                var val2 = sdata.value[0];\n                                var val3 = sdata.value[1];\n                            }\n                        }\n                        switch (sdata.operator) {\n                            case 'is':\n                                 if (rec[search.field] == sdata.value) fl++; // do not hide record\n                                if (search.type == 'date') {\n                                    var tmp  = (rec[search.field + '_'] instanceof Date ? rec[search.field + '_'] : rec[search.field]);\n                                    var val1 = w2utils.formatDate(tmp, 'yyyy-mm-dd');\n                                    var val2 = w2utils.formatDate(val2, 'yyyy-mm-dd');\n                                    if (val1 == val2) fl++;\n                                }\n                                if (search.type == 'time') {\n                                    var tmp  = (rec[search.field + '_'] instanceof Date ? rec[search.field + '_'] : rec[search.field]);\n                                    var val1 = w2utils.formatTime(tmp, 'h24:mi');\n                                    var val2 = w2utils.formatTime(val2, 'h24:mi');\n                                    if (val1 == val2) fl++;\n                                }\n                                break;\n                            case 'between':\n                                if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1) {\n                                    if (parseFloat(rec[search.field]) >= parseFloat(val2) && parseFloat(rec[search.field]) <= parseFloat(val3)) fl++;\n                                }\n                                if (search.type == 'date') {\n                                    var val1 = (rec[search.field + '_'] instanceof Date ? rec[search.field + '_'] : rec[search.field]);\n                                    var val2 = w2utils.isDate(val2, w2utils.settings.date_format, true);\n                                    var val3 = w2utils.isDate(val3, w2utils.settings.date_format, true);\n                                    if (val3 != null) val3 = new Date(val3.getTime() + 86400000); // 1 day\n                                    if (val1 >= val2 && val1 < val3) fl++;\n                                }\n                                if (search.type == 'time') {\n                                    var val1 = (rec[search.field + '_'] instanceof Date ? rec[search.field + '_'] : rec[search.field]);\n                                    var val2 = w2utils.isTime(val2, true);\n                                    var val3 = w2utils.isTime(val3, true);\n                                    val2 = (new Date()).setHours(val2.hours, val2.minutes, val2.seconds ? val2.seconds : 0, 0);\n                                    val3 = (new Date()).setHours(val3.hours, val3.minutes, val3.seconds ? val3.seconds : 0, 0);\n                                    if (val1 >= val2 && val1 < val3) fl++;\n                                }\n                                break;\n                            case 'in':\n                                var tmp = sdata.value;\n                                if (sdata.svalue) tmp = sdata.svalue;\n                                if (tmp.indexOf(w2utils.isFloat(val1) ? parseFloat(val1) : val1) !== -1) fl++;\n                                if (tmp.indexOf(w2utils.isFloat(val1b) ? parseFloat(val1b) : val1b) !== -1) fl++;\n                                break;\n                            case 'not in':\n                                var tmp = sdata.value;\n                                if (sdata.svalue) tmp = sdata.svalue;\n                                if (tmp.indexOf(w2utils.isFloat(val1) ? parseFloat(val1) : val1) == -1) fl++;\n                                if (tmp.indexOf(w2utils.isFloat(val1b) ? parseFloat(val1b) : val1b) == -1) fl++;\n                                break;\n                            case 'begins':\n                            case 'begins with': // need for back compatib.\n                                if (val1.indexOf(val2) == 0) fl++; // do not hide record\n                                break;\n                            case 'contains':\n                                if (val1.indexOf(val2) >= 0) fl++; // do not hide record\n                                break;\n                            case 'ends':\n                            case 'ends with': // need for back compatib.\n                                if (val1.indexOf(val2) == val1.length - val2.length) fl++; // do not hide record\n                                break;\n                        }\n                    }\n                    if ((this.last.logic == 'OR' && fl != 0) || (this.last.logic == 'AND' && fl == this.searchData.length)) this.last.searchIds.push(parseInt(r));\n                }\n                this.total = this.last.searchIds.length;\n            }\n            time = (new Date()).getTime() - time;\n            if (silent !== true && obj.show.statusSearch) {\n                setTimeout(function () { \n                    obj.status(w2utils.lang('Search took') + ' ' + time/1000 + ' ' + w2utils.lang('sec')); \n                }, 10);\n            }\n            return time;\n        },\n\n        getRangeData: function (range, extra) {\n            var rec1 = this.get(range[0].recid, true);\n            var rec2 = this.get(range[1].recid, true);\n            var col1 = range[0].column;\n            var col2 = range[1].column;\n\n            var res = [];\n            if (col1 == col2) { // one row\n                for (var r = rec1; r <= rec2; r++) {\n                    var record = this.records[r];\n                    var dt = record[this.columns[col1].field] || null;\n                    if (extra !== true) {\n                        res.push(dt);\n                    } else {\n                        res.push({ data: dt, column: col1, index: r, record: record });\n                    }\n                }\n            } else if (rec1 == rec2) { // one line\n                var record = this.records[rec1];\n                for (var i = col1; i <= col2; i++) {\n                    var dt = record[this.columns[i].field] || null;\n                    if (extra !== true) {\n                        res.push(dt);\n                    } else {\n                        res.push({ data: dt, column: i, index: rec1, record: record });\n                    }\n                }\n            } else {\n                for (var r = rec1; r <= rec2; r++) {\n                    var record = this.records[r];\n                    res.push([]);\n                    for (var i = col1; i <= col2; i++) {\n                        var dt = record[this.columns[i].field];\n                        if (extra !== true) {\n                            res[res.length-1].push(dt);\n                        } else {\n                            res[res.length-1].push({ data: dt, column: i, index: r, record: record });\n                        }\n                    }\n                }\n            }\n            return res;\n        },\n\n        addRange: function (ranges) {\n            var added = 0;\n            if (this.selectType == 'row') return added;\n            if (!$.isArray(ranges)) ranges = [ranges];\n            // if it is selection\n            for (var r in ranges) {\n                if (typeof ranges[r] != 'object') ranges[r] = { name: 'selection' };\n                if (ranges[r].name == 'selection') {\n                    if (this.show.selectionBorder === false) continue;\n                    var sel = this.getSelection();\n                    if (sel.length == 0) {\n                        this.removeRange(ranges[r].name);\n                        continue;\n                    } else {\n                        var first = sel[0];\n                        var last  = sel[sel.length-1];\n                    }\n                } else { // other range\n                    var first = ranges[r].range[0];\n                    var last  = ranges[r].range[1];\n                }\n                if (first) {\n                    var rg = {\n                        name: ranges[r].name,\n                        range: [{ recid: first.recid, column: first.column }, { recid: last.recid, column: last.column }],\n                        style: ranges[r].style || ''\n                    };\n                    // add range\n                    var ind = false;\n                    for (var t in this.ranges) if (this.ranges[t].name == ranges[r].name) { ind = r; break; }\n                    if (ind !== false) {\n                        this.ranges[ind] = rg;\n                    } else {\n                        this.ranges.push(rg);\n                    }\n                    added++\n                }\n            }\n            this.refreshRanges();\n            return added;\n        },\n\n        removeRange: function () {\n            var removed = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var name = arguments[a];\n                $('#grid_'+ this.name +'_'+ name).remove();\n                $('#grid_'+ this.name +'_f'+ name).remove();\n                for (var r = this.ranges.length-1; r >= 0; r--) {\n                    if (this.ranges[r].name == name) {\n                        this.ranges.splice(r, 1);\n                        removed++;\n                    }\n                }\n            }\n            return removed;\n        },\n\n        refreshRanges: function () {\n            var obj  = this;\n            var time = (new Date()).getTime();\n            var rec1 = $('#grid_'+ this.name +'_frecords');\n            var rec2 = $('#grid_'+ this.name +'_records');\n            for (var r in this.ranges) {\n                var rg    = this.ranges[r];\n                var first = rg.range[0];\n                var last  = rg.range[1];\n                var td1   = $('#grid_'+ this.name +'_rec_'+ first.recid + ' td[col='+ first.column +']');\n                var td2   = $('#grid_'+ this.name +'_rec_'+ last.recid + ' td[col='+ last.column +']');\n                var td1f  = $('#grid_'+ this.name +'_frec_'+ first.recid + ' td[col='+ first.column +']');\n                var td2f  = $('#grid_'+ this.name +'_frec_'+ last.recid + ' td[col='+ last.column +']');\n                var sel1  = $('#grid_'+ this.name +'_rec_top').next().find('td.w2ui-selected');\n                var sel2  = $('#grid_'+ this.name +'_rec_bottom').prev().find('td.w2ui-selected');\n                var sel1f = $('#grid_'+ this.name +'_frec_top').next().find('td.w2ui-selected');\n                var sel2f = $('#grid_'+ this.name +'_frec_bottom').prev().find('td.w2ui-selected');\n                // if virtual scrolling kicked in\n                if ((td1.length == 0 && td2.length != 0) || sel1.length > 0) {\n                    td1  = $('#grid_'+ this.name +'_rec_top').next().find('td[col='+ first.column +']');\n                }\n                if ((td2.length == 0 && td1.length != 0) || sel2.length > 0) {\n                    td2  = $('#grid_'+ this.name +'_rec_bottom').prev().find('td[col='+ last.column +']');\n                }\n                if ((td1f.length == 0 && td2f.length != 0) || sel1f.length > 0) { // frozen\n                    td1f = $('#grid_'+ this.name +'_frec_top').next().find('td[col='+ first.column +']');\n                }\n                if ((td2f.length == 0 && td1f.length != 0) || sel2f.length > 0) { // frozen\n                    td2f = $('#grid_'+ this.name +'_frec_bottom').prev().find('td[col='+ last.column +']');\n                }\n                // frozen regular columns range\n                var $range = $('#grid_'+ this.name +'_f'+ rg.name);\n                if (td1f.length > 0 || td2f.length > 0) {\n                    if ($range.length == 0) {\n                        rec1.append('<div id=\"grid_'+ this.name +'_f' + rg.name +'\" class=\"w2ui-selection\" style=\"'+ rg.style +'\">'+\n                                        (rg.name == 'selection' ?  '<div id=\"grid_'+ this.name +'_resizer\" class=\"w2ui-selection-resizer\"></div>' : '')+\n                                    '</div>');\n                        $range = $('#grid_'+ this.name +'_f'+ rg.name);\n                    } else {\n                        $range.attr('style', rg.style);\n                        $range.find('.w2ui-selection-resizer').show();\n                    }\n                    if (td2f.length == 0) {\n                        td2f  = $('#grid_'+ this.name +'_frec_'+ last.recid + ' td:last-child');\n                        if (td2f.length == 0) td2f = $('#grid_'+ this.name +'_frec_bottom td:first-child');\n                        $range.css('border-right', '0px');\n                        $range.find('.w2ui-selection-resizer').hide();\n                    }\n                    if (first.recid != null && last.recid != null) {\n                        $range.show().css({\n                            left    : (td1f.position().left - 1 + rec1.scrollLeft()) + 'px',\n                            top     : (td1f.position().top - 1 + rec1.scrollTop()) + 'px',\n                            width   : (td2f.position().left - td1f.position().left + td2f.width() + 3) + 'px',\n                            height  : (td2f.position().top - td1f.position().top + td2f.height() + 3) + 'px'\n                        });\n                    }\n                } else {\n                    $range.hide();                   \n                }\n                // regular columns range\n                var $range = $('#grid_'+ this.name +'_'+ rg.name);\n                if (td1.length > 0 || td2.length > 0) {\n                    if ($range.length == 0) {\n                        rec2.append('<div id=\"grid_'+ this.name +'_' + rg.name +'\" class=\"w2ui-selection\" style=\"'+ rg.style +'\">'+\n                                        (rg.name == 'selection' ?  '<div id=\"grid_'+ this.name +'_resizer\" class=\"w2ui-selection-resizer\"></div>' : '')+\n                                    '</div>');\n                        $range = $('#grid_'+ this.name +'_'+ rg.name);\n                    } else {\n                        $range.attr('style', rg.style);\n                    }\n                    if (td1.length == 0) {\n                        td1 = $('#grid_'+ this.name +'_rec_'+ first.recid + ' td:first-child');\n                        if (td1.length == 0) td1 = $('#grid_'+ this.name +'_rec_top td:first-child');\n                        $range.css('border-left', '0px');\n                    }\n                    if (first.recid != null && last.recid != null) {\n                        $range.show().css({\n                            left    : (td1.position().left - 1 + rec2.scrollLeft()) + 'px',\n                            top     : (td1.position().top - 1 + rec2.scrollTop()) + 'px',\n                            width   : (td2.position().left - td1.position().left + td2.width() + 3) + 'px',\n                            height  : (td2.position().top - td1.position().top + td2.height() + 3) + 'px'\n                        });\n                    }\n                } else {\n                    $range.hide();                   \n                }\n            }\n\n            // add resizer events\n            $(this.box).find('.w2ui-selection-resizer').off('mousedown').on('mousedown', mouseStart);\n            var eventData = { phase: 'before', type: 'selectionExtend', target: obj.name, originalRange: null, newRange: null };\n\n            function mouseStart (event) {\n                var sel = obj.getSelection();\n                obj.last.move = {\n                    type   : 'expand',\n                    x      : event.screenX,\n                    y      : event.screenY,\n                    divX   : 0,\n                    divY   : 0,\n                    recid  : sel[0].recid,\n                    column : sel[0].column,\n                    originalRange : [{ recid: sel[0].recid, column: sel[0].column }, { recid: sel[sel.length-1].recid, column: sel[sel.length-1].column }],\n                    newRange      : [{ recid: sel[0].recid, column: sel[0].column }, { recid: sel[sel.length-1].recid, column: sel[sel.length-1].column }]\n                };\n                $(document).off('mousemove', mouseMove).on('mousemove', mouseMove);\n                $(document).off('mouseup', mouseStop).on('mouseup', mouseStop);\n            }\n\n            function mouseMove (event) {\n                var mv = obj.last.move;\n                if (!mv || mv.type != 'expand') return;\n                mv.divX = (event.screenX - mv.x);\n                mv.divY = (event.screenY - mv.y);\n                // find new cell\n                var recid, column;\n                var tmp = event.originalEvent.target;\n                if (tmp.tagName != 'TD') tmp = $(tmp).parents('td')[0];\n                if (typeof $(tmp).attr('col') != 'undefined') column = parseInt($(tmp).attr('col'));\n                tmp = $(tmp).parents('tr')[0];\n                recid = $(tmp).attr('recid');\n                // new range\n                if (mv.newRange[1].recid == recid && mv.newRange[1].column == column) return;\n                var prevNewRange = $.extend({}, mv.newRange);\n                mv.newRange = [{ recid: mv.recid, column: mv.column }, { recid: recid, column: column }];\n                // event before\n                eventData = obj.trigger($.extend(eventData, { originalRange: mv.originalRange, newRange : mv.newRange }));\n                if (eventData.isCancelled === true) {\n                    mv.newRange        = prevNewRange;\n                    eventData.newRange = prevNewRange;\n                    return;\n                } else {\n                    // default behavior\n                    obj.removeRange('grid-selection-expand');\n                    obj.addRange({\n                        name  : 'grid-selection-expand',\n                        range : eventData.newRange,\n                        style : 'background-color: rgba(100,100,100,0.1); border: 2px dotted rgba(100,100,100,0.5);'\n                    });\n                }\n            }\n\n            function mouseStop (event) {\n                // default behavior\n                obj.removeRange('grid-selection-expand');\n                delete obj.last.move;\n                $(document).off('mousemove', mouseMove);\n                $(document).off('mouseup', mouseStop);\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n            }\n\n            return (new Date()).getTime() - time;\n        },\n\n        select: function () {\n            if (arguments.length == 0) return 0;\n            var time = (new Date).getTime();\n            var selected = 0;\n            var sel = this.last.selection;\n            if (!this.multiSelect) this.selectNone();\n\n            // event before\n            var tmp = { phase: 'before', type: 'select', target: this.name };\n            if (arguments.length == 1) {\n                tmp.multiple = false;\n                if ($.isPlainObject(arguments[0])) {\n                    tmp.recid  = arguments[0].recid;\n                    tmp.column = arguments[0].column;\n                } else {\n                    tmp.recid = arguments[0];\n                }\n            } else {\n                tmp.multiple = true;\n                tmp.recids   = Array.prototype.slice.call(arguments, 0);\n            }\n            var eventData = this.trigger(tmp);\n            if (eventData.isCancelled === true) return 0;\n\n            // default action\n            if (this.selectType == 'row') {\n                for (var a = 0; a < arguments.length; a++) {\n                    var recid  = typeof arguments[a] == 'object' ? arguments[a].recid : arguments[a];\n                    var index = this.get(recid, true);\n                    if (index == null) continue;\n                    var recEl1 = null;\n                    var recEl2 = null;\n                    if (this.searchData.length !== 0 || (index + 1 >= this.last.range_start && index + 1 <= this.last.range_end)) {\n                        recEl1 = $('#grid_'+ this.name +'_frec_'+ w2utils.escapeId(recid));\n                        recEl2 = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(recid));\n                    }\n                    if (this.selectType == 'row') {\n                        if (sel.indexes.indexOf(index) != -1) continue;\n                        sel.indexes.push(index);\n                        if (recEl1 && recEl2) {\n                            recEl1.addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n                            recEl2.addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n                            recEl1.find('.w2ui-grid-select-check').prop(\"checked\", true);\n                        }\n                        selected++;\n                    }\n                }              \n            } else {\n                // normalize for perforamce    \n                var new_sel = {};\n                for (var a = 0; a < arguments.length; a++) {\n                    var recid  = typeof arguments[a] == 'object' ? arguments[a].recid : arguments[a];\n                    var column = typeof arguments[a] == 'object' ? arguments[a].column : null;\n                    new_sel[recid] = new_sel[recid] || [];\n                    if (w2utils.isInt(column)) {\n                        new_sel[recid].push(column);    \n                    } else {\n                        for (var c in this.columns) { if (this.columns[c].hidden) continue; new_sel[recid].push(parseInt(c)); }\n                    }\n                }\n                // add all\n                var col_sel = [];\n                for (var recid in new_sel) {\n                    var index = this.get(recid, true);\n                    if (index == null) continue;\n                    var recEl1 = null;\n                    var recEl2 = null;\n                    if (index + 1 >= this.last.range_start && index + 1 <= this.last.range_end) {\n                        recEl1 = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(recid));\n                        recEl2 = $('#grid_'+ this.name +'_frec_'+ w2utils.escapeId(recid));\n                    }\n                    var s = sel.columns[index] || [];\n                    // default action\n                    if (sel.indexes.indexOf(index) == -1) {\n                        sel.indexes.push(index);\n                    }\n                    // anly only those that are new\n                    for (var t = 0; t < new_sel[recid].length; t++) {\n                        if (s.indexOf(new_sel[recid][t]) == -1) s.push(new_sel[recid][t]);\n                    }\n                    s.sort(function(a, b) { return a-b }); // sort function must be for numerical sort\n                    for (var t = 0; t < new_sel[recid].length; t++) {\n                        var col = new_sel[recid][t];\n                        if (col_sel.indexOf(col) == -1) col_sel.push(col);\n                        if (recEl1) {\n                            recEl1.find('#grid_'+ this.name +'_data_'+ index +'_'+ col).addClass('w2ui-selected');\n                            recEl1.find('.w2ui-col-number').addClass('w2ui-row-selected');\n                            recEl1.data('selected', 'yes');\n                            recEl1.find('.w2ui-grid-select-check').prop(\"checked\", true);\n                        }\n                        if (recEl2) {\n                            recEl2.find('#grid_'+ this.name +'_data_'+ index +'_'+ col).addClass('w2ui-selected');\n                            recEl2.find('.w2ui-col-number').addClass('w2ui-row-selected');\n                            recEl2.data('selected', 'yes');\n                            recEl2.find('.w2ui-grid-select-check').prop(\"checked\", true);\n                        }\n                        selected++;\n                    }\n                    // save back to selection object\n                    sel.columns[index] = s;\n                }\n                // select columns (need here for speed)\n                for (var c = 0; c < col_sel.length; c++) {\n                    $(this.box).find('#grid_'+ this.name +'_column_'+ col_sel[c] +' .w2ui-col-header').addClass('w2ui-col-selected');\n                }\n            }\n            // need to sort new selection for speed\n            sel.indexes.sort(function(a, b) { return a-b });\n            // all selected?\n            if (sel.indexes.length == this.records.length || (this.searchData.length !== 0 && sel.indexes.length == this.last.searchIds.length)) {\n                $('#grid_'+ this.name +'_check_all').prop('checked', true);\n            } else {\n                $('#grid_'+ this.name +'_check_all').prop('checked', false);\n            }\n            this.status();\n            this.addRange('selection');\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return selected;\n        },\n\n        unselect: function () {\n            var unselected = 0;\n            var sel = this.last.selection;\n            for (var a = 0; a < arguments.length; a++) {\n                var recid  = typeof arguments[a] == 'object' ? arguments[a].recid : arguments[a];\n                var record = this.get(recid);\n                if (record == null) continue;\n                var index  = this.get(record.recid, true);\n                var recEl1 = $('#grid_'+ this.name +'_frec_'+ w2utils.escapeId(recid));\n                var recEl2 = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(recid));\n                if (this.selectType == 'row') {\n                    if (sel.indexes.indexOf(index) == -1) continue;\n                    // event before\n                    var eventData = this.trigger({ phase: 'before', type: 'unselect', target: this.name, recid: recid, index: index });\n                    if (eventData.isCancelled === true) continue;\n                    // default action\n                    sel.indexes.splice(sel.indexes.indexOf(index), 1);\n                    recEl1.removeClass('w2ui-selected').removeData('selected').find('.w2ui-col-number').removeClass('w2ui-row-selected');\n                    recEl2.removeClass('w2ui-selected').removeData('selected').find('.w2ui-col-number').removeClass('w2ui-row-selected');\n                    if (recEl1.length != 0) {\n                        recEl1[0].style.cssText = 'height: '+ this.recordHeight +'px; ' + recEl1.attr('custom_style');\n                        recEl2[0].style.cssText = 'height: '+ this.recordHeight +'px; ' + recEl2.attr('custom_style');\n                    }\n                    recEl1.find('.w2ui-grid-select-check').prop(\"checked\", false);\n                    unselected++;\n                } else {\n                    var col  = arguments[a].column;\n                    if (!w2utils.isInt(col)) { // unselect all columns\n                        var cols = [];\n                        for (var c in this.columns) { if (this.columns[c].hidden) continue; cols.push({ recid: recid, column: parseInt(c) }); }\n                        return this.unselect.apply(this, cols);\n                    }\n                    var s = sel.columns[index];\n                    if (!$.isArray(s) || s.indexOf(col) == -1) continue;\n                    // event before\n                    var eventData = this.trigger({ phase: 'before', type: 'unselect', target: this.name, recid: recid, column: col });\n                    if (eventData.isCancelled === true) continue;\n                    // default action\n                    s.splice(s.indexOf(col), 1);\n                    $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(recid)).find(' > td[col='+ col +']').removeClass('w2ui-selected');\n                    $('#grid_'+ this.name +'_frec_'+ w2utils.escapeId(recid)).find(' > td[col='+ col +']').removeClass('w2ui-selected');\n                    // check if any row/column still selected\n                    var isColSelected = false;\n                    var isRowSelected = false;\n                    var tmp = this.getSelection();\n                    for (var t in tmp) {\n                        if (tmp[t].column == col) isColSelected = true; \n                        if (tmp[t].recid == recid) isRowSelected = true;\n                    }\n                    if (!isColSelected) {\n                       $(this.box).find('.w2ui-grid-columns td[col='+ col +'] .w2ui-col-header').removeClass('w2ui-col-selected');\n                    }\n                    if (!isRowSelected) {\n                        $('#grid_'+ this.name +'_frec_'+ w2utils.escapeId(recid)).find('.w2ui-col-number').removeClass('w2ui-row-selected');\n                    }\n                    unselected++;\n                    if (s.length == 0) {\n                        delete sel.columns[index];\n                        sel.indexes.splice(sel.indexes.indexOf(index), 1);\n                        recEl1.removeData('selected');\n                        recEl1.find('.w2ui-grid-select-check').prop(\"checked\", false);\n                        recEl2.removeData('selected');\n                    }\n                }\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n            }\n            // all selected?\n            if (sel.indexes.length == this.records.length || (this.searchData.length !== 0 && sel.indexes.length == this.last.searchIds.length)) {\n                $('#grid_'+ this.name +'_check_all').prop('checked', true);\n            } else {\n                $('#grid_'+ this.name +'_check_all').prop('checked', false);\n            }\n            // show number of selected\n            this.status();\n            this.addRange('selection');\n            return unselected;\n        },\n\n        selectAll: function () {\n            var time = (new Date()).getTime();\n            if (this.multiSelect === false) return;\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'select', target: this.name, all: true });\n            if (eventData.isCancelled === true) return;\n            // default action\n            var url  = (typeof this.url != 'object' ? this.url : this.url.get);\n            var sel  = this.last.selection;\n            var cols = [];\n            for (var c in this.columns) cols.push(parseInt(c));\n            // if local data source and searched\n            sel.indexes = [];\n            if (!url && this.searchData.length !== 0) {\n                // local search applied\n                for (var i = 0; i < this.last.searchIds.length; i++) {\n                    sel.indexes.push(this.last.searchIds[i]);\n                    if (this.selectType != 'row') sel.columns[this.last.searchIds[i]] = cols.slice(); // .slice makes copy of the array\n                }\n            } else {\n                var buffered = this.records.length;\n                if (this.searchData.length != 0 && !this.url) buffered = this.last.searchIds.length;\n                for (var i = 0; i < buffered; i++) {\n                    sel.indexes.push(i);\n                    if (this.selectType != 'row') sel.columns[i] = cols.slice(); // .slice makes copy of the array\n                }\n            }\n            // add selected class\n            if (this.selectType == 'row') {\n                $(this.box).find('.w2ui-grid-records tr').not('.w2ui-empty-record')\n                    .addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n                $(this.box).find('.w2ui-grid-frecords tr').not('.w2ui-empty-record')\n                    .addClass('w2ui-selected').data('selected', 'yes').find('.w2ui-col-number').addClass('w2ui-row-selected');\n                $(this.box).find('input.w2ui-grid-select-check').prop('checked', true);\n            } else {\n                $(this.box).find('.w2ui-grid-columns td .w2ui-col-header').addClass('w2ui-col-selected');\n                $(this.box).find('.w2ui-grid-records tr .w2ui-col-number').addClass('w2ui-row-selected')\n                $(this.box).find('.w2ui-grid-records tr').not('.w2ui-empty-record')\n                    .find('.w2ui-grid-data').not('.w2ui-col-select').addClass('w2ui-selected').data('selected', 'yes');\n                $(this.box).find('.w2ui-grid-frecords tr .w2ui-col-number').addClass('w2ui-row-selected')\n                $(this.box).find('.w2ui-grid-frecords tr').not('.w2ui-empty-record')\n                    .find('.w2ui-grid-data').not('.w2ui-col-select').addClass('w2ui-selected').data('selected', 'yes');\n                $(this.box).find('input.w2ui-grid-select-check').prop('checked', true);\n            }\n            // enable/disable toolbar buttons\n            var sel = this.getSelection();\n            if (sel.length == 1) this.toolbar.enable('w2ui-edit'); else this.toolbar.disable('w2ui-edit');\n            if (sel.length >= 1) this.toolbar.enable('w2ui-delete'); else this.toolbar.disable('w2ui-delete');\n            this.addRange('selection');\n            $('#grid_'+ this.name +'_check_all').prop('checked', true);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        selectNone: function () {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'unselect', target: this.name, all: true });\n            if (eventData.isCancelled === true) return;\n            // default action\n            var sel = this.last.selection;\n            // remove selected class\n            if (this.selectType == 'row') {\n                $(this.box).find('.w2ui-grid-records tr.w2ui-selected').removeClass('w2ui-selected').removeData('selected')\n                    .find('.w2ui-col-number').removeClass('w2ui-row-selected');\n                $(this.box).find('.w2ui-grid-frecords tr.w2ui-selected').removeClass('w2ui-selected').removeData('selected')\n                    .find('.w2ui-col-number').removeClass('w2ui-row-selected');\n                $(this.box).find('input.w2ui-grid-select-check').prop('checked', false);\n            } else {\n                $(this.box).find('.w2ui-grid-columns td .w2ui-col-header').removeClass('w2ui-col-selected');\n                $(this.box).find('.w2ui-grid-records tr .w2ui-col-number').removeClass('w2ui-row-selected');\n                $(this.box).find('.w2ui-grid-frecords tr .w2ui-col-number').removeClass('w2ui-row-selected');\n                $(this.box).find('.w2ui-grid-data.w2ui-selected').removeClass('w2ui-selected').removeData('selected');\n                $(this.box).find('input.w2ui-grid-select-check').prop('checked', false);\n            }\n            sel.indexes = [];\n            sel.columns = {};\n            this.toolbar.disable('w2ui-edit', 'w2ui-delete');\n            this.removeRange('selection');\n            $('#grid_'+ this.name +'_check_all').prop('checked', false);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        getSelection: function (returnIndex) {\n            var ret = [];\n            var sel = this.last.selection;\n            if (this.selectType == 'row') {\n                for (var s in sel.indexes) {\n                    if (!this.records[sel.indexes[s]]) continue;\n                    if (returnIndex === true) ret.push(sel.indexes[s]); else ret.push(this.records[sel.indexes[s]].recid);\n                }\n                return ret;\n            } else {\n                for (var s in sel.indexes) {\n                    var cols = sel.columns[sel.indexes[s]];\n                    if (!this.records[sel.indexes[s]]) continue;\n                    for (var c in cols) {\n                        ret.push({ recid: this.records[sel.indexes[s]].recid, index: parseInt(sel.indexes[s]), column: cols[c] });\n                    }\n                }\n                return ret;\n            }\n        },\n\n        search: function (field, value) {\n            var obj         = this;\n            var url         = (typeof this.url != 'object' ? this.url : this.url.get);\n            var searchData  = [];\n            var last_multi  = this.last.multi;\n            var last_logic  = this.last.logic;\n            var last_field  = this.last.field;\n            var last_search = this.last.search;\n            // 1: search() - advanced search (reads from popup)\n            if (arguments.length == 0) {\n                last_search = '';\n                // advanced search\n                for (var s in this.searches) {\n                    var search   = this.searches[s];\n                    var operator = $('#grid_'+ this.name + '_operator_'+ s).val();\n                    var field1   = $('#grid_'+ this.name + '_field_'+ s);\n                    var field2   = $('#grid_'+ this.name + '_field2_'+ s);\n                    var value1   = field1.val();\n                    var value2   = field2.val();\n                    var svalue   = null;\n                    if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1) {\n                        var fld1 = field1.data('w2field');\n                        var fld2 = field2.data('w2field');\n                        if (fld1) value1 = fld1.clean(value1);\n                        if (fld2) value2 = fld2.clean(value2);\n                    }\n                    if (['list', 'enum'].indexOf(search.type) != -1) {\n                        value1 = field1.data('selected') || {};\n                        if ($.isArray(value1)) {\n                            svalue = [];\n                            for (var v in value1) {\n                                svalue.push(w2utils.isFloat(value1[v].id) ? parseFloat(value1[v].id) : String(value1[v].id).toLowerCase());\n                                delete value1[v].hidden;\n                            }\n                        } else {\n                            value1 = value1.id || '';\n                        }\n                        if ($.isEmptyObject(value1)) value1 = '';\n                    }\n                    if ((value1 !== '' && value1 != null) || (typeof value2 != 'undefined' && value2 !== '')) {\n                        var tmp = {\n                            field    : search.field,\n                            type     : search.type,\n                            operator : operator\n                        }\n                        if (operator == 'between') {\n                            $.extend(tmp, { value: [value1, value2] });\n                        } else if (operator == 'in' && typeof value1 == 'string') {\n                            $.extend(tmp, { value: value1.split(',') });\n                        } else if (operator == 'not in' && typeof value1 == 'string') {\n                            $.extend(tmp, { value: value1.split(',') });\n                        } else {\n                            $.extend(tmp, { value: value1 });\n                        }\n                        if (svalue) $.extend(tmp, { svalue: svalue });\n                        // conver date to unix time\n                        try {\n                            if (search.type == 'date' && operator == 'between') {\n                                tmp.value[0] = value1; // w2utils.isDate(value1, w2utils.settings.date_format, true).getTime();\n                                tmp.value[1] = value2; // w2utils.isDate(value2, w2utils.settings.date_format, true).getTime();\n                            }\n                            if (search.type == 'date' && operator == 'is') {\n                                tmp.value = value1; // w2utils.isDate(value1, w2utils.settings.date_format, true).getTime();\n                            }\n                        } catch (e) {\n\n                        }\n                        searchData.push(tmp);\n                    }\n                }\n                if (searchData.length > 0 && !url) {\n                    last_multi = true;\n                    last_logic = 'AND';\n                } else {\n                    last_multi = true;\n                    last_logic = 'AND';\n                }\n            }\n            // 2: search(field, value) - regular search\n            if (typeof field == 'string') {\n                last_field  = field;\n                last_search = value;\n                last_multi  = false;\n                last_logic  = 'OR';\n                // loop through all searches and see if it applies\n                if (typeof value != 'undefined') {\n                    if (field.toLowerCase() == 'all') {\n                        // if there are search fields loop thru them\n                        if (this.searches.length > 0) {\n                            for (var s in this.searches) {\n                                var search = this.searches[s];\n                                if (search.type == 'text' || (search.type == 'alphanumeric' && w2utils.isAlphaNumeric(value))\n                                        || (search.type == 'int' && w2utils.isInt(value)) || (search.type == 'float' && w2utils.isFloat(value))\n                                        || (search.type == 'percent' && w2utils.isFloat(value)) || (search.type == 'hex' && w2utils.isHex(value))\n                                        || (search.type == 'currency' && w2utils.isMoney(value)) || (search.type == 'money' && w2utils.isMoney(value))\n                                        || (search.type == 'date' && w2utils.isDate(value)) ) {\n                                    var tmp = {\n                                        field    : search.field,\n                                        type     : search.type,\n                                        operator : (search.type == 'text' ? 'contains' : 'is'),\n                                        value    : value\n                                    };\n                                    if ($.trim(value) != '') searchData.push(tmp);\n                                }\n                                // range in global search box\n                                if (['int', 'float', 'money', 'currency', 'percent'].indexOf(search.type) != -1 && $.trim(String(value)).split('-').length == 2) {\n                                    var t = $.trim(String(value)).split('-');\n                                    var tmp = {\n                                        field    : search.field,\n                                        type     : search.type,\n                                        operator : 'between',\n                                        value    : [t[0], t[1]]\n                                    };\n                                    searchData.push(tmp);\n                                }\n                                // lists fiels\n                                if (['list', 'enum'].indexOf(search.type) != -1) {\n                                    var new_values = [];\n                                    for (var key in search.options.items) {\n                                        var tmp = search.options.items[key];\n                                        try {\n                                            var re = new RegExp(value, 'i');\n                                            if (re.test(tmp)) new_values.push(key);\n                                            if (tmp.text && re.test(tmp.text)) new_values.push(tmp.id);\n                                        } catch (e) {}\n                                    }\n                                    if (new_values.length > 0) {\n                                        var tmp = {\n                                            field    : search.field,\n                                            type     : search.type,\n                                            operator : 'in',\n                                            value    : new_values\n                                        };\n                                        searchData.push(tmp);\n                                    }\n                                }\n                            }\n                        } else {\n                            // no search fields, loop thru columns\n                            for (var c in this.columns) {\n                                var tmp = {\n                                    field    : this.columns[c].field,\n                                    type     : 'text',\n                                    operator : 'contains',\n                                    value    : value\n                                };\n                                searchData.push(tmp);\n                            }\n                        }\n                    } else {\n                        var el = $('#grid_'+ this.name +'_search_all');\n                        var search = this.getSearch(field);\n                        if (search == null) search = { field: field, type: 'text' };\n                        if (search.field == field) this.last.caption = search.caption;\n                        if (value !== '') {\n                            var op  = 'contains';\n                            var val = value;\n                            if (['date', 'time'].indexOf(search.type) != -1) op = 'is';\n                            if (['list', 'enum'].indexOf(search.type) != -1) {\n                                op = 'is';\n                                var tmp = el.data('selected');\n                                if (tmp && !$.isEmptyObject(tmp)) val = tmp.id; else val = '';\n                            }\n                            if (search.type == 'int' && value !== '') {\n                                op = 'is';\n                                if (String(value).indexOf('-') != -1) {\n                                    var tmp = value.split('-');\n                                    if (tmp.length == 2) {\n                                        op = 'between';\n                                        val = [parseInt(tmp[0]), parseInt(tmp[1])];\n                                    }\n                                }\n                                if (String(value).indexOf(',') != -1) {\n                                    var tmp = value.split(',');\n                                    op  = 'in';\n                                    val = [];\n                                    for (var t in tmp) val.push(tmp[t]);\n                                }\n                            }\n                            var tmp = {\n                                field    : search.field,\n                                type     : search.type,\n                                operator : op,\n                                value    : val\n                            };\n                            searchData.push(tmp);\n                        }\n                    }\n                }\n            }\n            // 3: search([ { field, value, [operator,] [type] }, { field, value, [operator,] [type] } ], logic) - submit whole structure\n            if ($.isArray(field)) {\n                var logic = 'AND';\n                if (typeof value == 'string') {\n                    logic = value.toUpperCase();\n                    if (logic != 'OR' && logic != 'AND') logic = 'AND';\n                }\n                last_search = '';\n                last_multi  = true;\n                last_logic  = logic;\n                for (var f in field) {\n                    var data   = field[f];\n                    var search = this.getSearch(data.field);\n                    if (search == null) search = { type: 'text', operator: 'contains' };\n                    if ($.isArray(data.value)) {\n                        for (var v in data.value) {\n                            if (typeof data.value[v] == 'string') data.value[v] = data.value[v].toLowerCase();\n                        }\n                    }\n                    // merge current field and search if any\n                    searchData.push($.extend(true, {}, search, data));\n                }\n            }\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'search', target: this.name, searchData: searchData,\n                    searchField: (field ? field : 'multi'), searchValue: (value ? value : 'multi') });\n            if (eventData.isCancelled === true) return;\n            // default action\n            this.searchData  = eventData.searchData;\n            this.last.field  = last_field;\n            this.last.search = last_search;\n            this.last.multi  = last_multi;\n            this.last.logic  = last_logic;\n            this.last.scrollTop         = 0;\n            this.last.scrollLeft        = 0;\n            this.last.selection.indexes = [];\n            this.last.selection.columns = {};\n            // -- clear all search field\n            this.searchClose();\n            this.set({ expanded: false }, true);\n            // apply search\n            if (url) {\n                this.last.xhr_offset = 0;\n                this.reload();\n            } else {\n                // local search\n                this.localSearch();\n                this.refresh();\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        searchOpen: function () {\n            if (!this.box) return;\n            if (this.searches.length == 0) return;\n            var obj = this;\n            // show search\n            $('#tb_'+ this.name +'_toolbar_item_w2ui-search-advanced').w2overlay(\n                this.getSearchesHTML(),    {\n                    name    : 'searches-'+ this.name,\n                    left    : -10,\n                    'class' : 'w2ui-grid-searches',\n                    onShow  : function () {\n                        if (obj.last.logic == 'OR') obj.searchData = [];\n                        obj.initSearches();\n                        $('#w2ui-overlay-searches-'+ this.name +' .w2ui-grid-searches').data('grid-name', obj.name);\n                        var sfields = $('#w2ui-overlay-searches-'+ this.name +' .w2ui-grid-searches *[rel=search]');\n                        if (sfields.length > 0) sfields[0].focus();\n                    }\n                }\n            );\n        },\n\n        searchClose: function () {\n            if (!this.box) return;\n            if (this.searches.length == 0) return;\n            if (this.toolbar) this.toolbar.uncheck('w2ui-search-advanced');\n            // hide search\n            if ($('#w2ui-overlay-searches-'+ this.name +' .w2ui-grid-searches').length > 0) {\n                $().w2overlay('', { name: 'searches-'+ this.name });\n            }\n        },\n\n        searchReset: function (noRefresh) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'search', target: this.name, searchData: [] });\n            if (eventData.isCancelled === true) return;\n            // default action\n            this.searchData  = [];\n            this.last.search = '';\n            this.last.logic  = 'OR';\n            // --- do not reset to All Fields (I think)\n            if (this.last.multi) {\n                if (!this.multiSearch) {\n                    this.last.field   = this.searches[0].field;\n                    this.last.caption = this.searches[0].caption;\n                } else {\n                    this.last.field   = 'all';\n                    this.last.caption = w2utils.lang('All Fields');\n                }\n            }\n            this.last.multi      = false;\n            this.last.xhr_offset = 0;\n            // reset scrolling position\n            this.last.scrollTop  = 0;\n            this.last.scrollLeft = 0;\n            this.last.selection.indexes = [];\n            this.last.selection.columns = {};\n            // -- clear all search field\n            this.searchClose();\n            $('#grid_'+ this.name +'_search_all').val('');\n            // apply search\n            if (!noRefresh) this.reload();\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },        \n\n        searchShowFields: function () {\n            var el   = $('#grid_'+ this.name +'_search_all');\n            var html = '<div class=\"w2ui-select-field\"><table>';\n            for (var s = -1; s < this.searches.length; s++) {\n                var search = this.searches[s];\n                if (s == -1) {\n                    if (!this.multiSearch) continue;\n                    search = { field: 'all', caption: w2utils.lang('All Fields') };\n                } else {\n                    if (this.searches[s].hidden === true) continue;\n                }\n                html += '<tr '+ (w2utils.isIOS ? 'onTouchStart' : 'onClick') +'=\"w2ui[\\''+ this.name +'\\'].initAllField(\\''+ search.field +'\\')\">'+\n                        '    <td><input type=\"radio\" tabIndex=\"-1\" '+ (search.field == this.last.field ? 'checked' : '') +'></td>'+\n                        '    <td>'+ search.caption +'</td>'+\n                        '</tr>';\n            }\n            html += \"</table></div>\";\n            // need timer otherwise does nto show with list type\n            setTimeout(function () {\n                $(el).w2overlay(html, { left: -10 });\n            }, 1);\n        },\n\n        initAllField: function (field, value) {\n            var el = $('#grid_'+ this.name +'_search_all');\n            if (field == 'all') {\n                var search = { field: 'all', caption: w2utils.lang('All Fields') };\n                el.w2field('clear');\n                el.change().focus();\n            } else {\n                var search = this.getSearch(field);\n                if (search == null) return;\n                var st = search.type;\n                if (['enum', 'select'].indexOf(st) != -1) st = 'list';\n                el.w2field(st, $.extend({}, search.options, { suffix: '', autoFormat: false, selected: value }));\n                if (['list', 'enum', 'date', 'time'].indexOf(search.type) != -1) {\n                    this.last.search = '';\n                    this.last.item   = '';\n                    el.val('');\n                }\n                // set focus\n                setTimeout(function () { \n                    if (value !== null) el.focus(); /* do not do el.change() as it will refresh grid and pull from server */ \n                }, 1);\n            }\n            // update field\n            if (this.last.search != '') {\n                this.search(search.field, this.last.search);\n            } else {\n                this.last.field   = search.field;\n                this.last.caption = search.caption;\n            }\n            el.attr('placeholder', search.caption);\n            $().w2overlay();\n        },\n\n        clear: function (noRefresh) {\n            // this.offset              = 0;   // clear should not reset offset\n            // this.total               = 0;   // clear should not reset total\n            this.records                = [];\n            this.summary                = [];\n            this.last.scrollTop         = 0;\n            this.last.scrollLeft        = 0;\n            this.last.selection.indexes = [];\n            this.last.selection.columns = {};\n            this.last.range_start       = null;\n            this.last.range_end         = null;\n            this.last.xhr_offset        = 0;   // need this for reload button to work on remote data set\n            if (!noRefresh) this.refresh();\n        },\n\n        reset: function (noRefresh) {\n            // this.offset              = 0;   // reset should not reset offset\n            // this.total               = 0;   // reset should not reset total\n            this.last.scrollTop         = 0;\n            this.last.scrollLeft        = 0;\n            this.last.selection.indexes = [];\n            this.last.selection.columns = {};\n            this.last.range_start       = null;\n            this.last.range_end         = null;\n            this.last.xhr_offset        = 0;\n            // this.searchReset(noRefresh);     // do not reset search fields\n            // initial sort\n            if (this.last.sortData != null ) this.sortData = this.last.sortData;\n            // select none without refresh\n            this.set({ expanded: false }, true);\n            // refresh\n            if (!noRefresh) this.refresh();\n        },\n\n        skip: function (offset) {\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url) {\n                this.offset = parseInt(offset);\n                if (this.offset > this.total) this.offset = this.total - this.limit;\n                if (this.offset < 0 || !w2utils.isInt(this.offset)) this.offset = 0;\n                this.records  = [];\n                this.last.xhr_offset = 0;\n                this.last.pull_more  = true;\n                this.last.scrollTop  = 0;\n                this.last.scrollLeft = 0;\n                $('#grid_'+ this.name +'_records').prop('scrollTop',  0);\n                this.reload();\n            } else {\n                console.log('ERROR: grid.skip() can only be called when you have remote data source.');\n            }\n        },\n\n        load: function (url, callBack) {\n            if (typeof url == 'undefined') {\n                console.log('ERROR: You need to provide url argument when calling .load() method of \"'+ this.name +'\" object.');\n                return;\n            }\n            // default action\n            this.request('get-records', {}, url, callBack);\n        },\n\n        reload: function (callBack) {\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url) {\n                this.clear(true);\n                this.request('get-records', {}, null, callBack);\n            } else {\n                this.last.scrollTop   = 0;\n                this.last.scrollLeft  = 0;\n                this.last.range_start = null;\n                this.last.range_end   = null;\n                this.localSearch();\n                this.refresh();\n                if (typeof callBack == 'function') callBack({ status: 'success' });\n            }\n        },\n\n        request: function (cmd, add_params, url, callBack) {\n            if (typeof add_params == 'undefined') add_params = {};\n            if (url == '' || url == null) url = this.url;\n            if (url == '' || url == null) return;\n            // build parameters list\n            var params = {};\n            if (!w2utils.isInt(this.offset)) this.offset = 0;\n            if (!w2utils.isInt(this.last.xhr_offset)) this.last.xhr_offset = 0;\n            // add list params\n            params['cmd']         = cmd;\n            params['selected']    = this.getSelection();\n            params['limit']       = this.limit;\n            params['offset']      = parseInt(this.offset) + this.last.xhr_offset;\n            params['search']      = this.searchData;\n            params['searchLogic'] = this.last.logic;\n            params['sort']        = this.sortData;\n            if (this.searchData.length == 0) {\n                delete params['search'];\n                delete params['searchLogic'];\n            }\n            if (this.sortData.length == 0) {\n                delete params['sort'];\n            }\n            // append other params\n            $.extend(params, this.postData);\n            $.extend(params, add_params);\n            // event before\n            if (cmd == 'get-records') {\n                var eventData = this.trigger({ phase: 'before', type: 'request', target: this.name, url: url, postData: params });\n                if (eventData.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n            } else {\n                var eventData = { url: url, postData: params };\n            }\n            // call server to get data\n            var obj = this;\n            if (this.last.xhr_offset == 0) {\n                this.lock(this.msgRefresh, true);\n            } else {\n                var more = $('#grid_'+ this.name +'_rec_more');\n                if (this.autoLoad === true) {\n                    more.show().find('td').html('<div><div style=\"width: 20px; height: 20px;\" class=\"w2ui-spinner\"></div></div>');\n                } else {\n                    more.find('td').html('<div>'+ w2utils.lang('Load') + ' ' + obj.limit + ' ' + w2utils.lang('More') + '...</div>');\n                }\n            }\n            if (this.last.xhr) try { this.last.xhr.abort(); } catch (e) {}\n            // URL\n            var url = (typeof eventData.url != 'object' ? eventData.url : eventData.url.get);\n            if (params.cmd == 'save-records' && typeof eventData.url == 'object')   url = eventData.url.save;\n            if (params.cmd == 'delete-records' && typeof eventData.url == 'object') url = eventData.url.remove;\n            // process url with routeData\n            if (!$.isEmptyObject(obj.routeData)) {\n                var info  = w2utils.parseRoute(url);\n                if (info.keys.length > 0) {\n                    for (var k = 0; k < info.keys.length; k++) {\n                        if (obj.routeData[info.keys[k].name] == null) continue;\n                        url = url.replace((new RegExp(':'+ info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n                    }\n                }\n            }\n            // ajax ptions\n            var ajaxOptions = {\n                type     : 'POST',\n                url      : url,\n                data     : eventData.postData, \n                dataType : 'text'  // expected data type from server\n            };\n            if (w2utils.settings.dataType == 'HTTP') {\n                ajaxOptions.data = (typeof ajaxOptions.data == 'object' ? String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']') : ajaxOptions.data);\n            }\n            if (w2utils.settings.dataType == 'RESTFULL') {\n                ajaxOptions.type = 'GET';\n                if (params.cmd == 'save-records')   ajaxOptions.type = 'PUT';  // so far it is always update\n                if (params.cmd == 'delete-records') ajaxOptions.type = 'DELETE';\n                ajaxOptions.data = (typeof ajaxOptions.data == 'object' ? String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']') : ajaxOptions.data);\n            }\n            if (w2utils.settings.dataType == 'JSON') {\n                ajaxOptions.type        = 'POST';\n                ajaxOptions.data        = JSON.stringify(ajaxOptions.data);\n                ajaxOptions.contentType = 'application/json';\n            }\n            if (this.method) ajaxOptions.type = this.method;\n\n            this.last.xhr_cmd   = params.cmd;\n            this.last.xhr_start = (new Date()).getTime();\n            this.last.xhr = $.ajax(ajaxOptions)\n                .done(function (data, status, xhr) {\n                    obj.requestComplete(status, cmd, callBack);\n                })\n                .fail(function (xhr, status, error) {\n                    // trigger event\n                    var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n                    var eventData2 = obj.trigger({ phase: 'before', type: 'error', error: errorObj, xhr: xhr });\n                    if (eventData2.isCancelled === true) return;\n                    // default behavior\n                    if (status != 'abort') { // it can be aborted by the grid itself\n                        var data;\n                        try { data = $.parseJSON(xhr.responseText) } catch (e) {}\n                        console.log('ERROR: Server communication failed.', \n                            '\\n   EXPECTED:', { status: 'success', total: 5, records: [{ recid: 1, field: 'value' }] }, \n                            '\\n         OR:', { status: 'error', message: 'error message' },\n                            '\\n   RECEIVED:', typeof data == 'object' ? data : xhr.responseText);\n                        obj.requestComplete('error', cmd, callBack);\n                    }\n                    // event after\n                    obj.trigger($.extend(eventData2, { phase: 'after' }));\n                });\n            if (cmd == 'get-records') {\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n            }\n        },\n\n        requestComplete: function(status, cmd, callBack) {\n            var obj = this;\n            this.unlock();\n            setTimeout(function () { \n                if (obj.show.statusResponse) obj.status(w2utils.lang('Server Response') + ' ' + ((new Date()).getTime() - obj.last.xhr_start)/1000 +' ' + w2utils.lang('sec')); \n            }, 10);\n            this.last.pull_more    = false;\n            this.last.pull_refresh = true;\n\n            // event before\n            var event_name = 'load';\n            if (this.last.xhr_cmd == 'save-records') event_name   = 'save';\n            if (this.last.xhr_cmd == 'delete-records') event_name = 'deleted';\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: event_name, xhr: this.last.xhr, status: status });\n            if (eventData.isCancelled === true) {\n                if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' });\n                return;\n            }\n            // parse server response\n            var data;\n            var responseText = this.last.xhr.responseText;\n            if (status != 'error') {\n                // default action\n                if (typeof responseText != 'undefined' && responseText != '') {\n                    // check if the onLoad handler has not already parsed the data\n                    if (typeof responseText == \"object\") {\n                        data = responseText;\n                    } else {\n                        if (typeof obj.parser == 'function') {\n                            data = obj.parser(responseText);\n                            if (typeof data != 'object') {\n                                console.log('ERROR: Your parser did not return proper object');\n                            }\n                        } else {\n                            // $.parseJSON or $.getJSON did not work because those expect perfect JSON data - where everything is in double quotes\n                            //\n                            // TODO: avoid (potentially malicious) code injection from the response.\n                            try { eval('data = '+ responseText); } catch (e) { }\n                        }\n                    }\n                    if (data == null) {\n                        data = {\n                            status       : 'error',\n                            message      : this.msgNotJSON,\n                            responseText : responseText\n                        };\n                    } else if (obj.recid) {\n                        // convert recids\n                        for (var r in data.records) {\n                            data.records[r]['recid'] = data.records[r][obj.recid];\n                        }\n                    }\n                    if (data['status'] == 'error') {\n                        obj.error(data['message']);\n                    } else {\n                        if (cmd == 'get-records') {\n                            if (this.last.xhr_offset == 0) {\n                                this.records = [];\n                                this.summary = [];\n                                //data.xhr_status=data.status;\n                                delete data.status;\n                                $.extend(true, this, data);\n                            } else {\n                                if (parseInt(data.total) != parseInt(this.total)) {\n                                    w2alert(this.msgNeedReload);\n                                    delete this.last.xhr_offset;\n                                    this.reload();\n                                    return;\n                                }\n                                var records = data.records;\n                                delete data.records;\n                                delete data.status;\n                                $.extend(true, this, data);\n                                for (var r = 0; r < records.length; r++) {\n                                    this.records.push(records[r]);\n                                }\n                            }\n                        }\n                        if (cmd == 'delete-records') {\n                            this.reset(); // unselect old selections\n                            this.reload();\n                            return;\n                        }\n                    }\n                }\n            } else {\n                data = {\n                    status       : 'error',\n                    message      : this.msgAJAXerror,\n                    responseText : responseText\n                };\n                obj.error(this.msgAJAXerror);\n            }\n            // event after\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (!url) {\n                this.localSort();\n                this.localSearch();\n            }\n            this.total = parseInt(this.total);\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            // do not refresh if loading on infinite scroll\n            if (this.last.xhr_offset == 0) this.refresh(); else this.scroll();\n            // call back\n            if (typeof callBack == 'function') callBack(data);\n        },\n\n        error: function (msg) {\n            var obj = this;\n            // let the management of the error outside of the grid\n            var eventData = this.trigger({ target: this.name, type: 'error', message: msg , xhr: this.last.xhr });\n            if (eventData.isCancelled === true) {\n                if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' });\n                return;\n            }\n            w2alert(msg, 'Error');\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        getChanges: function () {\n            var changes = [];\n            for (var r = 0; r < this.records.length; r++) {\n                var rec = this.records[r];\n                if (typeof rec['changes'] != 'undefined') {\n                    changes.push($.extend(true, { recid: rec.recid }, rec.changes));\n                }\n            }\n            return changes;\n        },\n\n        mergeChanges: function () {\n            var changes = this.getChanges();\n            for (var c = 0; c < changes.length; c++) {\n                var record = this.get(changes[c].recid);\n                for (var s in changes[c]) {\n                    if (s == 'recid') continue; // do not allow to change recid\n                    try { eval('record.' + s + ' = changes[c][s]'); } catch (e) {}\n                    delete record.changes;\n                }\n            }\n            this.refresh();\n        },\n\n        // ===================================================\n        // --  Action Handlers\n\n        save: function () {\n            var obj = this;\n            var changes = this.getChanges();\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'submit', changes: changes });\n            if (eventData.isCancelled === true) return;\n            var url = (typeof this.url != 'object' ? this.url : this.url.save);\n            if (url) {\n                this.request('save-records', { 'changes' : eventData.changes }, null,\n                    function (data) {\n                        if (data.status !== 'error') {\n                            // only merge changes, if save was successful\n                            obj.mergeChanges();\n                        }\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                    }\n                );\n            } else {\n                this.mergeChanges();\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n            }\n        },\n\n        editField: function (recid, column, value, event) {\n            var obj   = this;\n            var index = obj.get(recid, true);\n            var rec   = obj.records[index];\n            var col   = obj.columns[column];\n            var edit  = col ? col.editable : null;\n            if (!rec || !col || !edit || rec.editable === false) return;\n            if (['enum', 'file'].indexOf(edit.type) != -1) {\n                console.log('ERROR: input types \"enum\" and \"file\" are not supported in inline editing.');\n                return;\n            }\n            // event before\n            var eventData = obj.trigger({ phase: 'before', type: 'editField', target: obj.name, recid: recid, column: column, value: value,\n                index: index, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            value = eventData.value;\n            // default behaviour\n            this.selectNone();\n            this.select({ recid: recid, column: column });\n            this.last.edit_col = column;\n            if (['checkbox', 'check'].indexOf(edit.type) != -1) return;\n            // create input element\n            var tr = $('#grid_'+ obj.name +'_rec_'+ w2utils.escapeId(recid));\n            var el = tr.find('[col='+ column +'] > div');\n            if (typeof edit.inTag   == 'undefined') edit.inTag   = '';\n            if (typeof edit.outTag  == 'undefined') edit.outTag  = '';\n            if (typeof edit.style   == 'undefined') edit.style   = '';\n            if (typeof edit.items   == 'undefined') edit.items   = [];\n            var val = (rec.changes && typeof rec.changes[col.field] != 'undefined' ? w2utils.stripTags(rec.changes[col.field]) : w2utils.stripTags(rec[col.field]));\n            if (val == null) val = '';\n            if (value != null) val = value;\n            var addStyle = (typeof col.style != 'undefined' ? col.style + ';' : '');\n            if (typeof col.render == 'string' && ['number', 'int', 'float', 'money', 'percent'].indexOf(col.render.split(':')[0]) != -1) {\n                addStyle += 'text-align: right;';\n            }\n            // mormalize items\n            if (edit.items.length > 0 && !$.isPlainObject(edit.items[0])) {\n                edit.items = w2obj.field.prototype.normMenu(edit.items);\n            }\n            if (edit.type == 'select') {\n                var html = '';\n                for (var i = 0; i < edit.items.length; i++) {\n                    html += '<option value=\"'+ edit.items[i].id +'\" '+ (edit.items[i].id == val ? 'selected' : '') +'>'+ edit.items[i].text +'</option>';\n                }\n                el.addClass('w2ui-editable')\n                    .html('<select id=\"grid_'+ obj.name +'_edit_'+ recid +'_'+ column +'\" column=\"'+ column +'\" '+\n                        '    style=\"width: 100%; '+ addStyle + edit.style +'\" field=\"'+ col.field +'\" recid=\"'+ recid +'\" '+\n                        '    '+ edit.inTag +\n                        '>'+ html +'</select>' + edit.outTag);\n                el.find('select').focus()\n                    .on('change', function (event) {\n                        delete obj.last.move;\n                    })\n                    .on('blur', function (event) {\n                        obj.editChange.call(obj, this, index, column, event);\n                    });\n            } else {\n                el.addClass('w2ui-editable')\n                    .html('<input id=\"grid_'+ obj.name +'_edit_'+ recid +'_'+ column +'\" '+\n                        '    type=\"text\" style=\"font-family: inherit; font-size: inherit; outline: none; '+ addStyle + edit.style +'\" field=\"'+ col.field +'\" recid=\"'+ recid +'\" '+\n                        '    column=\"'+ column +'\" '+ edit.inTag +\n                        '>' + edit.outTag);\n                // issue #499\n                if (typeof val == 'number') {\n                    val = w2utils.formatNumber(val);\n                }\n                if (value == null) el.find('input').val(typeof val != 'object' ? val : '');\n                // init w2field\n                var input = el.find('input').get(0);\n                $(input).w2field(edit.type, $.extend(edit, { selected: val }));\n                // add blur listener\n                setTimeout(function () {\n                    var tmp = input;\n                    if (edit.type == 'list') {\n                        tmp = $($(input).data('w2field').helpers.focus).find('input');\n                        if (typeof val != 'object' && val != '') tmp.val(val).css({ opacity: 1 }).prev().css({ opacity: 1 });\n                    }\n                    $(tmp).on('blur', function (event) {\n                        obj.editChange.call(obj, input, index, column, event);\n                    });\n                }, 10);\n                if (value != null) $(input).val(typeof val != 'object' ? val : '');\n            }\n            setTimeout(function () {\n                el.find('input, select')\n                    .on('click', function (event) {\n                        event.stopPropagation();\n                    })\n                    .on('keydown', function (event) {\n                        var cancel = false;\n                        switch (event.keyCode) {\n                            case 9:  // tab\n                                cancel = true;\n                                var next_rec = recid;\n                                var next_col = event.shiftKey ? obj.prevCell(column, true) : obj.nextCell(column, true);\n                                // next or prev row\n                                if (next_col == null) {\n                                    var tmp = event.shiftKey ? obj.prevRow(index) : obj.nextRow(index);\n                                    if (tmp != null && tmp != index) {\n                                        next_rec = obj.records[tmp].recid;\n                                        // find first editable row\n                                        for (var c = 0; c < obj.columns.length; c++) {\n                                            var tmp = obj.columns[c].editable;\n                                            if (typeof tmp != 'undefined' && ['checkbox', 'check'].indexOf(tmp.type) == -1) {\n                                                next_col = parseInt(c);\n                                                if (!event.shiftKey) break;\n                                            }\n                                        }\n                                    }\n\n                                }\n                                if (next_rec === false) next_rec = recid;\n                                if (next_col == null) next_col = column;\n                                // init new or same record\n                                this.blur();\n                                setTimeout(function () {\n                                    if (obj.selectType != 'row') {\n                                        obj.selectNone();\n                                        obj.select({ recid: next_rec, column: next_col });\n                                    } else {\n                                        obj.editField(next_rec, next_col, null, event);\n                                    }\n                                }, 1);\n                                break;\n\n                            case 13: // enter\n                                this.blur();\n                                var next = event.shiftKey ? obj.prevRow(index) : obj.nextRow(index);\n                                if (next != null && next != index) {\n                                    setTimeout(function () {\n                                        if (obj.selectType != 'row') {\n                                            obj.selectNone();\n                                            obj.select({ recid: obj.records[next].recid, column: column });\n                                        } else {\n                                            obj.editField(obj.records[next].recid, column, null, event);\n                                        }\n                                    }, 100);\n                                }\n                                break;\n\n                            case 38: // up arrow\n                                if (!event.shiftKey) break;\n                                cancel = true;\n                                var next = obj.prevRow(index);\n                                if (next != index) {\n                                    this.blur();\n                                    setTimeout(function () {\n                                        if (obj.selectType != 'row') {\n                                            obj.selectNone();\n                                            obj.select({ recid: obj.records[next].recid, column: column });\n                                        } else {\n                                            obj.editField(obj.records[next].recid, column, null, event);\n                                        }\n                                    }, 1);\n                                }\n                                break;\n\n                            case 40: // down arrow\n                                if (!event.shiftKey) break;\n                                cancel = true;\n                                var next = obj.nextRow(index);\n                                if (next != null && next != index) {\n                                    this.blur();\n                                    setTimeout(function () {\n                                        if (obj.selectType != 'row') {\n                                            obj.selectNone();\n                                            obj.select({ recid: obj.records[next].recid, column: column });\n                                        } else {\n                                            obj.editField(obj.records[next].recid, column, null, event);\n                                        }\n                                    }, 1);\n                                }\n                                break;\n\n                            case 27: // escape\n                                var old = obj.parseField(rec, col.field);\n                                if (rec.changes && typeof rec.changes[col.field] != 'undefined') old = rec.changes[col.field];\n                                this.value = typeof old != 'undefined' ? old : '';\n                                this.blur();\n                                setTimeout(function () { obj.select({ recid: recid, column: column }) }, 1);\n                                break;\n                        }\n                        if (cancel) if (event.preventDefault) event.preventDefault();\n                    });\n                // focus and select\n                var tmp = el.find('input').focus();\n                if (value != null) {\n                    // set cursor to the end\n                    tmp[0].setSelectionRange(tmp.val().length, tmp.val().length);\n                } else {\n                    tmp.select();\n                }\n\n            }, 1);\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        editChange: function (el, index, column, event) {\n            // all other fields\n            var summary = index < 0;\n            index = index < 0 ? -index - 1 : index;\n            var records = summary ? this.summary : this.records;\n            var rec     = records[index];\n            var tr      = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(rec.recid));\n            var col     = this.columns[column];\n            var new_val = el.value;\n            var old_val = this.parseField(rec, col.field);\n            var tmp     = $(el).data('w2field');\n            if (tmp) {\n                new_val = tmp.clean(new_val);\n                if (tmp.type == 'list' && new_val != '') new_val = $(el).data('selected');\n            }\n            if (el.type == 'checkbox') new_val = el.checked;\n            // change/restore event\n            var eventData = {\n                phase: 'before', type: 'change', target: this.name, input_id: el.id, recid: rec.recid, index: index, column: column,\n                value_new: new_val, value_previous: (rec.changes && rec.changes.hasOwnProperty(col.field) ? rec.changes[col.field]: old_val), value_original: old_val\n            };\n            if (old_val == null) old_val = '';\n            while (true) {\n                new_val = eventData.value_new;\n                if ((typeof new_val != 'object' && String(old_val) != String(new_val)) || \n                    (typeof new_val == 'object' && (typeof old_val != 'object' || old_val === null || new_val.id != old_val.id))) {\n                    // change event\n                    eventData = this.trigger($.extend(eventData, { type: 'change', phase: 'before' }));\n                    if (eventData.isCancelled !== true) {\n                        if (new_val !== eventData.value_new) {\n                            // re-evaluate the type of change to be made\n                            continue;\n                        }\n                        // default action\n                        rec.changes = rec.changes || {};\n                        rec.changes[col.field] = eventData.value_new;\n                        // event after\n                        this.trigger($.extend(eventData, { phase: 'after' }));\n                    }\n                } else {\n                    // restore event\n                    eventData = this.trigger($.extend(eventData, { type: 'restore', phase: 'before' }));\n                    if (eventData.isCancelled !== true) {\n                        if (new_val !== eventData.value_new) {\n                            // re-evaluate the type of change to be made\n                            continue;\n                        }\n                        // default action\n                        if (rec.changes) delete rec.changes[col.field];\n                        if ($.isEmptyObject(rec.changes)) delete rec.changes;\n                        // event after\n                        this.trigger($.extend(eventData, { phase: 'after' }));\n                    }\n                }\n                break;\n            }\n            // refresh cell\n            var cell = this.getCellHTML(index, column, summary);\n            if (!summary) {\n                if (rec.changes && typeof rec.changes[col.field] != 'undefined') {\n                    $(tr).find('[col='+ column +']').addClass('w2ui-changed').html(cell);\n                } else {\n                    $(tr).find('[col='+ column +']').removeClass('w2ui-changed').html(cell);\n                }\n            }\n        },\n\n        \"delete\": function (force) {\n            var time = (new Date()).getTime();\n            var obj = this;\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'delete', force: force });\n            if (eventData.isCancelled === true) return;\n            force = eventData.force;\n            // default action\n            var recs = this.getSelection();\n            if (recs.length == 0) return;\n            if (this.msgDelete != '' && !force) {\n                w2confirm({\n                    title : w2utils.lang('Delete Confirmation'), \n                    msg   : obj.msgDelete, \n                    yes_class : 'btn-red',\n                    callBack: function (result) {\n                        if (result == 'Yes') w2ui[obj.name]['delete'](true);\n                    }\n                });\n                return;\n            }\n            // call delete script\n            var url = (typeof this.url != 'object' ? this.url : this.url.remove);\n            if (url) {\n                this.request('delete-records');\n            } else {\n                this.selectNone();\n                if (typeof recs[0] != 'object') {\n                    this.remove.apply(this, recs);\n                } else {\n                    // clear cells\n                    for (var r = 0; r < recs.length; r++) {\n                        var fld = this.columns[recs[r].column].field;\n                        var ind = this.get(recs[r].recid, true);\n                        var rec = this.records[ind];\n                        if (ind != null && fld != 'recid') {\n                            this.records[ind][fld] = '';\n                            if (rec.changes) delete rec.changes[fld];\n                            // -- style should not be deleted\n                            // if (rec.style != null && $.isPlainObject(rec.style) && rec.style[recs[r].column]) {\n                            //     delete rec.style[recs[r].column];\n                            // }\n                        }\n                    }\n                    this.update();\n                }\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        click: function (recid, event) {\n            var time = (new Date()).getTime();\n            var column = null;\n            if (this.last.cancelClick == true || (event && event.altKey)) return;\n            if (typeof recid == 'object') {\n                column = recid.column;\n                recid  = recid.recid;\n            }\n            if (typeof event == 'undefined') event = {};\n            // check for double click\n            if (time - parseInt(this.last.click_time) < 350 && event.type == 'click') {\n                this.dblClick(recid, event);\n                return;\n            }\n            this.last.click_time = time;\n            // column user clicked on\n            if (column == null && event.target) {\n                var tmp = event.target;\n                if (tmp.tagName != 'TD') tmp = $(tmp).parents('td')[0];\n                if (typeof $(tmp).attr('col') != 'undefined') column = parseInt($(tmp).attr('col'));\n            }\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'click', recid: recid, column: column, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // if it is subgrid unselect top grid\n            var parent = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(recid)).parents('tr');\n            if (parent.length > 0 && String(parent.attr('id')).indexOf('expanded_row') != -1) {\n                var grid  = parent.parents('.w2ui-grid').attr('name');\n                w2ui[grid].selectNone();\n                // all subgrids\n                parent.parents('.w2ui-grid').find('.w2ui-expanded-row .w2ui-grid').each(function (index, el) {\n                    var grid = $(el).attr('name');\n                    if (w2ui[grid]) w2ui[grid].selectNone();\n                });\n            }\n            // unselect all subgrids\n            $(this.box).find('.w2ui-expanded-row .w2ui-grid').each(function (index, el) {\n                var grid = $(el).attr('name');\n                if (w2ui[grid]) w2ui[grid].selectNone();\n            });\n            // default action\n            var obj = this;\n            var sel = this.getSelection();\n            $('#grid_'+ this.name +'_check_all').prop(\"checked\", false);\n            var ind    = this.get(recid, true);\n            var record = this.records[ind];\n            var selectColumns  = [];\n            obj.last.sel_ind   = ind;\n            obj.last.sel_col   = column;\n            obj.last.sel_recid = recid;\n            obj.last.sel_type  = 'click';\n            // multi select with shif key\n            if (event.shiftKey && sel.length > 0 && obj.multiSelect) {\n                if (sel[0].recid) {\n                    var start = this.get(sel[0].recid, true);\n                    var end   = this.get(recid, true);\n                    if (column > sel[0].column) {\n                        var t1 = sel[0].column;\n                        var t2 = column;\n                    } else {\n                        var t1 = column;\n                        var t2 = sel[0].column;\n                    }\n                    for (var c = t1; c <= t2; c++) selectColumns.push(c);\n                } else {\n                    var start = this.get(sel[0], true);\n                    var end   = this.get(recid, true);\n                }\n                var sel_add = []\n                if (start > end) { var tmp = start; start = end; end = tmp; }\n                var url = (typeof this.url != 'object' ? this.url : this.url.get);\n                for (var i = start; i <= end; i++) {\n                    if (this.searchData.length > 0 && !url && $.inArray(i, this.last.searchIds) == -1) continue;\n                    if (this.selectType == 'row') {\n                        sel_add.push(this.records[i].recid);\n                    } else {\n                        for (var sc = 0; sc < selectColumns.length; sc++) {\n                            sel_add.push({ recid: this.records[i].recid, column: selectColumns[sc] });\n                        }\n                    }\n                    //sel.push(this.records[i].recid);\n                }\n                this.select.apply(this, sel_add);\n            } else {\n                var last = this.last.selection;\n                var flag = (last.indexes.indexOf(ind) != -1 ? true : false);\n                // clear other if necessary\n                if (((!event.ctrlKey && !event.shiftKey && !event.metaKey) || !this.multiSelect) && !this.showSelectColumn) {\n                    if (this.selectType != 'row' && $.inArray(column, last.columns[ind]) == -1) flag = false;\n                    if (sel.length > 300) this.selectNone(); else this.unselect.apply(this, sel);\n                    if (flag === true) {\n                        this.unselect({ recid: recid, column: column });\n                    } else {\n                        this.select({ recid: recid, column: column });\n                    }\n                } else {\n                    if (this.selectType != 'row' && $.inArray(column, last.columns[ind]) == -1) flag = false;\n                    if (flag === true) {\n                        this.unselect({ recid: recid, column: column });\n                    } else {\n                        this.select({ recid: recid, column: column });\n                    }\n                }\n            }\n            this.status();\n            obj.initResize();\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        columnClick: function (field, event) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'columnClick', target: this.name, field: field, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default behaviour\n            var column = this.getColumn(field);\n            if (column && column.sortable) this.sort(field, null, (event && (event.ctrlKey || event.metaKey) ? true : false) );\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        focus: function (event) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'focus', target: this.name, originalEvent: event });\n            if (eventData.isCancelled === true) return false;\n            // default behaviour\n            $(this.box).find('.w2ui-selected').removeClass('w2ui-inactive');\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        blur: function (event) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'blur', target: this.name, originalEvent: event });\n            if (eventData.isCancelled === true) return false;\n            // default behaviour\n            $(this.box).find('.w2ui-selected').addClass('w2ui-inactive');\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        keydown: function (event) {\n            // this method is called from w2utils\n            var obj = this;\n            if (obj.keyboard !== true) return;\n            // trigger event\n            var eventData = obj.trigger({ phase: 'before', type: 'keydown', target: obj.name, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default behavior\n            var empty   = false;\n            var records = $('#grid_'+ obj.name +'_records');\n            var sel     = obj.getSelection();\n            if (sel.length == 0) empty = true;\n            var recid   = sel[0] || null;\n            var columns = [];\n            var recid2  = sel[sel.length-1];\n            if (typeof recid == 'object' && recid != null) {\n                recid   = sel[0].recid;\n                columns = [];\n                var ii  = 0;\n                while (true) {\n                    if (!sel[ii] || sel[ii].recid != recid) break;\n                    columns.push(sel[ii].column);\n                    ii++;\n                }\n                recid2  = sel[sel.length-1].recid;\n            }\n            var ind    = obj.get(recid, true);\n            var ind2   = obj.get(recid2, true);\n            var rec    = obj.get(recid);\n            var recEL  = $('#grid_'+ obj.name +'_rec_'+ (ind !== null ? w2utils.escapeId(obj.records[ind].recid) : 'none'));\n            var cancel = false;\n            var key    = event.keyCode;\n            var shiftKey= event.shiftKey;\n            if (key == 9) { // tab key\n                if (event.shiftKey) key = 37; else key = 39; // replace with arrows\n                shiftKey = false;\n                cancel   = true;\n            }\n            switch (key) {\n                case 8:  // backspace\n                case 46: // delete\n                    if (this.show.toolbarDelete || this.onDelete) obj[\"delete\"]();\n                    cancel = true;\n                    event.stopPropagation();\n                    break;\n\n                case 27: // escape\n                    obj.selectNone();\n                    if (sel.length > 0 && typeof sel[0] == 'object') {\n                        obj.select({ recid: sel[0].recid, column: sel[0].column });\n                    }\n                    cancel = true;\n                    break;\n\n                case 65: // cmd + A\n                    if (!event.metaKey && !event.ctrlKey) break;\n                    obj.selectAll();\n                    cancel = true;\n                    break;\n\n                case 70: // cmd + F\n                    if (!event.metaKey && !event.ctrlKey) break;\n                    $('#grid_'+ obj.name + '_search_all').focus();\n                    cancel = true;\n                    break;\n\n                case 13: // enter\n                    // if expandable columns - expand it\n                    if (this.selectType == 'row' && obj.show.expandColumn === true) {\n                        if (recEL.length <= 0) break;\n                        obj.toggle(recid, event);\n                        cancel = true;\n                    } else { // or enter edit\n                        for (var c = 0; c < this.columns.length; c++) {\n                            if (this.columns[c].editable) {\n                                columns.push(parseInt(c));\n                                break;\n                            }\n                        }\n                        // edit last column that was edited\n                        if (this.selectType == 'row' && this.last.edit_col) columns = [this.last.edit_col];\n                        if (columns.length > 0) {\n                            obj.editField(recid, columns[0], null, event);\n                            cancel = true;\n                        }\n                    }\n                    break;\n\n                case 37: // left\n                    if (empty) break;\n                    // check if this is subgrid\n                    var parent = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(obj.records[ind].recid)).parents('tr');\n                    if (parent.length > 0 && String(parent.attr('id')).indexOf('expanded_row') != -1) {\n                        var recid = parent.prev().attr('recid');\n                        var grid  = parent.parents('.w2ui-grid').attr('name');\n                        obj.selectNone();\n                        w2utils.keyboard.active(grid);\n                        w2ui[grid].set(recid, { expanded: false });\n                        w2ui[grid].collapse(recid);\n                        w2ui[grid].click(recid);\n                        cancel = true;\n                        break;\n                    }\n                    if (this.selectType == 'row') {\n                        if (recEL.length <= 0 || rec.expanded !== true ) break;\n                        obj.set(recid, { expanded: false }, true);\n                        obj.collapse(recid, event);\n                    } else {\n                        var prev = obj.prevCell(columns[0]);\n                        if (prev != null) {\n                            if (shiftKey && obj.multiSelect) {\n                                if (tmpUnselect()) return;\n                                var tmp    = [];\n                                var newSel = [];\n                                var unSel  = [];\n                                if (columns.indexOf(this.last.sel_col) == 0 && columns.length > 1) {\n                                    for (var i = 0; i < sel.length; i++) {\n                                        if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                                        unSel.push({ recid: sel[i].recid, column: columns[columns.length-1] });\n                                    }\n                                } else {\n                                    for (var i = 0; i < sel.length; i++) {\n                                        if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                                        newSel.push({ recid: sel[i].recid, column: prev });\n                                    }\n                                }\n                                obj.unselect.apply(obj, unSel);\n                                obj.select.apply(obj, newSel);\n                            } else {\n                                event.shiftKey = false;\n                                obj.click({ recid: recid, column: prev }, event);\n                            }\n                        } else {\n                            // if selected more then one, then select first\n                            if (!shiftKey) {\n                                if (sel.length > 1) {\n                                    obj.selectNone();\n                                } else {\n                                    for (var s = 1; s < sel.length; s++) obj.unselect(sel[s]);\n                                }\n                            }\n                        }\n                    }\n                    cancel = true;\n                    break;\n\n                case 39: // right\n                    if (empty) break;\n                    if (this.selectType == 'row') {\n                        if (recEL.length <= 0 || rec.expanded === true || obj.show.expandColumn !== true) break;\n                        obj.expand(recid, event);\n                    } else {\n                        var next = obj.nextCell(columns[columns.length-1]);\n                        if (next !== null) {\n                            if (shiftKey && key == 39 && obj.multiSelect) {\n                                if (tmpUnselect()) return;\n                                var tmp    = [];\n                                var newSel = [];\n                                var unSel  = [];\n                                if (columns.indexOf(this.last.sel_col) == columns.length-1 && columns.length > 1) {\n                                    for (var i = 0; i < sel.length; i++) {\n                                        if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                                        unSel.push({ recid: sel[i].recid, column: columns[0] });\n                                    }\n                                } else {\n                                    for (var i = 0; i < sel.length; i++) {\n                                        if (tmp.indexOf(sel[i].recid) == -1) tmp.push(sel[i].recid);\n                                        newSel.push({ recid: sel[i].recid, column: next });\n                                    }\n                                }\n                                obj.unselect.apply(obj, unSel);\n                                obj.select.apply(obj, newSel);\n                            } else {\n                                obj.click({ recid: recid, column: next }, event);\n                            }\n                        } else {\n                            // if selected more then one, then select first\n                            if (!shiftKey) {\n                                if (sel.length > 1) {\n                                    obj.selectNone();\n                                } else {\n                                    for (var s = 0; s < sel.length-1; s++) obj.unselect(sel[s]);\n                                }\n                            }\n                        }\n                    }\n                    cancel = true;\n                    break;\n\n                case 38: // up\n                    if (empty) selectTopRecord();\n                    if (recEL.length <= 0) break;\n                    // move to the previous record\n                    var prev = obj.prevRow(ind);\n                    if (prev != null) {\n                        // jump into subgrid\n                        if (obj.records[prev].expanded) {\n                            var subgrid = $('#grid_'+ obj.name +'_rec_'+ w2utils.escapeId(obj.records[prev].recid) +'_expanded_row').find('.w2ui-grid');\n                            if (subgrid.length > 0 && w2ui[subgrid.attr('name')]) {\n                                obj.selectNone();\n                                var grid = subgrid.attr('name');\n                                var recs = w2ui[grid].records;\n                                w2utils.keyboard.active(grid);\n                                w2ui[grid].click(recs[recs.length-1].recid);\n                                cancel = true;\n                                break;\n                            }\n                        }\n                        if (shiftKey && obj.multiSelect) { // expand selection\n                            if (tmpUnselect()) return;\n                            if (obj.selectType == 'row') {\n                                if (obj.last.sel_ind > prev && obj.last.sel_ind != ind2) {\n                                    obj.unselect(obj.records[ind2].recid);\n                                } else {\n                                    obj.select(obj.records[prev].recid);\n                                }\n                            } else {\n                                if (obj.last.sel_ind > prev && obj.last.sel_ind != ind2) {\n                                    prev = ind2;\n                                    var tmp = [];\n                                    for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[prev].recid, column: columns[c] });\n                                    obj.unselect.apply(obj, tmp);\n                                } else {\n                                    var tmp = [];\n                                    for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[prev].recid, column: columns[c] });\n                                    obj.select.apply(obj, tmp);\n                                }\n                            }\n                        } else { // move selected record\n                            obj.selectNone();\n                            obj.click({ recid: obj.records[prev].recid, column: columns[0] }, event);\n                        }\n                        obj.scrollIntoView(prev);\n                        if (event.preventDefault) event.preventDefault();\n                    } else {\n                        // if selected more then one, then select first\n                        if (!shiftKey) {\n                            if (sel.length > 1) {\n                                obj.selectNone();\n                            } else {\n                                for (var s = 1; s < sel.length; s++) obj.unselect(sel[s]);\n                            }\n                        }\n                        // jump out of subgird (if first record)\n                        var parent = $('#grid_'+ obj.name +'_rec_'+ w2utils.escapeId(obj.records[ind].recid)).parents('tr');\n                        if (parent.length > 0 && String(parent.attr('id')).indexOf('expanded_row') != -1) {\n                            var recid = parent.prev().attr('recid');\n                            var grid  = parent.parents('.w2ui-grid').attr('name');\n                            obj.selectNone();\n                            w2utils.keyboard.active(grid);\n                            w2ui[grid].click(recid);\n                            cancel = true;\n                            break;\n                        }\n                    }\n                    break;\n\n                case 40: // down\n                    if (empty) selectTopRecord();\n                    if (recEL.length <= 0) break;\n                    // jump into subgrid\n                    if (obj.records[ind2].expanded) {\n                        var subgrid = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(obj.records[ind2].recid) +'_expanded_row').find('.w2ui-grid');\n                        if (subgrid.length > 0 && w2ui[subgrid.attr('name')]) {\n                            obj.selectNone();\n                            var grid = subgrid.attr('name');\n                            var recs = w2ui[grid].records;\n                            w2utils.keyboard.active(grid);\n                            w2ui[grid].click(recs[0].recid);\n                            cancel = true;\n                            break;\n                        }\n                    }\n                    // move to the next record\n                    var next = obj.nextRow(ind2);\n                    if (next != null) {\n                        if (shiftKey && obj.multiSelect) { // expand selection\n                            if (tmpUnselect()) return;\n                            if (obj.selectType == 'row') {\n                                if (this.last.sel_ind < next && this.last.sel_ind != ind) {\n                                    obj.unselect(obj.records[ind].recid);\n                                } else {\n                                    obj.select(obj.records[next].recid);\n                                }\n                            } else {\n                                if (this.last.sel_ind < next && this.last.sel_ind != ind) {\n                                    next = ind;\n                                    var tmp = [];\n                                    for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[next].recid, column: columns[c] });\n                                    obj.unselect.apply(obj, tmp);\n                                } else {\n                                    var tmp = [];\n                                    for (var c = 0; c < columns.length; c++) tmp.push({ recid: obj.records[next].recid, column: columns[c] });\n                                    obj.select.apply(obj, tmp);\n                                }\n                            }\n                        } else { // move selected record\n                            obj.selectNone();\n                            obj.click({ recid: obj.records[next].recid, column: columns[0] }, event);\n                        }\n                        obj.scrollIntoView(next);\n                        cancel = true;\n                    } else {\n                        // if selected more then one, then select first\n                        if (!shiftKey) {\n                            if (sel.length > 1) {\n                                obj.selectNone();\n                            } else {\n                                for (var s = 0; s < sel.length-1; s++) obj.unselect(sel[s]);\n                            }\n                        }\n                        // jump out of subgrid (if last record in subgrid)\n                        var parent = $('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(obj.records[ind2].recid)).parents('tr');\n                        if (parent.length > 0 && String(parent.attr('id')).indexOf('expanded_row') != -1) {\n                            var recid = parent.next().attr('recid');\n                            var grid  = parent.parents('.w2ui-grid').attr('name');\n                            obj.selectNone();\n                            w2utils.keyboard.active(grid);\n                            w2ui[grid].click(recid);\n                            cancel = true;\n                            break;\n                        }\n                    }\n                    break;\n\n                // copy & paste\n\n                case 17: // ctrl key\n                case 91: // cmd key\n                    // SLOW: 10k records take 7.0\n                    if (empty) break;\n                    var text = obj.copy();\n                    $('body').append('<textarea id=\"_tmp_copy_data\" '+\n                        '   onpaste=\"var obj = this; setTimeout(function () { w2ui[\\''+ obj.name + '\\'].paste(obj.value); }, 1);\" '+\n                        '   onkeydown=\"w2ui[\\''+ obj.name +'\\'].keydown(event)\"'+\n                        '   style=\"position: absolute; top: -100px; height: 1px; width: 1px\">'+ text +'</textarea>');\n                    $('#_tmp_copy_data').focus().select();\n                    // remove _tmp_copy_data textarea\n                    $(document).on('keyup', tmp_key_down);\n                    function tmp_key_down() { \n                        $('#_tmp_copy_data').remove(); \n                        $(document).off('keyup', tmp_key_down); \n                    }\n                    break;\n\n                case 88: // x - cut\n                    if (empty) break;\n                    if (event.ctrlKey || event.metaKey) {\n                        setTimeout(function () { obj[\"delete\"](true); }, 100);\n                    }\n                    break;\n            }\n            var tmp = [187, 189, 32]; // =-spacebar\n            for (var i=48; i<=90; i++) tmp.push(i); // 0-9,a-z,A-Z\n            if (tmp.indexOf(key) != -1 && !event.ctrlKey && !event.metaKey && !cancel) {\n                if (columns.length == 0) columns.push(0);\n                var tmp = String.fromCharCode(key);\n                if (key == 187) tmp = '=';\n                if (key == 189) tmp = '-';\n                if (!shiftKey)  tmp = tmp.toLowerCase();\n                obj.editField(recid, columns[0], tmp, event);\n                cancel = true;\n            }\n            if (cancel) { // cancel default behaviour\n                if (event.preventDefault) event.preventDefault();\n            }\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n\n            function selectTopRecord() {\n                var ind = Math.floor((records[0].scrollTop + (records.height() / 2.1)) / obj.recordHeight);\n                if (!obj.records[ind]) ind = 0;\n                obj.select({ recid: obj.records[ind].recid, column: 0});\n            }\n\n            function tmpUnselect () {\n                if (obj.last.sel_type != 'click') return false;\n                if (obj.selectType != 'row') {\n                    obj.last.sel_type = 'key';\n                    if (sel.length > 1) {\n                        for (var s = 0; s < sel.length; s++) {\n                            if (sel[s].recid == obj.last.sel_recid && sel[s].column == obj.last.sel_col) {\n                                sel.splice(s, 1);\n                                break;\n                            }\n                        }\n                        obj.unselect.apply(obj, sel);\n                        return true;\n                    }\n                    return false;\n                } else {\n                    obj.last.sel_type = 'key';\n                    if (sel.length > 1) {\n                        sel.splice(sel.indexOf(obj.records[obj.last.sel_ind].recid), 1);\n                        obj.unselect.apply(obj, sel);\n                        return true;\n                    }\n                    return false;\n                }\n            }\n        },\n\n        scrollIntoView: function (ind) {\n            var buffered = this.records.length;\n            if (this.searchData.length != 0 && !this.url) buffered = this.last.searchIds.length;\n            if (typeof ind == 'undefined') {\n                var sel = this.getSelection();\n                if (sel.length == 0) return;\n                ind = this.get(sel[0], true);\n            }\n            var records = $('#grid_'+ this.name +'_records');\n            if (buffered == 0) return;\n            // if all records in view\n            var len = this.last.searchIds.length;\n            if (records.height() > this.recordHeight * (len > 0 ? len : buffered)) return;\n            if (len > 0) ind = this.last.searchIds.indexOf(ind); // if seach is applied\n            // scroll to correct one\n            var t1 = Math.floor(records[0].scrollTop / this.recordHeight);\n            var t2 = t1 + Math.floor(records.height() / this.recordHeight);\n            if (ind == t1) records.animate({ 'scrollTop': records.scrollTop() - records.height() / 1.3 }, 250, 'linear');\n            if (ind == t2) records.animate({ 'scrollTop': records.scrollTop() + records.height() / 1.3 }, 250, 'linear');\n            if (ind < t1 || ind > t2) records.animate({ 'scrollTop': (ind - 1) * this.recordHeight });\n        },\n\n        dblClick: function (recid, event) {\n            // find columns\n            var column = null;\n            if (typeof recid == 'object') {\n                column = recid.column;\n                recid  = recid.recid;\n            }\n            if (typeof event == 'undefined') event = {};\n            // column user clicked on\n            if (column == null && event.target) {\n                var tmp = event.target;\n                if (tmp.tagName != 'TD') tmp = $(tmp).parents('td')[0];\n                column = parseInt($(tmp).attr('col'));\n            }\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'dblClick', recid: recid, column: column, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default action\n            this.selectNone();\n            var col = this.columns[column];\n            if (col && $.isPlainObject(col.editable)) {\n                this.editField(recid, column, null, event);\n            } else {\n                this.select({ recid: recid, column: column });\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        contextMenu: function (recid, event) {\n            var obj = this;\n            if (obj.last.userSelect == 'text') return;\n            if (typeof event == 'undefined') event = { offsetX: 0, offsetY: 0, target: $('#grid_'+ obj.name +'_rec_'+ recid)[0] };\n            if (typeof event.offsetX === 'undefined') {\n                event.offsetX = event.layerX - event.target.offsetLeft;\n                event.offsetY = event.layerY - event.target.offsetTop;\n            }\n            if (w2utils.isFloat(recid)) recid = parseFloat(recid);\n            if (this.getSelection().indexOf(recid) == -1) obj.click(recid);\n            // need timeout to allow click to finish first\n            setTimeout(function () {\n                // event before\n                var eventData = obj.trigger({ phase: 'before', type: 'contextMenu', target: obj.name, originalEvent: event, recid: recid });\n                if (eventData.isCancelled === true) return;\n                // default action\n                if (obj.menu.length > 0) {\n                    $(obj.box).find(event.target)\n                        .w2menu(obj.menu, {\n                            left    : event.offsetX,\n                            onSelect: function (event) { \n                                obj.menuClick(recid, parseInt(event.index), event.originalEvent); \n                            }\n                        }\n                    );\n                }\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n            }, 150); // need timer 150 for FF\n            // cancel event\n            if (event.preventDefault) event.preventDefault();\n        },\n\n        menuClick: function (recid, index, event) {\n            var obj = this;\n            // event before\n            var eventData = obj.trigger({ phase: 'before', type: 'menuClick', target: obj.name, originalEvent: event, \n                recid: recid, menuIndex: index, menuItem: obj.menu[index] });\n            if (eventData.isCancelled === true) return;\n            // default action\n            // -- empty\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        toggle: function (recid) {\n            var rec = this.get(recid);\n            if (rec.expanded === true) return this.collapse(recid); else return this.expand(recid);\n        },\n\n        expand: function (recid) {\n            var rec = this.get(recid);\n            var obj = this;\n            var id  = w2utils.escapeId(recid);\n            if ($('#grid_'+ this.name +'_rec_'+ id +'_expanded_row').length > 0) return false;\n            if (rec.expanded == 'none') return false;\n            // insert expand row\n            var tmp = 1 + (this.show.selectColumn ? 1 : 0);\n            var addClass = ''; // ($('#grid_'+this.name +'_rec_'+ w2utils.escapeId(recid)).hasClass('w2ui-odd') ? 'w2ui-odd' : 'w2ui-even');\n            $('#grid_'+ this.name +'_rec_'+ id).after(\n                    '<tr id=\"grid_'+ this.name +'_rec_'+ recid +'_expanded_row\" class=\"w2ui-expanded-row '+ addClass +'\">'+\n                        (this.show.lineNumbers ? '<td class=\"w2ui-col-number\"></td>' : '') +\n                    '    <td class=\"w2ui-grid-data w2ui-expanded1\" colspan=\"'+ tmp +'\"><div style=\"display: none\"></div></td>'+\n                    '    <td colspan=\"100\" class=\"w2ui-expanded2\">'+\n                    '        <div id=\"grid_'+ this.name +'_rec_'+ recid +'_expanded\" style=\"opacity: 0\"></div>'+\n                    '    </td>'+\n                    '</tr>');\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'expand', target: this.name, recid: recid,\n                box_id: 'grid_'+ this.name +'_rec_'+ recid +'_expanded', ready: ready });\n            if (eventData.isCancelled === true) {\n                $('#grid_'+ this.name +'_rec_'+ id +'_expanded_row').remove();\n                return;\n            }\n            // default action\n            $('#grid_'+ this.name +'_rec_'+ id).attr('expanded', 'yes').addClass('w2ui-expanded');\n            $('#grid_'+ this.name +'_rec_'+ id +'_expanded_row').show();\n            $('#grid_'+ this.name +'_cell_'+ this.get(recid, true) +'_expand div').html('<div class=\"w2ui-spinner\" style=\"width: 16px; height: 16px; margin: -2px 2px;\"></div>');\n            rec.expanded = true;\n            // check if height of expanded row > 5 then remove spinner\n            setTimeout(ready, 300);\n            function ready() {\n                var div1 = $('#grid_'+ obj.name +'_rec_'+ id +'_expanded');\n                var div2 = $('#grid_'+ obj.name +'_rec_'+ id +'_expanded_row .w2ui-expanded1 > div');\n                if (div1.height() < 5) return;\n                div1.css('opacity', 1);\n                div2.show().css('opacity', 1);\n                $('#grid_'+ obj.name +'_cell_'+ obj.get(recid, true) +'_expand div').html('-');\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            this.resizeRecords();\n            return true;\n        },\n\n        collapse: function (recid) {\n            var rec = this.get(recid);\n            var obj = this;\n            var id  = w2utils.escapeId(recid);\n            if ($('#grid_'+ this.name +'_rec_'+ id +'_expanded_row').length == 0) return false;\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'collapse', target: this.name, recid: recid,\n                box_id: 'grid_'+ this.name +'_rec_'+ id +'_expanded' });\n            if (eventData.isCancelled === true) return;\n            // default action\n            $('#grid_'+ this.name +'_rec_'+ id).removeAttr('expanded').removeClass('w2ui-expanded');\n            $('#grid_'+ this.name +'_rec_'+ id +'_expanded').css('opacity', 0);\n            $('#grid_'+ this.name +'_cell_'+ this.get(recid, true) +'_expand div').html('+');\n            setTimeout(function () {\n                $('#grid_'+ obj.name +'_rec_'+ id +'_expanded').height('0px');\n                setTimeout(function () {\n                    $('#grid_'+ obj.name +'_rec_'+ id +'_expanded_row').remove();\n                    delete rec.expanded;\n                    // event after\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                    obj.resizeRecords();\n                }, 300);\n            }, 200);\n            return true;\n        },\n\n        sort: function (field, direction, multiField) { // if no params - clears sort\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'sort', target: this.name, field: field, direction: direction, multiField: multiField });\n            if (eventData.isCancelled === true) return;\n            // check if needed to quit\n            if (typeof field != 'undefined') {\n                // default action\n                var sortIndex = this.sortData.length;\n                for (var s = 0; s < this.sortData.length; s++) {\n                    if (this.sortData[s].field == field) { sortIndex = s; break; }\n                }\n                if (typeof direction == 'undefined' || direction == null) {\n                    if (typeof this.sortData[sortIndex] == 'undefined') {\n                        direction = 'asc';\n                    } else {\n                        switch (String(this.sortData[sortIndex].direction)) {\n                            case 'asc'  : direction = 'desc'; break;\n                            case 'desc' : direction = 'asc';  break;\n                            default     : direction = 'asc';  break;\n                        }\n                    }\n                }\n                if (this.multiSort === false) { this.sortData = []; sortIndex = 0; }\n                if (multiField != true) { this.sortData = []; sortIndex = 0; }\n                // set new sort\n                if (typeof this.sortData[sortIndex] == 'undefined') this.sortData[sortIndex] = {};\n                this.sortData[sortIndex].field        = field;\n                this.sortData[sortIndex].direction = direction;\n            } else {\n                this.sortData = [];\n            }\n            this.selectNone();\n            // if local\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (!url) {\n                this.localSort();\n                if (this.searchData.length > 0) this.localSearch(true);\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n                this.refresh();\n            } else {\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n                this.last.xhr_offset = 0;\n                this.reload();\n            }\n        },\n\n        copy: function () {\n            var sel = this.getSelection();\n            if (sel.length == 0) return '';\n            var text = '';\n            if (typeof sel[0] == 'object') { // cell copy\n                // find min/max column\n                var minCol = sel[0].column;\n                var maxCol = sel[0].column;\n                var recs   = [];\n                for (var s = 0; s < sel.length; s++) {\n                    if (sel[s].column < minCol) minCol = sel[s].column;\n                    if (sel[s].column > maxCol) maxCol = sel[s].column;\n                    if (recs.indexOf(sel[s].index) == -1) recs.push(sel[s].index);\n                }\n                recs.sort(function(a, b) { return a-b }); // sort function must be for numerical sort\n                for (var r = 0 ; r < recs.length; r++) {\n                    var ind = recs[r];\n                    for (var c = minCol; c <= maxCol; c++) {\n                        var col = this.columns[c];\n                        if (col.hidden === true) continue;\n                        text += w2utils.stripTags(this.getCellHTML(ind, c)) + '\\t';\n                    }\n                    text = text.substr(0, text.length-1); // remove last \\t\n                    text += '\\n';\n                }\n            } else { // row copy\n                // copy headers\n                for (var c = 0; c < this.columns.length; c++) {\n                    var col = this.columns[c];\n                    if (col.hidden === true) continue;\n                    text += '\"' + w2utils.stripTags(col.caption ? col.caption : col.field) + '\"\\t';\n                }\n                text = text.substr(0, text.length-1); // remove last \\t\n                text += '\\n';\n                // copy selected text                \n                for (var s = 0; s < sel.length; s++) {\n                    var ind = this.get(sel[s], true);\n                    for (var c = 0; c < this.columns.length; c++) {\n                        var col = this.columns[c];\n                        if (col.hidden === true) continue;\n                        text += '\"' + w2utils.stripTags(this.getCellHTML(ind, c)) + '\"\\t';\n                    }\n                    text = text.substr(0, text.length-1); // remove last \\t\n                    text += '\\n';\n                }\n            }\n            text = text.substr(0, text.length - 1);\n            // before event\n            var eventData = this.trigger({ phase: 'before', type: 'copy', target: this.name, text: text });\n            if (eventData.isCancelled === true) return '';\n            text = eventData.text;\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return text;\n        },\n\n        paste: function (text) {\n            var sel = this.getSelection();\n            var ind = this.get(sel[0].recid, true);\n            var col = sel[0].column;\n            // before event\n            var eventData = this.trigger({ phase: 'before', type: 'paste', target: this.name, text: text, index: ind, column: col });\n            if (eventData.isCancelled === true) return;\n            text = eventData.text;\n            // default action\n            if (this.selectType == 'row' || sel.length == 0) {\n                console.log('ERROR: You can paste only if grid.selectType = \\'cell\\' and when at least one cell selected.');\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n                return;\n            }\n            var newSel = [];\n            var text   = text.split('\\n');\n            for (var t = 0; t < text.length; t++) {\n                var tmp  = text[t].split('\\t');\n                var cnt  = 0;\n                var rec  = this.records[ind];\n                var cols = [];\n                for (var dt = 0; dt < tmp.length; dt++) {\n                    if (!this.columns[col + cnt]) continue;\n                    var field = this.columns[col + cnt].field;\n                    rec.changes = rec.changes || {};\n                    rec.changes[field] = tmp[dt];\n                    cols.push(col + cnt);\n                    cnt++;\n                }\n                for (var c = 0; c < cols.length; c++) newSel.push({ recid: rec.recid, column: cols[c] });\n                ind++;\n            }\n            this.selectNone();\n            this.select.apply(this, newSel);\n            this.refresh();\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        // ==================================================\n        // --- Common functions\n\n        resize: function () {\n            var obj  = this;\n            var time = (new Date()).getTime();\n            //if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            // make sure the box is right\n            if (!this.box || $(this.box).attr('name') != this.name) return;\n            // determine new width and height\n            $(this.box).find('> div')\n                .css('width', $(this.box).width())\n                .css('height', $(this.box).height());\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n            if (eventData.isCancelled === true) return;\n            // resize\n            obj.resizeBoxes();\n            obj.resizeRecords();\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        update: function () {\n            var time = (new Date()).getTime();\n            if (this.box == null) return 0;\n            for (var index = this.last.range_start - 1; index <= this.last.range_end - 1; index++) {\n                if (index < 0) continue;\n                var rec = this.records[index];\n                for (var col_ind = 0; col_ind < this.columns.length; col_ind++) {\n                    var cell = $(this.box).find('#grid_'+ this.name + '_data_'+ index +'_'+ col_ind);\n                    cell.html(this.getCellHTML(index, col_ind, false));\n                    // assign style\n                    if (rec.style != null && !$.isEmptyObject(rec.style)) {\n                        if (typeof rec.style == 'string') {\n                            $(this.box).find('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(rec.recid)).attr('style', rec.style);\n                        }\n                        if ($.isPlainObject(rec.style) && typeof rec.style[col_ind] == 'string') {\n                            cell.attr('style', rec.style[col_ind])\n                        }\n                    } else {\n                        cell.attr('style', '');\n                    }\n                }\n            }\n            return (new Date()).getTime() - time;\n        },\n\n        refreshCell: function (recid, field) {\n            var index     = this.get(recid, true);\n            var isSummary = (this.records[index] && this.records[index].recid == recid ? false : true);\n            var col_ind   = this.getColumn(field, true);\n            var rec       = (isSummary ? this.summary[index] : this.records[index]);\n            var col       = this.columns[col_ind];\n            var cell      = $(this.box).find('#grid_'+ this.name + '_data_'+ index +'_'+ col_ind);\n            // set cell html and changed flag\n            cell.html(this.getCellHTML(index, col_ind, isSummary));\n            if (rec.changes && typeof rec.changes[col.field] != 'undefined') {\n                cell.addClass('w2ui-changed');\n            } else {\n                cell.removeClass('w2ui-changed');\n            }\n            // assign style\n            if (rec.style != null && !$.isEmptyObject(rec.style)) {\n                if (typeof rec.style == 'string') {\n                    $(this.box).find('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(rec.recid)).attr('style', rec.style);\n                }\n                if ($.isPlainObject(rec.style) && typeof rec.style[col_ind] == 'string') {\n                    cell.attr('style', rec.style[col_ind])\n                }\n            } else {\n                cell.attr('style', '');\n            }\n        },\n\n        refreshRow: function (recid) {\n            var tr1 = $(this.box).find('#grid_'+ this.name +'_frec_'+ w2utils.escapeId(recid));\n            var tr2 = $(this.box).find('#grid_'+ this.name +'_rec_'+ w2utils.escapeId(recid));\n            if (tr1.length > 0) {\n                var ind  = this.get(recid, true);\n                var line = tr1.attr('line');\n                var isSummary = (this.records[ind] && this.records[ind].recid == recid ? false : true);\n                // if it is searched, find index in search array\n                var url = (typeof this.url != 'object' ? this.url : this.url.get);\n                if (this.searchData.length > 0 && !url) for (var s = 0; s < this.last.searchIds.length; s++) if (this.last.searchIds[s] == ind) ind = s;\n                var rec_html = this.getRecordHTML(ind, line, isSummary);\n                $(tr1).replaceWith(rec_html[0]);\n                $(tr2).replaceWith(rec_html[1]);\n                if (isSummary) this.resize();\n            }\n        },\n\n        refresh: function () {\n            var obj  = this;\n            var time = (new Date()).getTime();\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (this.total <= 0 && !url && this.searchData.length == 0) {\n                this.total = this.records.length;\n            }\n            //if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            this.toolbar.disable('w2ui-edit', 'w2ui-delete');\n            if (!this.box) return;\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'refresh' });\n            if (eventData.isCancelled === true) return;\n            // -- header\n            if (this.show.header) {\n                $('#grid_'+ this.name +'_header').html(this.header +'&nbsp;').show();\n            } else {\n                $('#grid_'+ this.name +'_header').hide();\n            }\n            // -- toolbar\n            if (this.show.toolbar) {\n                // if select-collumn is checked - no toolbar refresh\n                if (this.toolbar && this.toolbar.get('w2ui-column-on-off') && this.toolbar.get('w2ui-column-on-off').checked) {\n                    // no action\n                } else {\n                    $('#grid_'+ this.name +'_toolbar').show();\n                    // refresh toolbar all but search field\n                    if (typeof this.toolbar == 'object') {\n                        var tmp = this.toolbar.items;\n                        for (var t = 0; t < tmp.length; t++) {\n                            if (tmp[t].id == 'w2ui-search' || tmp[t].type == 'break') continue;\n                            this.toolbar.refresh(tmp[t].id);\n                        }\n                    }\n                }\n            } else {\n                $('#grid_'+ this.name +'_toolbar').hide();\n            }\n            // -- make sure search is closed\n            this.searchClose();\n            // search placeholder\n            var el = $('#grid_'+ obj.name +'_search_all');\n            if (!this.multiSearch && this.last.field == 'all' && this.searches.length > 0) {\n                this.last.field   = this.searches[0].field;\n                this.last.caption = this.searches[0].caption;\n            }\n            for (var s = 0; s < this.searches.length; s++) {\n                if (this.searches[s].field == this.last.field) this.last.caption = this.searches[s].caption;\n            }\n            if (this.last.multi) {\n                el.attr('placeholder', '[' + w2utils.lang('Multiple Fields') + ']');\n            } else {\n                el.attr('placeholder', this.last.caption);\n            }\n            if (el.val() != this.last.search) {\n                var val = this.last.search;\n                var tmp = el.data('w2field');\n                if (tmp) val = tmp.format(val);\n                el.val(val);\n            }\n\n            // -- separate summary\n            var tmp = this.find({ summary: true }, true);\n            if (tmp.length > 0) {\n                for (var t = 0; t < tmp.length; t++) this.summary.push(this.records[tmp[t]]);\n                for (var t = tmp.length-1; t >= 0; t--) this.records.splice(tmp[t], 1);\n                this.total = this.total - tmp.length;\n            }\n\n            // -- body\n            var recHTML  = this.getRecordsHTML();\n            var colHTML  = this.getColumnsHTML();\n            var bodyHTML = \n                '<div id=\"grid_'+ this.name +'_frecords\" class=\"w2ui-grid-frecords\" style=\"margin-bottom: '+ (w2utils.scrollBarSize() - 1) +'px;\">'+\n                    recHTML[0] +\n                '</div>'+\n                '<div id=\"grid_'+ this.name +'_records\" class=\"w2ui-grid-records\" onscroll=\"w2ui[\\''+ this.name +'\\'].scroll(event);\">' +\n                    recHTML[1] + \n                '</div>'+\n                '<div id=\"grid_'+ this.name +'_scroll1\" class=\"w2ui-grid-scroll1\" style=\"height: '+ w2utils.scrollBarSize() +'px\"></div>'+\n                // Columns need to be after to be able to overlap\n                '<div id=\"grid_'+ this.name +'_fcolumns\" class=\"w2ui-grid-columns\">'+\n                '    <table>'+ colHTML[0] +'</table>'+\n                '</div>'+\n                '<div id=\"grid_'+ this.name +'_columns\" class=\"w2ui-grid-columns\">'+\n                '    <table>'+ colHTML[1] +'</table>'+\n                '</div>'; \n            $('#grid_'+ this.name +'_body').html(bodyHTML);\n            // show summary records\n            if (this.summary.length > 0) {\n                var sumHTML = this.getSummaryHTML();\n                $('#grid_'+ this.name +'_fsummary').html(sumHTML[0]).show();\n                $('#grid_'+ this.name +'_summary').html(sumHTML[1]).show();\n            } else {\n                $('#grid_'+ this.name +'_fsummary').hide();\n                $('#grid_'+ this.name +'_summary').hide();\n            }\n            // -- footer\n            if (this.show.footer) {\n                $('#grid_'+ this.name +'_footer').html(this.getFooterHTML()).show();\n            } else {\n                $('#grid_'+ this.name +'_footer').hide();\n            }\n            // show/hide clear search link\n             if (this.searchData.length > 0) {\n                $('#grid_'+ this.name +'_searchClear').show();\n            } else {\n                $('#grid_'+ this.name +'_searchClear').hide();\n            }\n            // all selected?\n            var sel = this.last.selection;\n            if (sel.indexes.length == this.records.length || (this.searchData.length !== 0 && sel.indexes.length == this.last.searchIds.length)) {\n                $('#grid_'+ this.name +'_check_all').prop('checked', true);\n            } else {\n                $('#grid_'+ this.name +'_check_all').prop('checked', false);\n            }\n            // show number of selected\n            this.status();\n            // collapse all records\n            var rows = obj.find({ expanded: true }, true);\n            for (var r = 0; r < rows.length; r++) obj.records[rows[r]].expanded = false;\n            // mark selection\n            setTimeout(function () {\n                var str  = $.trim($('#grid_'+ obj.name +'_search_all').val());\n                if (str != '' && obj.markSearch) $(obj.box).find('.w2ui-grid-data > div').w2marker(str);\n            }, 50);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            obj.resize();\n            obj.addRange('selection');\n            setTimeout(function () { obj.resize(); obj.scroll(); }, 1); // allow to render first\n\n            if ( obj.reorderColumns && !obj.last.columnDrag ) {\n                obj.last.columnDrag = obj.initColumnDrag();\n            } else if ( !obj.reorderColumns && obj.last.columnDrag ) {\n                obj.last.columnDrag.remove();\n            }\n            return (new Date()).getTime() - time;\n        },\n\n        render: function (box) {\n            var obj  = this;\n            var time = (new Date()).getTime();\n            //if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            if (box != null) {\n                if ($(this.box).find('#grid_'+ this.name +'_body').length > 0) {\n                    $(this.box)\n                        .removeAttr('name')\n                        .removeClass('w2ui-reset w2ui-grid')\n                        .html('');\n                }\n                this.box = box;\n            }\n            if (!this.box) return;\n            if (this.last.sortData == null) this.last.sortData = this.sortData;\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'render', box: box });\n            if (eventData.isCancelled === true) return;\n            // reset needed if grid existed\n            this.reset(true);\n            // insert elements\n            $(this.box)\n                .attr('name', this.name)\n                .addClass('w2ui-reset w2ui-grid')\n                .html('<div>'+\n                      '    <div id=\"grid_'+ this.name +'_header\" class=\"w2ui-grid-header\"></div>'+\n                      '    <div id=\"grid_'+ this.name +'_toolbar\" class=\"w2ui-grid-toolbar\"></div>'+\n                      '    <div id=\"grid_'+ this.name +'_body\" class=\"w2ui-grid-body\"></div>'+\n                      '    <div id=\"grid_'+ this.name +'_fsummary\" class=\"w2ui-grid-body w2ui-grid-summary\"></div>'+\n                      '    <div id=\"grid_'+ this.name +'_summary\" class=\"w2ui-grid-body w2ui-grid-summary\"></div>'+\n                      '    <div id=\"grid_'+ this.name +'_footer\" class=\"w2ui-grid-footer\"></div>'+\n                      '</div>');\n            if (this.selectType != 'row') $(this.box).addClass('w2ui-ss');\n            if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n            // init toolbar\n            this.initToolbar();\n            if (this.toolbar != null) this.toolbar.render($('#grid_'+ this.name +'_toolbar')[0]);\n            // reinit search_all\n            if (this.last.field && this.last.field != 'all') {\n                var sd = this.searchData;\n                setTimeout(function () { obj.initAllField(obj.last.field, (sd.length == 1 ? sd[0].value : null)); }, 1);\n            }\n            // init footer\n            $('#grid_'+ this.name +'_footer').html(this.getFooterHTML());            \n            // refresh\n            if (!this.last.state) this.last.state = this.stateSave(true); // initial default state\n            this.stateRestore();\n            if (this.url) this.refresh(); // show empty grid (need it) - should it be only for remote data source\n            this.reload();\n\n            // init mouse events for mouse selection\n            $(this.box).on('mousedown', mouseStart);\n            $(this.box).on('selectstart', function () { return false; }); // fixes chrome cursor bug\n\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            // attach to resize event\n            if ($('.w2ui-layout').length == 0) { // if there is layout, it will send a resize event\n                this.tmp_resize = function (event) { w2ui[obj.name].resize(); }\n                $(window).off('resize', this.tmp_resize).on('resize', this.tmp_resize);\n            }\n            return (new Date()).getTime() - time;\n\n            function mouseStart (event) {\n                if (event.which != 1) return; // if not left mouse button\n                // restore css user-select\n                if (obj.last.userSelect == 'text') {\n                    delete obj.last.userSelect;\n                    $(obj.box).find('.w2ui-grid-body').css(w2utils.cssPrefix('user-select', 'none'));\n                    $(this.box).on('selectstart', function () { return false; });\n                }\n                // regular record select\n                if ($(event.target).parents().hasClass('w2ui-head') || $(event.target).hasClass('w2ui-head')) return;\n                if (obj.last.move && obj.last.move.type == 'expand') return;\n                // if altKey - alow text selection\n                if (event.altKey) {\n                    $(obj.box).off('selectstart');\n                    $(obj.box).find('.w2ui-grid-body').css(w2utils.cssPrefix('user-select', 'text'));\n                    obj.selectNone();\n                    obj.last.move = { type: 'text-select' };\n                    obj.last.userSelect = 'text';\n                } else {\n                    if (!obj.multiSelect) return;\n                    obj.last.move = {\n                        x      : event.screenX,\n                        y      : event.screenY,\n                        divX   : 0,\n                        divY   : 0,\n                        recid  : $(event.target).parents('tr').attr('recid'),\n                        column : (event.target.tagName == 'TD' ? $(event.target).attr('col') : $(event.target).parents('td').attr('col')),\n                        type   : 'select',\n                        ghost  : false,\n                        start  : true\n                    };\n                }\n                if (obj.reorderRows == true) {\n                    var el = event.target;\n                    if (el.tagName != 'TD') el = $(el).parents('td')[0];\n                    if ($(el).hasClass('w2ui-col-number')) {\n                        obj.selectNone();\n                        obj.last.move.reorder = true; \n                        // supress hover\n                        var eColor = $(obj.box).find('.w2ui-even.w2ui-empty-record').css('background-color');\n                        var oColor = $(obj.box).find('.w2ui-odd.w2ui-empty-record').css('background-color');\n                        $(obj.box).find('.w2ui-even td').not('.w2ui-col-number').css('background-color', eColor);\n                        $(obj.box).find('.w2ui-odd td').not('.w2ui-col-number').css('background-color', oColor);\n                        // display empty record and ghost record\n                        var mv = obj.last.move;\n                        if (!mv.ghost) {\n                            var row    = $('#grid_'+ obj.name + '_rec_'+ mv.recid);\n                            var tmp    = row.parents('table').find('tr:first-child').clone();\n                            mv.offsetY = event.offsetY;\n                            mv.from    = mv.recid;\n                            mv.pos     = row.position();\n                            mv.ghost   = $(row).clone(true);\n                            mv.ghost.removeAttr('id');\n                            row.find('td').remove();\n                            row.append('<td colspan=\"1000\" style=\"height: '+ obj.recordHeight +'px; background-color: #eee; border-bottom: 1px dashed #aaa; border-top: 1px dashed #aaa;\"></td>');\n                            var recs = $(obj.box).find('.w2ui-grid-records');\n                            recs.append('<table id=\"grid_'+ obj.name + '_ghost\" style=\"position: absolute; z-index: 999999; opacity: 0.7; pointer-events: none;\"></table>');\n                            $('#grid_'+ obj.name + '_ghost').append(tmp).append(mv.ghost);\n                        }\n                        var ghost = $('#grid_'+ obj.name + '_ghost');\n                        var recs  = $(obj.box).find('.w2ui-grid-records');\n                        ghost.css({\n                            top  : mv.pos.top + recs.scrollTop(),\n                            left : mv.pos.left,\n                            \"border-top\"    : '1px solid #aaa',\n                            \"border-bottom\" : '1px solid #aaa'\n                        });\n                    } else {\n                        obj.last.move.reorder = false;\n                    }\n                }\n                $(document).on('mousemove', mouseMove);\n                $(document).on('mouseup', mouseStop);\n            }\n\n            function mouseMove (event) {\n                var mv = obj.last.move;\n                if (!mv || mv.type != 'select') return;\n                mv.divX = (event.screenX - mv.x);\n                mv.divY = (event.screenY - mv.y);\n                if (Math.abs(mv.divX) <= 1 && Math.abs(mv.divY) <= 1) return; // only if moved more then 1px\n                obj.last.cancelClick = true;\n                if (obj.reorderRows == true && obj.last.move.reorder) {\n                    var tmp   = $(event.target).parents('tr');\n                    var recid = tmp.attr('recid');\n                    if (recid != mv.from) {\n                        var row1 = $('#grid_'+ obj.name + '_rec_'+ mv.recid);\n                        var row2 = $('#grid_'+ obj.name + '_rec_'+ recid);\n                        $(obj.box).find('.tmp-ghost').css('border-top', '0px');\n                        row2.addClass('tmp-ghost').css('border-top', '2px solid #769EFC');\n                        // MOVABLE GHOST\n                        // if (event.screenY - mv.lastY < 0) row1.after(row2); else row2.after(row1);\n                        mv.lastY = event.screenY;\n                        mv.to      = recid;\n                    }\n                    var ghost = $('#grid_'+ obj.name + '_ghost');\n                    var recs  = $(obj.box).find('.w2ui-grid-records');\n                    ghost.css({\n                        top  : mv.pos.top + mv.divY + recs.scrollTop(),\n                        left : mv.pos.left\n                    });\n                    return;\n                }\n                if (mv.start && mv.recid) {\n                    obj.selectNone();\n                    mv.start = false;\n                }\n                var newSel= [];\n                var recid = (event.target.tagName == 'TR' ? $(event.target).attr('recid') : $(event.target).parents('tr').attr('recid'));\n                if (typeof recid == 'undefined') return;\n                var ind1  = obj.get(mv.recid, true);\n                // |:wolfmanx:| this happens when selection is started on summary row\n                if (ind1 === null) return;\n                var ind2  = obj.get(recid, true);\n                // this happens when selection is extended into summary row (a good place to implement scrolling)\n                if (ind2 === null) return;\n                var col1 = parseInt(mv.column);\n                var col2 = parseInt(event.target.tagName == 'TD' ? $(event.target).attr('col') : $(event.target).parents('td').attr('col'));\n                if (ind1 > ind2) { var tmp = ind1; ind1 = ind2; ind2 = tmp; }\n                // check if need to refresh\n                var tmp = 'ind1:'+ ind1 +',ind2;'+ ind2 +',col1:'+ col1 +',col2:'+ col2;\n                if (mv.range == tmp) return;\n                mv.range = tmp;\n                for (var i = ind1; i <= ind2; i++) {\n                    if (obj.last.searchIds.length > 0 && obj.last.searchIds.indexOf(i) == -1) continue;\n                    if (obj.selectType != 'row') {\n                        if (col1 > col2) { var tmp = col1; col1 = col2; col2 = tmp; }\n                        var tmp = [];\n                        for (var c = col1; c <= col2; c++) {\n                            if (obj.columns[c].hidden) continue;\n                            newSel.push({ recid: obj.records[i].recid, column: parseInt(c) });\n                        }\n                    } else {\n                        newSel.push(obj.records[i].recid);\n                    }\n                }\n                if (obj.selectType != 'row') {\n                    var sel = obj.getSelection();\n                    // add more items\n                    var tmp = [];\n                    for (var ns = 0; ns < newSel.length; ns++) {\n                        var flag = false;\n                        for (var s = 0; s < sel.length; s++) if (newSel[ns].recid == sel[s].recid && newSel[ns].column == sel[s].column) flag = true;\n                        if (!flag) tmp.push({ recid: newSel[ns].recid, column: newSel[ns].column });\n                    }\n                    obj.select.apply(obj, tmp);\n                    // remove items\n                    var tmp = [];\n                    for (var s = 0; s < sel.length; s++) {\n                        var flag = false;\n                        for (var ns = 0; ns < newSel.length; ns++) if (newSel[ns].recid == sel[s].recid && newSel[ns].column == sel[s].column) flag = true;\n                        if (!flag) tmp.push({ recid: sel[s].recid, column: sel[s].column });\n                    }\n                    obj.unselect.apply(obj, tmp);\n                } else {\n                    if (obj.multiSelect) {\n                        var sel = obj.getSelection();\n                        for (var ns = 0; ns < newSel.length; ns++) if (sel.indexOf(newSel[ns]) == -1) obj.select(newSel[ns]); // add more items\n                        for (var s = 0; s < sel.length; s++) if (newSel.indexOf(sel[s]) == -1) obj.unselect(sel[s]); // remove items\n                    }\n                }\n            }\n\n            function mouseStop (event) {\n                var mv = obj.last.move;\n                setTimeout(function () { delete obj.last.cancelClick; }, 1);\n                if ($(event.target).parents().hasClass('.w2ui-head') || $(event.target).hasClass('.w2ui-head')) return;\n                if (mv && mv.type == 'select') {\n                    if (obj.reorderRows == true && obj.last.move.reorder) {\n                        // event\n                        var eventData = obj.trigger({ phase: 'before', target: obj.name, type: 'reorderRow', recid: mv.from, moveAfter: mv.to });\n                        if (eventData.isCancelled === true) {\n                            $('#grid_'+ obj.name + '_ghost').remove();\n                            obj.refresh();\n                            return;\n                        }\n                        // default behavior\n                        var ind1 = obj.get(mv.from, true);\n                        var ind2 = obj.get(mv.to, true);\n                        var tmp  = obj.records[ind1];\n                        // swap records\n                        if (ind1 != null && ind2 != null) {\n                            obj.records.splice(ind1, 1);\n                            if (ind1 > ind2) {\n                                obj.records.splice(ind2, 0, tmp);\n                            } else {\n                                obj.records.splice(ind2 - 1, 0, tmp);\n                            }\n                        }\n                        $('#grid_'+ obj.name + '_ghost').remove();\n                        obj.refresh();\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                    }\n                }\n                delete obj.last.move;\n                $(document).off('mousemove', mouseMove);\n                $(document).off('mouseup', mouseStop);\n            }\n        },\n\n        destroy: function () {\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'destroy' });\n            if (eventData.isCancelled === true) return;\n            // remove events\n            if (this.tmp_resize) $(window).off('resize', this.tmp_resize);\n            // clean up\n            if (typeof this.toolbar == 'object' && this.toolbar.destroy) this.toolbar.destroy();\n            if ($(this.box).find('#grid_'+ this.name +'_body').length > 0) {\n                $(this.box)\n                    .removeAttr('name')\n                    .removeClass('w2ui-reset w2ui-grid')\n                    .html('');\n            }\n            delete w2ui[this.name];\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        // ===========================================\n        // --- Internal Functions\n\n        initColumnOnOff: function () {\n            if (!this.show.toolbarColumns) return;\n            var obj = this;\n            var col_html =  '<div class=\"w2ui-col-on-off\">'+\n                            '<table><tr>'+\n                            '<td style=\"width: 30px\">'+\n                            '    <input id=\"grid_'+ this.name +'_column_ln_check\" type=\"checkbox\" tabIndex=\"-1\" '+ (obj.show.lineNumbers ? 'checked' : '') +\n                            '        onclick=\"w2ui[\\''+ obj.name +'\\'].columnOnOff(this, event, \\'line-numbers\\');\">'+\n                            '</td>'+\n                            '<td onclick=\"w2ui[\\''+ obj.name +'\\'].columnOnOff(this, event, \\'line-numbers\\'); $(document).click();\">'+\n                            '    <label for=\"grid_'+ this.name +'_column_ln_check\">'+ w2utils.lang('Line #') +'</label>'+\n                            '</td></tr>';\n            for (var c = 0; c < this.columns.length; c++) {\n                var col = this.columns[c];\n                var tmp = this.columns[c].caption;\n                if (col.hideable === false) continue;\n                if (!tmp && this.columns[c].hint) tmp = this.columns[c].hint;\n                if (!tmp) tmp = '- column '+ (parseInt(c) + 1) +' -';\n                col_html += '<tr>'+\n                    '<td style=\"width: 30px\">'+\n                    '    <input id=\"grid_'+ this.name +'_column_'+ c +'_check\" type=\"checkbox\" tabIndex=\"-1\" '+ (col.hidden ? '' : 'checked') +\n                    '        onclick=\"w2ui[\\''+ obj.name +'\\'].columnOnOff(this, event, \\''+ col.field +'\\');\">'+\n                    '</td>'+\n                    '<td>'+\n                    '    <label for=\"grid_'+ this.name +'_column_'+ c +'_check\">'+ tmp +    '</label>'+\n                    '</td>'+\n                    '</tr>';\n            }\n            col_html += '<tr><td colspan=\"2\"><div style=\"border-top: 1px solid #ddd;\"></div></td></tr>';\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url && obj.show.skipRecords) {\n                col_html +=\n                        '<tr><td colspan=\"2\" style=\"padding: 0px\">'+\n                        '    <div style=\"cursor: pointer; padding: 2px 8px; cursor: default\">'+ w2utils.lang('Skip') +\n                        '        <input type=\"text\" style=\"width: 45px\" value=\"'+ this.offset +'\" '+\n                        '            onkeypress=\"if (event.keyCode == 13) { '+\n                        '               w2ui[\\''+ obj.name +'\\'].skip(this.value); '+\n                        '               $(document).click(); '+\n                        '            }\"> '+ w2utils.lang('Records')+\n                        '    </div>'+\n                        '</td></tr>';\n            }\n            col_html += '<tr><td colspan=\"2\" onclick=\"w2ui[\\''+ obj.name +'\\'].stateSave(); $(document).click();\">'+\n                        '    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">'+ w2utils.lang('Save Grid State') + '</div>'+\n                        '</td></tr>'+\n                        '<tr><td colspan=\"2\" onclick=\"w2ui[\\''+ obj.name +'\\'].stateReset(); $(document).click();\">'+\n                        '    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">'+ w2utils.lang('Restore Default State') + '</div>'+\n                        '</td></tr>';\n            col_html += \"</table></div>\";\n            this.toolbar.get('w2ui-column-on-off').html = col_html;\n        },\n\n        /**\n         *\n         * @param box, grid object\n         * @returns {{remove: Function}} contains a closure around all events to ensure they are removed from the dom\n         */\n        initColumnDrag: function ( box ) {\n            //throw error if using column groups\n            if ( this.columnGroups && this.columnGroups.length ) throw 'Draggable columns are not currently supported with column groups.';\n\n            var obj = this,\n                _dragData = {};\n                _dragData.lastInt = null;\n                _dragData.pressed = false;\n                _dragData.timeout = null;_dragData.columnHead = null;\n\n            //attach orginal event listener\n            $(obj.box).on('mousedown', dragColStart);\n            $(obj.box).on('mouseup', catchMouseup);\n\n            function catchMouseup(){\n                _dragData.pressed = false;\n                clearTimeout( _dragData.timeout );\n            }\n            /**\n             *\n             * @param event, mousedown\n             * @returns {boolean} false, preventsDefault\n             */\n            function dragColStart ( event ) {\n                if ( _dragData.timeout ) clearTimeout( _dragData.timeout );\n                var self = this;\n                _dragData.pressed = true;\n\n                _dragData.timeout = setTimeout(function(){\n                    if ( !_dragData.pressed ) return;\n\n                    var eventData,\n                        columns,\n                        selectedCol,\n                        origColumn,\n                        origColumnNumber,\n                        invalidPreColumns = [ 'w2ui-col-number', 'w2ui-col-expand', 'w2ui-col-select' ],\n                        invalidPostColumns = [ 'w2ui-head-last' ],\n                        invalidColumns = invalidPreColumns.concat( invalidPostColumns ),\n                        preColumnsSelector = '.w2ui-col-number, .w2ui-col-expand, .w2ui-col-select',\n                        preColHeadersSelector = '.w2ui-head.w2ui-col-number, .w2ui-head.w2ui-col-expand, .w2ui-head.w2ui-col-select';\n\n                    // do nothing if it is not a header\n                    if ( !$( event.originalEvent.target ).parents().hasClass( 'w2ui-head' ) ) return;\n\n                    // do nothing if it is an invalid column\n                    for ( var i = 0, l = invalidColumns.length; i < l; i++ ){\n                        if ( $( event.originalEvent.target ).parents().hasClass( invalidColumns[ i ] ) ) return;\n                    }\n\n                    _dragData.numberPreColumnsPresent = $( obj.box ).find( preColHeadersSelector ).length;\n\n                    //start event for drag start\n                    _dragData.columnHead = origColumn = $( event.originalEvent.target ).parents( '.w2ui-head' );\n                    origColumnNumber = parseInt( origColumn.attr( 'col' ), 10);\n                    eventData = obj.trigger({ type: 'columnDragStart', phase: 'before', originalEvent: event, origColumnNumber: origColumnNumber, target: origColumn[0] });\n                    if ( eventData.isCancelled === true ) return false;\n\n                    columns = _dragData.columns = $( obj.box ).find( '.w2ui-head:not(.w2ui-head-last)' );\n\n                    //add events\n                    $( document ).on( 'mouseup', dragColEnd );\n                    $( document ).on( 'mousemove', dragColOver );\n\n                    _dragData.originalPos = parseInt( $( event.originalEvent.target ).parent( '.w2ui-head' ).attr( 'col' ), 10 );\n                    //_dragData.columns.css({ overflow: 'visible' }).children( 'div' ).css({ overflow: 'visible' });\n\n                    //configure and style ghost image\n                    _dragData.ghost = $( self ).clone( true );\n\n                    //hide other elements on ghost except the grid body\n                    $( _dragData.ghost ).find( '[col]:not([col=\"' + _dragData.originalPos + '\"]), .w2ui-toolbar, .w2ui-grid-header' ).remove();\n                    $( _dragData.ghost ).find( preColumnsSelector ).remove();\n                    $( _dragData.ghost ).find( '.w2ui-grid-body' ).css({ top: 0 });\n\n                    selectedCol = $( _dragData.ghost ).find( '[col=\"' + _dragData.originalPos + '\"]' );\n                    $( document.body ).append( _dragData.ghost );\n\n                    $( _dragData.ghost ).css({\n                        width: 0,\n                        height: 0,\n                        margin: 0,\n                        position: 'fixed',\n                        zIndex: 999999,\n                        opacity: 0\n                    }).addClass( '.w2ui-grid-ghost' ).animate({\n                            width: selectedCol.width(),\n                            height: $(obj.box).find('.w2ui-grid-body:first').height(),\n                            left : event.pageX,\n                            top : event.pageY,\n                            opacity: .8\n                        }, 0 );\n\n                    //establish current offsets\n                    _dragData.offsets = [];\n                    for ( var i = 0, l = columns.length; i < l; i++ ) {\n                        _dragData.offsets.push( $( columns[ i ] ).offset().left );\n                    }\n\n                    //conclude event\n                    obj.trigger( $.extend( eventData, { phase: 'after' } ) );\n                }, 150 );//end timeout wrapper\n            }\n\n            function dragColOver ( event ) {\n                if ( !_dragData.pressed ) return;\n\n                var cursorX = event.originalEvent.pageX,\n                    cursorY = event.originalEvent.pageY,\n                    offsets = _dragData.offsets,\n                    lastWidth = $( '.w2ui-head:not(.w2ui-head-last)' ).width();\n\n                _dragData.targetInt = Math.max(_dragData.numberPreColumnsPresent,targetIntersection( cursorX, offsets, lastWidth ));\n\n                markIntersection( _dragData.targetInt );\n                trackGhost( cursorX, cursorY );\n            }\n\n            function dragColEnd ( event ) {\n                _dragData.pressed = false;\n\n                var eventData,\n                    target,\n                    selected,\n                    columnConfig,\n                    targetColumn,\n                    ghosts = $( '.w2ui-grid-ghost' );\n\n                //start event for drag start\n                eventData = obj.trigger({ type: 'columnDragEnd', phase: 'before', originalEvent: event, target: _dragData.columnHead[0] });\n                if ( eventData.isCancelled === true ) return false;\n\n                selected = obj.columns[ _dragData.originalPos ];\n                columnConfig = obj.columns;\n                targetColumn =  $( _dragData.columns[ Math.min(_dragData.lastInt, _dragData.columns.length - 1) ] );\n                target = (_dragData.lastInt < _dragData.columns.length) ? parseInt(targetColumn.attr('col')) : columnConfig.length;\n\n                if ( target !== _dragData.originalPos + 1 && target !== _dragData.originalPos && targetColumn && targetColumn.length ) {\n                    $( _dragData.ghost ).animate({\n                        top: $( obj.box ).offset().top,\n                        left: targetColumn.offset().left,\n                        width: 0,\n                        height: 0,\n                        opacity:.2\n                    }, 300, function(){\n                        $( this ).remove();\n                        ghosts.remove();\n                    });\n\n                    columnConfig.splice( target, 0, $.extend( {}, selected ) );\n                    columnConfig.splice( columnConfig.indexOf( selected ), 1);\n\n                } else {\n                    $( _dragData.ghost ).remove();\n                    ghosts.remove();\n                }\n\n                //_dragData.columns.css({ overflow: '' }).children( 'div' ).css({ overflow: '' });\n\n                $( document ).off( 'mouseup', dragColEnd );\n                $( document ).off( 'mousemove', dragColOver );\n                if ( _dragData.marker ) _dragData.marker.remove();\n                _dragData = {};\n\n                obj.refresh();\n\n                //conclude event\n                obj.trigger( $.extend( eventData, { phase: 'after', targetColumnNumber: target - 1 } ) );\n            }\n\n            function markIntersection( intersection ){\n                if ( !_dragData.marker && !_dragData.markerLeft ) {\n                    _dragData.marker = $('<div class=\"col-intersection-marker\">' +\n                        '<div class=\"top-marker\"></div>' +\n                        '<div class=\"bottom-marker\"></div>' +\n                        '</div>');\n                    _dragData.markerLeft = $('<div class=\"col-intersection-marker\">' +\n                        '<div class=\"top-marker\"></div>' +\n                        '<div class=\"bottom-marker\"></div>' +\n                        '</div>');\n                }\n\n                if ( !_dragData.lastInt || _dragData.lastInt !== intersection ){\n                    _dragData.lastInt = intersection;\n                    _dragData.marker.remove();\n                    _dragData.markerLeft.remove();\n                    $('.w2ui-head').removeClass('w2ui-col-intersection');\n\n                    //if the current intersection is greater than the number of columns add the marker to the end of the last column only\n                    if ( intersection >= _dragData.columns.length ) {\n                        $( _dragData.columns[ _dragData.columns.length - 1 ] ).children( 'div:last' ).append( _dragData.marker.addClass( 'right' ).removeClass( 'left' ) );\n                        $( _dragData.columns[ _dragData.columns.length - 1 ] ).addClass('w2ui-col-intersection');\n                    } else if ( intersection <= _dragData.numberPreColumnsPresent ) {\n                        //if the current intersection is on the column numbers place marker on first available column only\n                        $( _dragData.columns[ _dragData.numberPreColumnsPresent ] ).prepend( _dragData.marker.addClass( 'left' ).removeClass( 'right' ) ).css({ position: 'relative' });\n                        $( _dragData.columns[ _dragData.numberPreColumnsPresent ] ).prev().addClass('w2ui-col-intersection');\n                    } else {\n                        //otherwise prepend the marker to the targeted column and append it to the previous column\n                        $( _dragData.columns[intersection] ).children( 'div:last' ).prepend( _dragData.marker.addClass( 'left' ).removeClass( 'right' ) );\n                        $( _dragData.columns[intersection] ).prev().children( 'div:last' ).append( _dragData.markerLeft.addClass( 'right' ).removeClass( 'left' ) ).css({ position: 'relative' });\n                        $( _dragData.columns[intersection - 1] ).addClass('w2ui-col-intersection');\n                    }\n                }\n            }\n\n            function targetIntersection( cursorX, offsets, lastWidth ){\n                if ( cursorX <= offsets[0] ) {\n                    return 0;\n                } else if ( cursorX >= offsets[offsets.length - 1] + lastWidth ) {\n                    return offsets.length;\n                } else {\n                    for ( var i = 0, l = offsets.length; i < l; i++ ) {\n                        var thisOffset = offsets[ i ];\n                        var nextOffset = offsets[ i + 1 ] || offsets[ i ] + lastWidth;\n                        var midpoint = ( nextOffset - offsets[ i ]) / 2 + offsets[ i ];\n\n                        if ( cursorX > thisOffset && cursorX <= midpoint ) {\n                            return i;\n                        } else if ( cursorX > midpoint && cursorX <= nextOffset ) {\n                            return i + 1;\n                        }\n                    }\n                    return intersection;\n                }\n            }\n\n            function trackGhost( cursorX, cursorY ){\n                $( _dragData.ghost ).css({\n                    left: cursorX - 10,\n                    top: cursorY - 10\n                });\n            }\n\n            //return an object to remove drag if it has ever been enabled\n            return {\n                remove: function(){\n                    $( obj.box ).off( 'mousedown', dragColStart );\n                    $( obj.box ).off( 'mouseup', catchMouseup );\n                    $( obj.box ).find( '.w2ui-head' ).removeAttr( 'draggable' );\n                    obj.last.columnDrag = false;\n                }\n            }\n        },\n\n        columnOnOff: function (el, event, field) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'columnOnOff', checkbox: el, field: field, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // regular processing\n            var obj = this;\n            // collapse expanded rows\n            for (var r = 0; r < this.records.length; r++) {\n                if (this.records[r].expanded === true) this.records[r].expanded = false\n            }\n            // show/hide\n            var hide = true;\n            if (field == 'line-numbers') {\n                this.show.lineNumbers = !this.show.lineNumbers;\n                this.refresh();\n            } else {\n                var col = this.getColumn(field);\n                if (col.hidden) {\n                    $(el).prop('checked', true);\n                    this.showColumn(col.field);\n                } else {\n                    $(el).prop('checked', false);\n                    this.hideColumn(col.field);\n                }\n                hide = false;\n            }\n            if (hide) {\n                setTimeout(function () {\n                    $().w2overlay('', { name: 'searches-'+ this.name });\n                    obj.toolbar.uncheck('column-on-off');\n                }, 100);\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        initToolbar: function () {\n            // -- if toolbar is true\n            if (typeof this.toolbar['render'] == 'undefined') {\n                var tmp_items = this.toolbar.items;\n                this.toolbar.items = [];\n                this.toolbar = $().w2toolbar($.extend(true, {}, this.toolbar, { name: this.name +'_toolbar', owner: this }));\n\n                // =============================================\n                // ------ Toolbar Generic buttons\n\n                if (this.show.toolbarReload) {\n                    this.toolbar.items.push($.extend(true, {}, this.buttons['reload']));\n                }\n                if (this.show.toolbarColumns) {\n                    this.toolbar.items.push($.extend(true, {}, this.buttons['columns']));\n                }\n                if (this.show.toolbarReload || this.show.toolbarColumn) {\n                    this.toolbar.items.push({ type: 'break', id: 'w2ui-break0' });\n                }\n                if (this.show.toolbarSearch) {\n                    var html =\n                        '<div class=\"w2ui-toolbar-search\">'+\n                        '<table cellpadding=\"0\" cellspacing=\"0\"><tr>'+\n                        '    <td>'+ this.buttons['search'].html +'</td>'+\n                        '    <td>'+\n                        '        <input id=\"grid_'+ this.name +'_search_all\" class=\"w2ui-search-all\" '+\n                        '            placeholder=\"'+ this.last.caption +'\" value=\"'+ this.last.search +'\"'+\n                        '            onkeydown=\"if (event.keyCode == 13 && w2utils.isIE) this.onchange();\"'+\n                        '            onchange=\"'+\n                        '                var grid = w2ui[\\''+ this.name +'\\']; '+\n                        '                var val = this.value; '+\n                        '                var sel = $(this).data(\\'selected\\');'+\n                        '                var fld = $(this).data(\\'w2field\\'); '+\n                        '                if (fld) val = fld.clean(val);'+\n                        '                if (fld && fld.type == \\'list\\' && sel && typeof sel.id == \\'undefined\\') {'+\n                        '                   grid.searchReset();'+\n                        '                } else {'+\n                        '                   grid.search(grid.last.field, val);'+\n                        '                }'+\n                        '            \">'+\n                        '    </td>'+\n                        '    <td>'+\n                        '        <div title=\"'+ w2utils.lang('Clear Search') +'\" class=\"w2ui-search-clear\" id=\"grid_'+ this.name +'_searchClear\"  '+\n                        '             onclick=\"var obj = w2ui[\\''+ this.name +'\\']; obj.searchReset();\" '+\n                        '        >&nbsp;&nbsp;</div>'+\n                        '    </td>'+\n                        '</tr></table>'+\n                        '</div>';\n                    this.toolbar.items.push({ type: 'html', id: 'w2ui-search', html: html });\n                    if (this.multiSearch && this.searches.length > 0) {\n                        this.toolbar.items.push($.extend(true, {}, this.buttons['search-go']));\n                    }\n                }\n                if (this.show.toolbarSearch && (this.show.toolbarAdd || this.show.toolbarEdit || this.show.toolbarDelete || this.show.toolbarSave)) {\n                    this.toolbar.items.push({ type: 'break', id: 'w2ui-break1' });\n                }\n                if (this.show.toolbarAdd) {\n                    this.toolbar.items.push($.extend(true, {}, this.buttons['add']));\n                }\n                if (this.show.toolbarEdit) {\n                    this.toolbar.items.push($.extend(true, {}, this.buttons['edit']));\n                }\n                if (this.show.toolbarDelete) {\n                    this.toolbar.items.push($.extend(true, {}, this.buttons['delete']));\n                }\n                if (this.show.toolbarSave) {\n                    if (this.show.toolbarAdd || this.show.toolbarDelete || this.show.toolbarEdit) {\n                        this.toolbar.items.push({ type: 'break', id: 'w2ui-break2' });\n                    }\n                    this.toolbar.items.push($.extend(true, {}, this.buttons['save']));\n                }\n                // add original buttons\n                if (tmp_items) for (var i = 0; i < tmp_items.length; i++) this.toolbar.items.push(tmp_items[i]);\n\n                // =============================================\n                // ------ Toolbar onClick processing\n\n                var obj = this;\n                this.toolbar.on('click', function (event) {\n                    var eventData = obj.trigger({ phase: 'before', type: 'toolbar', target: event.target, originalEvent: event });\n                    if (eventData.isCancelled === true) return;\n                    var id = event.target;\n                    switch (id) {\n                        case 'w2ui-reload':\n                            var eventData2 = obj.trigger({ phase: 'before', type: 'reload', target: obj.name });\n                            if (eventData2.isCancelled === true) return false;\n                            obj.reload();\n                            obj.trigger($.extend(eventData2, { phase: 'after' }));\n                            break;\n                        case 'w2ui-column-on-off':\n                            obj.initColumnOnOff();\n                            obj.initResize();\n                            obj.resize();\n                            break;\n                        case 'w2ui-search-advanced':\n                            var tb = this;\n                            var it = this.get(id);\n                            if (it.checked) {\n                                obj.searchClose();\n                                setTimeout(function () { tb.uncheck(id); }, 1);\n                            } else {\n                                obj.searchOpen();\n                                event.originalEvent.stopPropagation();\n                                function tmp_close() {\n                                    if ($('#w2ui-overlay-searches-'+ obj.name).data('keepOpen') === true) return;\n                                    tb.uncheck(id);\n                                    $(document).off('click', 'body', tmp_close);\n                                }\n                                $(document).on('click', 'body', tmp_close);\n                            }\n                            break;\n                        case 'w2ui-add':\n                            // events\n                            var eventData = obj.trigger({ phase: 'before', target: obj.name, type: 'add', recid: null });\n                            obj.trigger($.extend(eventData, { phase: 'after' }));\n                            break;\n                        case 'w2ui-edit':\n                            var sel     = obj.getSelection();\n                            var recid     = null;\n                            if (sel.length == 1) recid = sel[0];\n                            // events\n                            var eventData = obj.trigger({ phase: 'before', target: obj.name, type: 'edit', recid: recid });\n                            obj.trigger($.extend(eventData, { phase: 'after' }));\n                            break;\n                        case 'w2ui-delete':\n                            obj[\"delete\"]();\n                            break;\n                        case 'w2ui-save':\n                            obj.save();\n                            break;\n                    }\n                    // no default action\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                });\n            }\n            return;\n        },\n\n        initResize: function () {\n            var obj = this;\n            //if (obj.resizing === true) return;\n            $(this.box).find('.w2ui-resizer')\n                .off('click')\n                .on('click', function (event) {\n                    if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    if (event.preventDefault) event.preventDefault();\n                })\n                .off('mousedown')\n                .on('mousedown', function (event) {\n                    if (!event) event = window.event;\n                    if (!window.addEventListener) { window.document.attachEvent('onselectstart', function() { return false; } ); }\n                    obj.resizing = true;\n                    obj.last.tmp = {\n                        x   : event.screenX,\n                        y   : event.screenY,\n                        gx  : event.screenX,\n                        gy  : event.screenY,\n                        col : parseInt($(this).attr('name'))\n                    };\n                    if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    if (event.preventDefault) event.preventDefault();\n                    // fix sizes\n                    for (var c = 0; c < obj.columns.length; c++) {\n                        if (typeof obj.columns[c].sizeOriginal == 'undefined') obj.columns[c].sizeOriginal = obj.columns[c].size;\n                        obj.columns[c].size = obj.columns[c].sizeCalculated;\n                    }\n                    var eventData = { phase: 'before', type: 'columnResize', target: obj.name, column: obj.last.tmp.col, field: obj.columns[obj.last.tmp.col].field };\n                    eventData = obj.trigger($.extend(eventData, { resizeBy: 0, originalEvent: event }));\n                    // set move event\n                    var mouseMove = function (event) {\n                        if (obj.resizing != true) return;\n                        if (!event) event = window.event;\n                        // event before\n                        eventData = obj.trigger($.extend(eventData, { resizeBy: (event.screenX - obj.last.tmp.gx), originalEvent: event }));\n                        if (eventData.isCancelled === true) { eventData.isCancelled = false; return; }\n                        // default action\n                        obj.last.tmp.x = (event.screenX - obj.last.tmp.x);\n                        obj.last.tmp.y = (event.screenY - obj.last.tmp.y);\n                        obj.columns[obj.last.tmp.col].size = (parseInt(obj.columns[obj.last.tmp.col].size) + obj.last.tmp.x) + 'px';\n                        obj.resizeRecords();\n                        // reset\n                        obj.last.tmp.x = event.screenX;\n                        obj.last.tmp.y = event.screenY;\n                    };\n                    var mouseUp = function (event) {\n                        delete obj.resizing;\n                        $(document).off('mousemove', 'body');\n                        $(document).off('mouseup', 'body');\n                        obj.resizeRecords();\n                        // event before\n                        obj.trigger($.extend(eventData, { phase: 'after', originalEvent: event }));\n                    };\n                    $(document).on('mousemove', 'body', mouseMove);\n                    $(document).on('mouseup', 'body', mouseUp);\n                })\n                .each(function (index, el) {\n                    var td  = $(el).parent();\n                    $(el).css({\n                        \"height\"         : '25px',\n                        \"margin-left\"     : (td.width() - 3) + 'px'\n                    })\n                });\n        },\n\n        resizeBoxes: function () {\n            // elements\n            var header   = $('#grid_'+ this.name +'_header');\n            var toolbar  = $('#grid_'+ this.name +'_toolbar');\n            var fsummary = $('#grid_'+ this.name +'_fsummary');\n            var summary  = $('#grid_'+ this.name +'_summary');\n            var footer   = $('#grid_'+ this.name +'_footer');\n            var body     = $('#grid_'+ this.name +'_body');\n\n            if (this.show.header) {\n                header.css({\n                    top:   '0px',\n                    left:  '0px',\n                    right: '0px'\n                });\n            }\n\n            if (this.show.toolbar) {\n                toolbar.css({\n                    top:   ( 0 + (this.show.header ? w2utils.getSize(header, 'height') : 0) ) + 'px',\n                    left:  '0px',\n                    right: '0px'\n                });\n            }\n            if (this.summary.length > 0) {\n                fsummary.css({\n                    bottom: ( 0 + (this.show.footer ? w2utils.getSize(footer, 'height') : 0) ) + 'px'\n                });\n                summary.css({\n                    bottom: ( 0 + (this.show.footer ? w2utils.getSize(footer, 'height') : 0) ) + 'px',\n                    right: '0px'\n                });\n            }\n            if (this.show.footer) {\n                footer.css({\n                    bottom: '0px',\n                    left:  '0px',\n                    right: '0px'\n                });\n            }\n            body.css({\n                top: ( 0 + (this.show.header ? w2utils.getSize(header, 'height') : 0) + (this.show.toolbar ? w2utils.getSize(toolbar, 'height') : 0) ) + 'px',\n                bottom: ( 0 + (this.show.footer ? w2utils.getSize(footer, 'height') : 0) + (this.summary.length > 0 ? w2utils.getSize(summary, 'height') : 0) ) + 'px',\n                left:   '0px',\n                right:  '0px'\n            });\n        },\n\n        resizeRecords: function () {\n            var obj = this;\n            // remove empty records\n            $(this.box).find('.w2ui-empty-record').remove();\n            // -- Calculate Column size in PX\n            var box      = $(this.box);\n            var grid     = $(this.box).find('> div');\n            var header   = $('#grid_'+ this.name +'_header');\n            var toolbar  = $('#grid_'+ this.name +'_toolbar');\n            var summary  = $('#grid_'+ this.name +'_summary');\n            var fsummary = $('#grid_'+ this.name +'_fsummary');\n            var footer   = $('#grid_'+ this.name +'_footer');\n            var body     = $('#grid_'+ this.name +'_body');\n            var columns  = $('#grid_'+ this.name +'_columns');\n            var fcolumns = $('#grid_'+ this.name +'_fcolumns');\n            var records  = $('#grid_'+ this.name +'_records');\n            var frecords = $('#grid_'+ this.name +'_frecords');\n            var scroll1  = $('#grid_'+ this.name +'_scroll1');\n            var lineNumberWidth = String(this.total).length * 8 + 10;\n            if (lineNumberWidth < 34) lineNumberWidth = 34; // 3 digit width\n\n            var bodyOverflowX = false;\n            var bodyOverflowY = false;\n            if (body.width() < $(records).find('>table').width() + $(frecords).find('>table').width()) bodyOverflowX = true;\n            if (body.height() - columns.height() < $(records).find('>table').height() + (bodyOverflowX ? w2utils.scrollBarSize() : 0)) bodyOverflowY = true;\n\n            // body might be expanded by data\n            if (!this.fixedBody) {\n                // allow it to render records, then resize\n                var calculatedHeight = w2utils.getSize(columns, 'height')\n                    + w2utils.getSize($('#grid_'+ obj.name +'_records table'), 'height')\n                    + (bodyOverflowX ? w2utils.scrollBarSize() : 0);\n                obj.height = calculatedHeight\n                    + w2utils.getSize(grid, '+height')\n                    + (obj.show.header ? w2utils.getSize(header, 'height') : 0)\n                    + (obj.show.toolbar ? w2utils.getSize(toolbar, 'height') : 0)\n                    + (summary.css('display') != 'none' ? w2utils.getSize(summary, 'height') : 0)\n                    + (obj.show.footer ? w2utils.getSize(footer, 'height') : 0);\n                grid.css('height', obj.height);\n                body.css('height', calculatedHeight);\n                box.css('height', w2utils.getSize(grid, 'height') + w2utils.getSize(box, '+height'));\n            } else {\n                // fixed body height\n                var calculatedHeight =  grid.height()\n                    - (this.show.header ? w2utils.getSize(header, 'height') : 0)\n                    - (this.show.toolbar ? w2utils.getSize(toolbar, 'height') : 0)\n                    - (summary.css('display') != 'none' ? w2utils.getSize(summary, 'height') : 0)\n                    - (this.show.footer ? w2utils.getSize(footer, 'height') : 0);\n                body.css('height', calculatedHeight);\n            }\n\n            var buffered = this.records.length;\n            if (this.searchData.length != 0 && !this.url) buffered = this.last.searchIds.length;\n            // apply overflow\n            if (!this.fixedBody) { bodyOverflowY = false }\n            if (bodyOverflowX || bodyOverflowY) {\n                columns.find('> table > tbody > tr:nth-child(1) td.w2ui-head-last').css('width', w2utils.scrollBarSize()).show();\n                records.css({\n                    top: ((this.columnGroups.length > 0 && this.show.columns ? 1 : 0) + w2utils.getSize(columns, 'height')) +'px',\n                    \"-webkit-overflow-scrolling\": \"touch\",\n                    \"overflow-x\": (bodyOverflowX ? 'auto' : 'hidden'),\n                    \"overflow-y\": (bodyOverflowY ? 'auto' : 'hidden') \n                });\n            } else {\n                columns.find('> table > tbody > tr:nth-child(1) td.w2ui-head-last').hide();\n                records.css({\n                    top: ((this.columnGroups.length > 0 && this.show.columns ? 1 : 0) + w2utils.getSize(columns, 'height')) +'px',\n                    overflow: 'hidden'\n                });\n                if (records.length > 0) { this.last.scrollTop  = 0; this.last.scrollLeft = 0; } // if no scrollbars, always show top\n            }\n            if (bodyOverflowX) {\n                frecords.css('margin-bottom', w2utils.scrollBarSize());\n                scroll1.show();\n            } else {\n                frecords.css('margin-bottom', 0);\n                scroll1.hide();                \n            }\n            frecords.css({ overflow: 'hidden', top: records.css('top') });\n            if (this.show.emptyRecords && !bodyOverflowY) {\n                var max = Math.floor(records.height() / this.recordHeight) + 1;\n                if (this.fixedBody) {\n                    for (var di = buffered; di <= max; di++) {\n                        var html1 = '';\n                        var html2 = '';\n                        var htmlp = '';\n                        html1 += '<tr class=\"'+ (di % 2 ? 'w2ui-even' : 'w2ui-odd') + ' w2ui-empty-record\" style=\"height: '+ this.recordHeight +'px\">';\n                        html2 += '<tr class=\"'+ (di % 2 ? 'w2ui-even' : 'w2ui-odd') + ' w2ui-empty-record\" style=\"height: '+ this.recordHeight +'px\">';\n                        if (this.show.lineNumbers)  html1 += '<td class=\"w2ui-col-number\"></td>';\n                        if (this.show.selectColumn) html1 += '<td class=\"w2ui-grid-data w2ui-col-select\"></td>';\n                        if (this.show.expandColumn) html1 += '<td class=\"w2ui-grid-data w2ui-col-expand\"></td>';\n                        var j = 0;\n                        while (this.columns.length > 0) {\n                            var col = this.columns[j];\n                            if (col.hidden) { j++; if (typeof this.columns[j] == 'undefined') break; else continue; }\n                            htmlp += '<td class=\"w2ui-grid-data\" '+ (typeof col.attr != 'undefined' ? col.attr : '') +' col=\"'+ j +'\"></td>';\n                            if (col.frozen) html1 += htmlp; else html2 += htmlp;\n                            j++;\n                            if (typeof this.columns[j] == 'undefined') break;\n                        }\n                        html1 += '<td class=\"w2ui-grid-data-last\"></td>';\n                        html2 += '<td class=\"w2ui-grid-data-last\"></td>';\n                        html1 += '</tr>';\n                        html2 += '</tr>';\n                        $('#grid_'+ this.name +'_frecords > table').append(html1);\n                        $('#grid_'+ this.name +'_records > table').append(html2);\n                    }\n                }\n            }\n            if (body.length > 0) {\n                var width_max = parseInt(body.width())\n                    - (bodyOverflowY ? w2utils.scrollBarSize() : 0)\n                    - (this.show.lineNumbers ? lineNumberWidth : 0)\n                    - (this.show.selectColumn ? 26 : 0)\n                    - (this.show.expandColumn ? 26 : 0)\n                    - 1; // left is 1xp due to border width\n                var width_box = width_max;\n                var percent = 0;\n                // gridMinWidth processiong\n                var restart = false;\n                for (var i = 0; i < this.columns.length; i++) {\n                    var col = this.columns[i];\n                    if (col.gridMinWidth > 0) {\n                        if (col.gridMinWidth > width_box && col.hidden !== true) {\n                            col.hidden = true;\n                            restart = true;\n                        }\n                        if (col.gridMinWidth < width_box && col.hidden === true) {\n                            col.hidden = false;\n                            restart = true;\n                        }\n                    }\n                }\n                if (restart === true) {\n                    this.refresh();\n                    return;\n                }\n                // assign PX column s\n                for (var i = 0; i < this.columns.length; i++) {\n                    var col = this.columns[i];\n                    if (col.hidden) continue;\n                    if (String(col.size).substr(String(col.size).length-2).toLowerCase() == 'px') {\n                        width_max -= parseFloat(col.size);\n                        this.columns[i].sizeCalculated = col.size;\n                        this.columns[i].sizeType = 'px';\n                    } else {\n                        percent += parseFloat(col.size);\n                        this.columns[i].sizeType = '%';\n                        delete col.sizeCorrected;\n                    }\n                }\n                // if sum != 100% -- reassign proportionally\n                if (percent != 100 && percent > 0) {\n                    for (var i = 0; i < this.columns.length; i++) {\n                        var col = this.columns[i];\n                        if (col.hidden) continue;\n                        if (col.sizeType == '%') {\n                            col.sizeCorrected = Math.round(parseFloat(col.size) * 100 * 100 / percent) / 100 + '%';\n                        }\n                    }\n                }\n                // calculate % columns\n                for (var i = 0; i < this.columns.length; i++) {\n                    var col = this.columns[i];\n                    if (col.hidden) continue;\n                    if (col.sizeType == '%') {\n                        if (typeof this.columns[i].sizeCorrected != 'undefined') {\n                            // make it 1px smaller, so margin of error can be calculated correctly\n                            this.columns[i].sizeCalculated = Math.floor(width_max * parseFloat(col.sizeCorrected) / 100) - 1 + 'px';\n                        } else {\n                            // make it 1px smaller, so margin of error can be calculated correctly\n                            this.columns[i].sizeCalculated = Math.floor(width_max * parseFloat(col.size) / 100) - 1 + 'px';\n                        }\n                    }\n                }\n            }\n            // fix margin of error that is due percentage calculations\n            var width_cols = 0;\n            for (var i = 0; i < this.columns.length; i++) {\n                var col = this.columns[i];\n                if (col.hidden) continue;\n                if (typeof col.min == 'undefined') col.min = 20;\n                if (parseInt(col.sizeCalculated) < parseInt(col.min)) col.sizeCalculated = col.min + 'px';\n                if (parseInt(col.sizeCalculated) > parseInt(col.max)) col.sizeCalculated = col.max + 'px';\n                width_cols += parseInt(col.sizeCalculated);\n            }\n            var width_diff = parseInt(width_box) - parseInt(width_cols);\n            if (width_diff > 0 && percent > 0) {\n                var i = 0;\n                while (true) {\n                    var col = this.columns[i];\n                    if (typeof col == 'undefined') { i = 0; continue; }\n                    if (col.hidden || col.sizeType == 'px') { i++; continue; }\n                    col.sizeCalculated = (parseInt(col.sizeCalculated) + 1) + 'px';\n                    width_diff--;\n                    if (width_diff == 0) break;\n                    i++;\n                }\n            } else if (width_diff > 0) {\n                columns.find('> table > tbody > tr:nth-child(1) td.w2ui-head-last').css('width', w2utils.scrollBarSize()).show();\n            }\n\n            // find width of frozen columns\n            var fwidth = 1;\n            if (this.show.lineNumbers)  fwidth += lineNumberWidth;\n            if (this.show.selectColumn) fwidth += 26;\n            if (this.show.expandColumn) fwidth += 26;\n            for (var i = 0; i < this.columns.length; i++) {\n                if (this.columns[i].hidden) continue;\n                if (this.columns[i].frozen) fwidth += parseInt(this.columns[i].sizeCalculated);\n            }\n            fcolumns.css('width', fwidth);\n            frecords.css('width', fwidth);\n            fsummary.css('width', fwidth);\n            scroll1.css('width', fwidth);\n            columns.css('left', fwidth);\n            records.css('left', fwidth);\n            summary.css('left', fwidth);\n\n            // resize columns\n            columns.find('> table > tbody > tr:nth-child(1) td')\n                .add(fcolumns.find('> table > tbody > tr:nth-child(1) td'))\n                .each(function (index, el) {\n                    // line numbers\n                    if ($(el).hasClass('w2ui-col-number')) {\n                        $(el).css('width', lineNumberWidth)\n                    }\n                    // records\n                    var ind = $(el).attr('col');\n                    if (typeof ind != 'undefined' && obj.columns[ind]) {\n                        $(el).css('width', obj.columns[ind].sizeCalculated);\n                    }\n                    // last column\n                    if ($(el).hasClass('w2ui-head-last')) {\n                        $(el).css('width', w2utils.scrollBarSize() + (width_diff > 0 && percent == 0 ? width_diff : 0) + 'px');\n                    }\n                });\n            // if there are column groups - hide first row (needed for sizing)\n            if (columns.find('> table > tbody > tr').length == 3) {\n                columns.find('> table > tbody > tr:nth-child(1) td')\n                    .add(fcolumns.find('> table > tbody > tr:nth-child(1) td'))\n                    .html('').css({\n                        'height' : '0px',\n                        'border' : '0px',\n                        'padding': '0px',\n                        'margin' : '0px'\n                    });\n            }\n            // resize records\n            records.find('> table > tbody > tr:nth-child(1) td')\n                .add(frecords.find('> table > tbody > tr:nth-child(1) td'))\n                .each(function (index, el) {\n                    // line numbers\n                    if ($(el).hasClass('w2ui-col-number')) {\n                        $(el).css('width', lineNumberWidth)\n                    }\n                    // records\n                    var ind = $(el).attr('col');\n                    if (typeof ind != 'undefined' && obj.columns[ind]) {\n                        $(el).css('width', obj.columns[ind].sizeCalculated);\n                    }\n                    // last column\n                    if ($(el).hasClass('w2ui-grid-data-last') && $(el).parents('.w2ui-grid-frecords').length == 0) { // not in frecords\n                        $(el).css('width', (width_diff > 0 && percent == 0 ? width_diff : 0) + 'px');\n                    }\n                });\n            // resize summary\n            summary.find('> table > tbody > tr:nth-child(1) td')\n                .add(fsummary.find('> table > tbody > tr:nth-child(1) td'))\n                .each(function (index, el) {\n                    // line numbers\n                    if ($(el).hasClass('w2ui-col-number')) {\n                        $(el).css('width', lineNumberWidth)\n                    }\n                    // records\n                    var ind = $(el).attr('col');\n                    if (typeof ind != 'undefined' && obj.columns[ind]) {\n                        $(el).css('width', obj.columns[ind].sizeCalculated);\n                    }\n                    // last column\n                    if ($(el).hasClass('w2ui-grid-data-last') && $(el).parents('.w2ui-grid-frecords').length == 0) { // not in frecords\n                        $(el).css('width', w2utils.scrollBarSize() + (width_diff > 0 && percent == 0 ? width_diff : 0) + 'px');\n                    }\n                });\n            this.initResize();\n            this.refreshRanges();\n            // apply last scroll if any\n            if ((this.last.scrollTop || this.last.scrollLeft) && records.length > 0) {\n                columns.prop('scrollLeft', this.last.scrollLeft);\n                records.prop('scrollTop',  this.last.scrollTop);\n                records.prop('scrollLeft', this.last.scrollLeft);\n            }\n        },\n\n        getSearchesHTML: function () {\n            var html = '<table cellspacing=\"0\">';\n            var showBtn = false;\n            for (var i = 0; i < this.searches.length; i++) {\n                var s = this.searches[i];\n                s.type = String(s.type).toLowerCase();\n                if (s.hidden) continue;\n                var btn = '';\n                if (showBtn == false) {\n                    btn = '<button class=\"w2ui-btn close-btn\" onclick=\"obj = w2ui[\\''+ this.name +'\\']; if (obj) { obj.searchClose(); }\">X</button';\n                    showBtn = true;\n                }\n                if (typeof s.inTag   == 'undefined') s.inTag     = '';\n                if (typeof s.outTag  == 'undefined') s.outTag     = '';\n                if (typeof s.type    == 'undefined') s.type     = 'text';\n                if (['text', 'alphanumeric', 'combo'].indexOf(s.type) != -1) {\n                    var operator =  '<select id=\"grid_'+ this.name +'_operator_'+ i +'\" onclick=\"event.stopPropagation();\">'+\n                        '    <option value=\"is\">'+ w2utils.lang('is') +'</option>'+\n                        '    <option value=\"begins\">'+ w2utils.lang('begins') +'</option>'+\n                        '    <option value=\"contains\">'+ w2utils.lang('contains') +'</option>'+\n                        '    <option value=\"ends\">'+ w2utils.lang('ends') +'</option>'+\n                        '</select>';\n                }\n                if (['int', 'float', 'money', 'currency', 'percent', 'date', 'time'].indexOf(s.type) != -1) {\n                    var operator =  '<select id=\"grid_'+ this.name +'_operator_'+ i +'\" '+\n                        '        onchange=\"w2ui[\\''+ this.name + '\\'].initOperator(this, '+ i +');\" onclick=\"event.stopPropagation();\">'+\n                        '   <option value=\"is\">'+ w2utils.lang('is') +'</option>'+\n                        '   <option value=\"between\">'+ w2utils.lang('between') +'</option>'+\n                        '</select>';\n                }\n                if (['select', 'list', 'hex'].indexOf(s.type) != -1) {\n                    var operator =  '<select id=\"grid_'+ this.name +'_operator_'+ i +'\" onclick=\"event.stopPropagation();\">'+\n                        '    <option value=\"is\">'+ w2utils.lang('is') +'</option>'+\n                        '</select>';\n                }\n                if (['enum'].indexOf(s.type) != -1) {\n                    var operator =  '<select id=\"grid_'+ this.name +'_operator_'+ i +'\" onclick=\"event.stopPropagation();\">'+\n                        '    <option value=\"in\">'+ w2utils.lang('in') +'</option>'+\n                        '    <option value=\"not in\">'+ w2utils.lang('not in') +'</option>'+\n                        '</select>';\n                }\n                html += '<tr>'+\n                        '    <td class=\"close-btn\">'+ btn +'</td>' +\n                        '    <td class=\"caption\">'+ s.caption +'</td>' +\n                        '    <td class=\"operator\">'+ operator +'</td>'+\n                        '    <td class=\"value\">';\n\n                switch (s.type) {\n                    case 'text':\n                    case 'alphanumeric':\n                    case 'hex':\n                    case 'list':\n                    case 'combo':\n                    case 'enum':\n                        html += '<input rel=\"search\" type=\"text\" style=\"width: 300px;\" id=\"grid_'+ this.name +'_field_'+ i +'\" name=\"'+ s.field +'\" '+ s.inTag +'>';\n                        break;\n\n                    case 'int':\n                    case 'float':\n                    case 'money':\n                    case 'currency':\n                    case 'percent':\n                    case 'date':\n                    case 'time':\n                        html += '<input rel=\"search\" type=\"text\" size=\"12\" id=\"grid_'+ this.name +'_field_'+ i +'\" name=\"'+ s.field +'\" '+ s.inTag +'>'+\n                                '<span id=\"grid_'+ this.name +'_range_'+ i +'\" style=\"display: none\">'+\n                                '&nbsp;-&nbsp;&nbsp;<input rel=\"search\" type=\"text\" style=\"width: 90px\" id=\"grid_'+ this.name +'_field2_'+i+'\" name=\"'+ s.field +'\" '+ s.inTag +'>'+\n                                '</span>';\n                        break;\n\n                    case 'select':\n                        html += '<select rel=\"search\" id=\"grid_'+ this.name +'_field_'+ i +'\" name=\"'+ s.field +'\" '+ s.inTag +'  onclick=\"event.stopPropagation();\"></select>';\n                        break;\n\n                }\n                html += s.outTag +\n                        '    </td>' +\n                        '</tr>';\n            }\n            html += '<tr>'+\n                    '    <td colspan=\"4\" class=\"actions\">'+\n                    '        <div>'+\n                    '        <button class=\"w2ui-btn\" onclick=\"obj = w2ui[\\''+ this.name +'\\']; if (obj) { obj.searchReset(); }\">'+ w2utils.lang('Reset') + '</button>'+\n                    '        <button class=\"w2ui-btn w2ui-btn-blue\" onclick=\"obj = w2ui[\\''+ this.name +'\\']; if (obj) { obj.search(); }\">'+ w2utils.lang('Search') + '</button>'+\n                    '        </div>'+\n                    '    </td>'+\n                    '</tr></table>';\n            return html;\n        },\n\n        initOperator: function (el, search_ind) {\n            var obj     = this;\n            var search  = obj.searches[search_ind];\n            var range   = $('#grid_'+ obj.name + '_range_'+ search_ind);\n            var fld1    = $('#grid_'+ obj.name +'_field_'+ search_ind);\n            var fld2    = fld1.parent().find('span input');\n            if ($(el).val() == 'in' || $(el).val() == 'not in') { fld1.w2field('clear'); } else { fld1.w2field(search.type); }\n            if ($(el).val() == 'between') { range.show(); fld2.w2field(search.type); } else { range.hide(); }\n        },\n\n        initSearches: function () {\n            var obj = this;\n            // init searches\n            for (var s = 0; s < this.searches.length; s++) {\n                var search   = this.searches[s];\n                var sdata    = this.getSearchData(search.field);\n                var operator = null;\n                search.type = String(search.type).toLowerCase();\n                if (typeof search.options != 'object') search.options = {};\n                // init types\n                switch (search.type) {\n                    case 'text':\n                    case 'alphanumeric':\n                        operator = 'begins';\n                        if (search.operator && ['is', 'begins', 'contains', 'ends'].indexOf(search.operator) != -1) operator = search.operator;\n                        if (['alphanumeric', 'hex'].indexOf(search.type) != -1) {\n                            $('#grid_'+ this.name +'_field_' + s).w2field(search.type, search.options);\n                        }\n                        break;\n\n                    case 'int':\n                    case 'float':\n                    case 'money':\n                    case 'currency':\n                    case 'percent':\n                    case 'date':\n                    case 'time':\n                        if (sdata && sdata.type == 'int' && ['in', 'not in'].indexOf(sdata.operator) != -1) break;\n                        operator = 'is';\n                        if (search.operator && ['is', 'between'].indexOf(search.operator) != -1) operator = search.operator;\n                        $('#grid_'+ this.name +'_field_'+s).w2field(search.type, search.options);\n                        $('#grid_'+ this.name +'_field2_'+s).w2field(search.type, search.options);\n                        setTimeout(function () { // convert to date if it is number\n                            $('#grid_'+ obj.name +'_field_'+s).keydown(); \n                            $('#grid_'+ obj.name +'_field2_'+s).keydown(); \n                        }, 1);\n                        break;\n\n                    case 'hex':\n                        operator = 'is';\n                        if (search.operator && ['is', 'between'].indexOf(search.operator) != -1) operator = search.operator;\n                        break;\n\n                    case 'list':\n                    case 'combo':\n                    case 'enum':\n                        if (search.type == 'list') operator = 'is'\n                        if (search.type == 'combo') {\n                            operator = 'begins'\n                            if (search.operator && ['is', 'begins', 'contains', 'ends'].indexOf(search.operator) != -1) operator = search.operator;\n                        }\n                        if (search.type == 'enum') {\n                            operator = 'in';\n                            if (search.operator && ['in', 'not in'].indexOf(search.operator) != -1) operator = search.operator;\n                        }                        \n                        var options = search.options;\n                        if (search.type == 'list') options.selected = {};\n                        if (search.type == 'enum') options.selected = [];\n                        if (sdata) options.selected = sdata.value;\n                        $('#grid_'+ this.name +'_field_'+s).w2field(search.type, $.extend({ openOnFocus: true }, options));\n                        break;\n\n                    case 'select':\n                        operator = 'is';\n                        // build options\n                        var options = '<option value=\"\">--</option>';\n                        for (var i = 0; i < search.options.items; i++) {\n                            var si = search.options.items[i];\n                            if ($.isPlainObject(search.options.items[i])) {\n                                var val = si.id;\n                                var txt = si.text;\n                                if (typeof val == 'undefined' && typeof si.value != 'undefined')   val = si.value;\n                                if (typeof txt == 'undefined' && typeof si.caption != 'undefined') txt = si.caption;\n                                if (val == null) val = '';\n                                options += '<option value=\"'+ val +'\">'+ txt +'</option>';\n                            } else {\n                                options += '<option value=\"'+ si +'\">'+ si +'</option>';\n                            }\n                        }\n                        $('#grid_'+ this.name +'_field_'+s).html(options);\n                        break;\n                }\n                if (sdata != null) {\n                    if (sdata.type == 'int' && ['in', 'not in'].indexOf(sdata.operator) != -1) {\n                        $('#grid_'+ this.name +'_field_'+ s).w2field('clear').val(sdata.value);\n                    }\n                    $('#grid_'+ this.name +'_operator_'+ s).val(sdata.operator).trigger('change');\n                    if (!$.isArray(sdata.value)) {\n                        if (typeof sdata.value != 'udefined') $('#grid_'+ this.name +'_field_'+ s).val(sdata.value).trigger('change');\n                    } else {\n                        if (['in', 'not in'].indexOf(sdata.operator) != -1) {\n                            $('#grid_'+ this.name +'_field_'+ s).val(sdata.value).trigger('change');\n                        } else {\n                            $('#grid_'+ this.name +'_field_'+ s).val(sdata.value[0]).trigger('change');\n                            $('#grid_'+ this.name +'_field2_'+ s).val(sdata.value[1]).trigger('change');\n                        }\n                    }\n                } else {\n                    $('#grid_'+ this.name +'_operator_'+s).val(operator).trigger('change');\n                }\n            }\n            // add on change event\n            $('#w2ui-overlay-searches-'+ this.name +' .w2ui-grid-searches *[rel=search]').on('keypress', function (evnt) {\n                if (evnt.keyCode == 13) {\n                    obj.search();\n                    $().w2overlay();\n                }\n            });\n        },\n\n        getColumnsHTML: function () {\n            var obj  = this;\n            var html1 = '';\n            var html2 = '';\n            if (this.show.columnHeaders) {\n                if (this.columnGroups.length > 0) {\n                    var tmp1 = getColumns(true);\n                    var tmp2 = getGroups();\n                    var tmp3 = getColumns(false);\n                    html1 = tmp1[0] + tmp2[0] + tmp3[0];\n                    html2 = tmp1[1] + tmp2[1] + tmp3[1];\n                } else {\n                    var tmp = getColumns(true);\n                    html1 = tmp[0];\n                    html2 = tmp[1];\n                }\n            }\n            return [html1, html2];\n\n            function getGroups () {\n                var html1 = '<tr>';\n                var html2 = '<tr>';\n                var tmpf  = '';\n                // add empty group at the end\n                if (obj.columnGroups[obj.columnGroups.length-1].caption != '') obj.columnGroups.push({ caption: '' });\n\n                if (obj.show.lineNumbers) {\n                    html1 += '<td class=\"w2ui-head w2ui-col-number\">'+\n                            '    <div style=\"height: '+ (obj.recordHeight+1) +'px\">&nbsp;</div>'+\n                            '</td>';\n                }\n                if (obj.show.selectColumn) {\n                    html1 += '<td class=\"w2ui-head w2ui-col-select\">'+\n                            '    <div style=\"height: '+ (obj.recordHeight+1) +'px\">&nbsp;</div>'+\n                            '</td>';\n                }\n                if (obj.show.expandColumn) {\n                    html1 += '<td class=\"w2ui-head w2ui-col-expand\">'+\n                            '    <div style=\"height: '+ (obj.recordHeight+1) +'px\">&nbsp;</div>'+\n                            '</td>';\n                }\n                var ii = 0;\n                for (var i=0; i<obj.columnGroups.length; i++) {\n                    var colg = obj.columnGroups[i];\n                    var col  = obj.columns[ii];\n                    if (typeof colg.span == 'undefined' || colg.span != parseInt(colg.span)) colg.span = 1;\n                    if (typeof colg.colspan != 'undefined') colg.span = colg.colspan;\n                    if (colg.master === true) {\n                        var sortStyle = '';\n                        for (var si = 0; si < obj.sortData.length; si++) {\n                            if (obj.sortData[si].field == col.field) {\n                                if (new RegExp('asc', 'i').test(obj.sortData[si].direction))  sortStyle = 'w2ui-sort-up';\n                                if (new RegExp('desc', 'i').test(obj.sortData[si].direction)) sortStyle = 'w2ui-sort-down';\n                            }\n                        }\n                        var resizer = \"\";\n                        if (col.resizable !== false) {\n                            resizer = '<div class=\"w2ui-resizer\" name=\"'+ ii +'\"></div>';\n                        }\n                        tmpf = '<td id=\"grid_'+ obj.name + '_column_' + ii +'\" class=\"w2ui-head '+ sortStyle +'\" col=\"'+ ii + '\" rowspan=\"2\" colspan=\"'+ (colg.span + (i == obj.columnGroups.length-1 ? 1 : 0) ) +'\" '+\n                               '    onclick=\"w2ui[\\''+ obj.name +'\\'].columnClick(\\''+ col.field +'\\', event);\">'+\n                                   resizer +\n                               '    <div class=\"w2ui-col-group w2ui-col-header '+ (sortStyle ? 'w2ui-col-sorted' : '') +'\">'+\n                               '        <div class=\"'+ sortStyle +'\"></div>'+\n                                       (!col.caption ? '&nbsp;' : col.caption) +\n                               '    </div>'+\n                               '</td>';\n                        if (col && col.frozen) html1 += tmpf; else html2 += tmpf;\n                    } else {\n                        tmpf = '<td id=\"grid_'+ obj.name + '_column_' + ii +'\" class=\"w2ui-head\" col=\"'+ ii + '\" '+\n                               '        colspan=\"'+ (colg.span + (i == obj.columnGroups.length-1 ? 1 : 0) ) +'\">'+\n                               '    <div class=\"w2ui-col-group\">'+\n                                   (!colg.caption ? '&nbsp;' : colg.caption) +\n                               '    </div>'+\n                               '</td>';\n                        if (col && col.frozen) html1 += tmpf; else html2 += tmpf;\n                    }\n                    ii += colg.span;\n                }\n                html1 += '<td></td></tr>'; // need empty column for border-right \n                html2 += '</tr>';\n                return [html1, html2];\n            }\n\n            function getColumns (master) {\n                var html1 = '<tr>';\n                var html2 = '<tr>';\n                var tmpf  = '';\n                var reorderCols = (obj.reorderColumns && (!obj.columnGroups || !obj.columnGroups.length)) ? ' w2ui-reorder-cols-head ' : '';\n                if (obj.show.lineNumbers) {\n                    html1 += '<td class=\"w2ui-head w2ui-col-number\" onclick=\"w2ui[\\''+ obj.name +'\\'].columnClick(\\'line-number\\', event);\">'+\n                            '    <div>#</div>'+\n                            '</td>';\n                }\n                if (obj.show.selectColumn) {\n                    html1 += '<td class=\"w2ui-head w2ui-col-select\" '+\n                            '        onclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+\n                            '    <div>'+\n                            '        <input type=\"checkbox\" id=\"grid_'+ obj.name +'_check_all\" tabIndex=\"-1\"'+\n                            '            style=\"' + (obj.multiSelect == false ? 'display: none;' : '') + '\"'+\n                            '            onclick=\"if (this.checked) w2ui[\\''+ obj.name +'\\'].selectAll(); '+\n                            '                     else w2ui[\\''+ obj.name +'\\'].selectNone(); '+\n                            '                     if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+\n                            '    </div>'+\n                            '</td>';\n                }\n                if (obj.show.expandColumn) {\n                    html1 += '<td class=\"w2ui-head w2ui-col-expand\">'+\n                            '    <div>&nbsp;</div>'+\n                            '</td>';\n                }\n                var ii = 0;\n                var id = 0;\n                for (var i = 0; i < obj.columns.length; i++) {\n                    var col  = obj.columns[i];\n                    var colg = {};\n                    if (i == id) {\n                        id = id + (typeof obj.columnGroups[ii] != 'undefined' ? parseInt(obj.columnGroups[ii].span) : 0);\n                        ii++;\n                    }\n                    if (typeof obj.columnGroups[ii-1] != 'undefined') var colg = obj.columnGroups[ii-1];\n                    if (col.hidden) continue;\n                    var sortStyle = '';\n                    for (var si = 0; si < obj.sortData.length; si++) {\n                        if (obj.sortData[si].field == col.field) {\n                            if (new RegExp('asc', 'i').test(obj.sortData[si].direction))  sortStyle = 'w2ui-sort-up';\n                            if (new RegExp('desc', 'i').test(obj.sortData[si].direction)) sortStyle = 'w2ui-sort-down';\n                        }\n                    }\n                    if (colg['master'] !== true || master) { // grouping of columns\n                        var resizer = \"\";\n                        if (col.resizable !== false) {\n                            resizer = '<div class=\"w2ui-resizer\" name=\"'+ i +'\"></div>';\n                        }\n                        tmpf  = '<td id=\"grid_'+ obj.name + '_column_' + i +'\" col=\"'+ i +'\" class=\"w2ui-head '+ sortStyle + reorderCols + '\" ' +\n                                '    onclick=\"w2ui[\\''+ obj.name +'\\'].columnClick(\\''+ col.field +'\\', event);\">'+\n                                    resizer +\n                                '    <div class=\"w2ui-col-header '+ (sortStyle ? 'w2ui-col-sorted' : '') +'\">'+\n                                '        <div class=\"'+ sortStyle +'\"></div>'+\n                                        (!col.caption ? '&nbsp;' : col.caption) +\n                                '    </div>'+\n                                '</td>';\n                        if (col && col.frozen) html1 += tmpf; else html2 += tmpf;\n                    }\n                }\n                html1 += '<td class=\"w2ui-head w2ui-head-last\"><div>&nbsp;</div></td>';\n                html2 += '<td class=\"w2ui-head w2ui-head-last\"><div>&nbsp;</div></td>';\n                html1 += '</tr>';\n                html2 += '</tr>';\n                return [html1, html2];\n            }\n        },\n\n        getRecordsHTML: function () {\n            var buffered = this.records.length;\n            if (this.searchData.length != 0 && !this.url) buffered = this.last.searchIds.length;\n            // larget number works better with chrome, smaller with FF.\n            if (buffered > this.vs_start) this.last.show_extra = this.vs_extra; else this.last.show_extra = this.vs_start;\n            var records  = $('#grid_'+ this.name +'_records');\n            var limit    = Math.floor(records.height() / this.recordHeight) + this.last.show_extra + 1;\n            if (!this.fixedBody || limit > buffered) limit = buffered;\n            // always need first record for resizing purposes\n            var rec_html = this.getRecordHTML(-1, 0);\n            var html1 = '<table>' + rec_html[0];\n            var html2 = '<table>' + rec_html[1];\n            // first empty row with height\n            html1 += '<tr id=\"grid_'+ this.name + '_frec_top\" line=\"top\" style=\"height: '+ 0 +'px\">'+\n                     '    <td colspan=\"200\"></td>'+\n                     '</tr>';\n            html2 += '<tr id=\"grid_'+ this.name + '_rec_top\" line=\"top\" style=\"height: '+ 0 +'px\">'+\n                     '    <td colspan=\"200\"></td>'+\n                     '</tr>';\n            for (var i = 0; i < limit; i++) {\n                rec_html = this.getRecordHTML(i, i+1);\n                html1 += rec_html[0];\n                html2 += rec_html[1];\n            }\n            html1 += '<tr id=\"grid_'+ this.name + '_frec_bottom\" line=\"bottom\" style=\"height: '+ ((buffered - limit) * this.recordHeight) +'px\">'+\n                    '    <td colspan=\"200\"></td>'+\n                    '</tr>'+\n                    '<tr id=\"grid_'+ this.name +'_frec_more\" style=\"display: none\">'+\n                    '    <td colspan=\"200\" class=\"w2ui-load-more\"></td>'+\n                    '</tr>'+\n                    '</table>';\n            html2 += '<tr id=\"grid_'+ this.name + '_rec_bottom\" line=\"bottom\" style=\"height: '+ ((buffered - limit) * this.recordHeight) +'px\">'+\n                    '    <td colspan=\"200\"></td>'+\n                    '</tr>'+\n                    '<tr id=\"grid_'+ this.name +'_rec_more\" style=\"display: none\">'+\n                    '    <td colspan=\"200\" class=\"w2ui-load-more\"></td>'+\n                    '</tr>'+\n                    '</table>';\n            this.last.range_start = 0;\n            this.last.range_end   = limit;\n            return [html1, html2];\n        },\n\n        getSummaryHTML: function () {\n            if (this.summary.length == 0) return;\n            var rec_html = '';\n            var html1 = '<table>';\n            var html2 = '<table>';\n            for (var i = 0; i < this.summary.length; i++) {\n                rec_html = this.getRecordHTML(i, i+1, true);\n                html1 += rec_html[0];\n                html2 += rec_html[1];\n            }\n            html1 += '</table>';\n            html2 += '</table>';\n            return [html1, html2];\n        },\n\n        scroll: function (event) {\n            var time = (new Date()).getTime();\n            var obj  = this;\n            var records  = $('#grid_'+ this.name +'_records');\n            var frecords = $('#grid_'+ this.name +'_frecords');\n            // sync scroll positions\n            if (event) {\n                var sTop  = event.target.scrollTop; \n                var sLeft = event.target.scrollLeft;\n                obj.last.scrollTop  = sTop;\n                obj.last.scrollLeft = sLeft;\n                $('#grid_'+ obj.name +'_columns')[0].scrollLeft = sLeft;\n                $('#grid_'+ obj.name +'_summary')[0].scrollLeft = sLeft;\n                frecords[0].scrollTop = sTop;\n            }\n            // perform virtual scroll\n            var buffered = this.records.length;\n            if (this.searchData.length != 0 && !this.url) buffered = this.last.searchIds.length;\n            if (buffered == 0 || records.length == 0 || records.height() == 0) return;\n            if (buffered > this.vs_start) this.last.show_extra = this.vs_extra; else this.last.show_extra = this.vs_start;\n            // need this to enable scrolling when this.limit < then a screen can fit\n            if (records.height() < buffered * this.recordHeight && records.css('overflow-y') == 'hidden') {\n                if (this.total > 0) this.refresh();\n                return;\n            }\n            // update footer\n            var t1 = Math.round(records[0].scrollTop / this.recordHeight + 1);\n            var t2 = t1 + (Math.round(records.height() / this.recordHeight) - 1);\n            if (t1 > buffered) t1 = buffered;\n            if (t2 >= buffered - 1) t2 = buffered;\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            $('#grid_'+ this.name + '_footer .w2ui-footer-right').html(\n                (obj.show.statusRange ? w2utils.formatNumber(this.offset + t1) + '-' + w2utils.formatNumber(this.offset + t2) + ' ' + w2utils.lang('of') + ' ' +    w2utils.formatNumber(this.total) : '') +\n                (url && obj.show.statusBuffered ? ' ('+ w2utils.lang('buffered') + ' '+ w2utils.formatNumber(buffered) + (this.offset > 0 ? ', skip ' + w2utils.formatNumber(this.offset) : '') + ')' : '')\n            );\n            // only for local data source, else no extra records loaded\n            if (!url && (!this.fixedBody || this.total <= 300)) return;\n            // regular processing\n            var start   = Math.floor(records[0].scrollTop / this.recordHeight) - this.last.show_extra;\n            var end     = start + Math.floor(records.height() / this.recordHeight) + this.last.show_extra * 2 + 1;\n            // var div  = start - this.last.range_start;\n            if (start < 1) start = 1;\n            if (end > this.total) end = this.total;\n            var tr1  = records.find('#grid_'+ this.name +'_rec_top');\n            var tr2  = records.find('#grid_'+ this.name +'_rec_bottom');\n            var tr1f = frecords.find('#grid_'+ this.name +'_frec_top');\n            var tr2f = frecords.find('#grid_'+ this.name +'_frec_bottom');\n            // if row is expanded\n            if (String(tr1.next().prop('id')).indexOf('_expanded_row') != -1) {\n                tr1.next().remove();\n                tr1f.next().remove();\n            }\n            if (this.total > end && String(tr2.prev().prop('id')).indexOf('_expanded_row') != -1) {\n                tr2.prev().remove();\n                tr2f.prev().remove();\n            }\n            var first = parseInt(tr1.next().attr('line'));\n            var last  = parseInt(tr2.prev().attr('line'));\n            //$('#log').html('buffer: '+ this.buffered +' start-end: ' + start + '-'+ end + ' ===> first-last: ' + first + '-' + last);\n            if (first < start || first == 1 || this.last.pull_refresh) { // scroll down\n                // console.log('end', end, 'last', last, 'show_extre', this.last.show_extra, this.last.pull_refresh);\n                if (end <= last + this.last.show_extra - 2 && end != this.total) return;\n                this.last.pull_refresh = false;\n                // remove from top\n                while (true) {\n                    var tmp1 = frecords.find('#grid_'+ this.name +'_frec_top').next();\n                    var tmp2 = records.find('#grid_'+ this.name +'_rec_top').next();\n                    if (tmp2.attr('line') == 'bottom') break;\n                    if (parseInt(tmp2.attr('line')) < start) { tmp1.remove(); tmp2.remove(); } else break;\n                }\n                // add at bottom\n                var tmp = records.find('#grid_'+ this.name +'_rec_bottom').prev();\n                var rec_start = tmp.attr('line');\n                if (rec_start == 'top') rec_start = start;\n                for (var i = parseInt(rec_start) + 1; i <= end; i++) {\n                    if (!this.records[i-1]) continue;\n                    if (this.records[i-1].expanded === true) this.records[i-1].expanded = false;\n                    var rec_html = this.getRecordHTML(i-1, i);\n                    tr2.before(rec_html[1]);\n                    tr2f.before(rec_html[0]);\n                }\n                markSearch();\n                setTimeout(function() { obj.refreshRanges(); }, 0);\n            } else { // scroll up\n                if (start >= first - this.last.show_extra + 2 && start > 1) return;\n                // remove from bottom\n                while (true) {\n                    var tmp1 = frecords.find('#grid_'+ this.name +'_frec_bottom').prev();\n                    var tmp2 = records.find('#grid_'+ this.name +'_rec_bottom').prev();\n                    if (tmp2.attr('line') == 'top') break;\n                    if (parseInt(tmp2.attr('line')) > end) { tmp1.remove(); tmp2.remove(); } else break;\n                }\n                // add at top\n                var tmp = records.find('#grid_'+ this.name +'_rec_top').next();\n                var rec_start = tmp.attr('line');\n                if (rec_start == 'bottom') rec_start = end;\n                for (var i = parseInt(rec_start) - 1; i >= start; i--) {\n                    if (!this.records[i-1]) continue;\n                    if (this.records[i-1].expanded === true) this.records[i-1].expanded = false;\n                    var rec_html = this.getRecordHTML(i-1, i);\n                    tr1.after(rec_html[1]);\n                    tr1f.after(rec_html[0]);\n                }\n                markSearch();\n                setTimeout(function() { obj.refreshRanges(); }, 0);\n            }\n            // first/last row size\n            var h1 = (start - 1) * obj.recordHeight;\n            var h2 = (buffered - end) * obj.recordHeight;\n            if (h2 < 0) h2 = 0;\n            tr1.css('height', h1 + 'px');\n            tr1f.css('height', h1 + 'px');\n            tr2.css('height', h2 + 'px');\n            tr2f.css('height', h2 + 'px');\n            obj.last.range_start = start;\n            obj.last.range_end   = end;\n            // load more if needed\n            var s = Math.floor(records[0].scrollTop / this.recordHeight);\n            var e = s + Math.floor(records.height() / this.recordHeight);\n            if (e + 10 > buffered && this.last.pull_more !== true && buffered < this.total - this.offset) {\n                if (this.autoLoad === true) {\n                    this.last.pull_more = true;\n                    this.last.xhr_offset += this.limit;\n                    this.request('get-records');\n                } else {\n                    var more = $('#grid_'+ this.name +'_rec_more');\n                    if (more.css('display') == 'none') {\n                        more.show()\n                            .on('click', function () {\n                                obj.last.pull_more = true;\n                                obj.last.xhr_offset += obj.limit;\n                                obj.request('get-records');\n                                // show spinner the last\n                                $(this).find('td').html('<div><div style=\"width: 20px; height: 20px;\" class=\"w2ui-spinner\"></div></div>');\n                            });\n                    }\n                    if (more.find('td').text().indexOf('Load') == -1) {\n                        more.find('td').html('<div>'+ w2utils.lang('Load') + ' ' + obj.limit + ' ' + w2utils.lang('More') + '...</div>');\n                    }\n                }\n            }\n            // check for grid end\n            if (buffered >= this.total - this.offset) $('#grid_'+ this.name +'_rec_more').hide();\n            return;\n\n            function markSearch() {\n                // mark search\n                if (!obj.markSearch) return;\n                clearTimeout(obj.last.marker_timer);\n                obj.last.marker_timer = setTimeout(function () {\n                    // mark all search strings\n                    var str = [];\n                    for (var s = 0; s < obj.searchData.length; s++) {\n                        var tmp = obj.searchData[s];\n                        if ($.inArray(tmp.value, str) == -1) str.push(tmp.value);\n                    }\n                    if (str.length > 0) $(obj.box).find('.w2ui-grid-data > div').w2marker(str);\n                }, 50);\n            }\n        },\n\n        getRecordHTML: function (ind, lineNum, summary) {\n            var tmph = '';\n            var rec_html1 = '';\n            var rec_html2 = '';\n            var sel = this.last.selection;\n            var record;\n            // first record needs for resize purposes\n            if (ind == -1) {\n                rec_html1 += '<tr line=\"0\">';\n                rec_html2 += '<tr line=\"0\">';\n                if (this.show.lineNumbers)  rec_html1 += '<td class=\"w2ui-col-number\" style=\"height: 0px;\"></td>';\n                if (this.show.selectColumn) rec_html1 += '<td class=\"w2ui-col-select\" style=\"height: 0px;\"></td>';\n                if (this.show.expandColumn) rec_html1 += '<td class=\"w2ui-col-expand\" style=\"height: 0px;\"></td>';\n                for (var i = 0; i < this.columns.length; i++) {\n                    var col = this.columns[i];\n                    if (col.hidden) continue;\n                    tmph = '<td class=\"w2ui-grid-data\" col=\"'+ i +'\" style=\"height: 0px;\"></td>';\n                    if (col.frozen) rec_html1 += tmph; else rec_html2 += tmph;\n                }\n                rec_html1 += '<td class=\"w2ui-grid-data-last\" style=\"height: 0px\"></td>';\n                rec_html2 += '<td class=\"w2ui-grid-data-last\" style=\"height: 0px\"></td>';\n                rec_html1 += '</tr>';\n                rec_html2 += '</tr>';\n                return [rec_html1, rec_html2];\n            }\n            // regular record\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (summary !== true) {\n                if (this.searchData.length > 0 && !url) {\n                    if (ind >= this.last.searchIds.length) return '';\n                    ind = this.last.searchIds[ind];\n                    record = this.records[ind];\n                } else {\n                    if (ind >= this.records.length) return '';\n                    record = this.records[ind];\n                }\n            } else {\n                if (ind >= this.summary.length) return '';\n                record = this.summary[ind];\n            }\n            if (!record) return '';\n            var id = w2utils.escapeId(record.recid);\n            var isRowSelected = false;\n            if (sel.indexes.indexOf(ind) != -1) isRowSelected = true;\n            // render TR\n            rec_html1 += '<tr id=\"grid_'+ this.name +'_frec_'+ record.recid +'\" recid=\"'+ record.recid +'\" line=\"'+ lineNum +'\" '+\n                ' class=\"'+ (lineNum % 2 == 0 ? 'w2ui-even' : 'w2ui-odd') + (isRowSelected && this.selectType == 'row' ? ' w2ui-selected' : '') + (record.expanded === true ? ' w2ui-expanded' : '') + '\" ' +\n                (summary !== true ?\n                    (w2utils.isIOS ?\n                        '    onclick  = \"w2ui[\\''+ this.name +'\\'].dblClick(\\''+ record.recid +'\\', event);\"'\n                        :\n                        '    onclick  = \"w2ui[\\''+ this.name +'\\'].click(\\''+ record.recid +'\\', event);\"'+\n                        '    oncontextmenu = \"w2ui[\\''+ this.name +'\\'].contextMenu(\\''+ record.recid +'\\', event);\"'\n                     )\n                    : ''\n                ) +\n                (this.selectType == 'row' ? \n                    ' onmouseover=\"$(\\'#grid_'+ this.name +'_rec_'+ record.recid +'\\').addClass(\\'w2ui-record-hover\\')\"'+\n                    ' onmouseout =\"$(\\'#grid_'+ this.name +'_rec_'+ record.recid +'\\').removeClass(\\'w2ui-record-hover\\')\"' \n                    : \n                    '') +\n                ' style=\"height: '+ this.recordHeight +'px; '+ (!isRowSelected && typeof record['style'] == 'string' ? record['style'] : '') +'\" '+\n                    ( typeof record['style'] == 'string' ? 'custom_style=\"'+ record['style'] +'\"' : '') +\n                '>';\n            rec_html2 += '<tr id=\"grid_'+ this.name +'_rec_'+ record.recid +'\" recid=\"'+ record.recid +'\" line=\"'+ lineNum +'\" '+\n                ' class=\"'+ (lineNum % 2 == 0 ? 'w2ui-even' : 'w2ui-odd') + (isRowSelected && this.selectType == 'row' ? ' w2ui-selected' : '') + (record.expanded === true ? ' w2ui-expanded' : '') + '\" ' +\n                (summary !== true ?\n                    (w2utils.isIOS ?\n                        '    onclick  = \"var obj = w2ui[\\''+ this.name +'\\']; obj.dblClick(\\''+ record.recid +'\\', event);\"'\n                        :\n                        '    onclick  = \"var obj = w2ui[\\''+ this.name +'\\']; obj.click(\\''+ record.recid +'\\', event);\"'+\n                        '    oncontextmenu = \"var obj = w2ui[\\''+ this.name +'\\']; obj.contextMenu(\\''+ record.recid +'\\', event);\"'\n                     )\n                    : ''\n                ) +\n                (this.selectType == 'row' ? \n                    ' onmouseover=\"$(\\'#grid_'+ this.name +'_frec_'+ record.recid +'\\').addClass(\\'w2ui-record-hover\\')\"'+\n                    ' onmouseout =\"$(\\'#grid_'+ this.name +'_frec_'+ record.recid +'\\').removeClass(\\'w2ui-record-hover\\')\"'\n                    :\n                    '') +\n                ' style=\"height: '+ this.recordHeight +'px; '+ (!isRowSelected && typeof record['style'] == 'string' ? record['style'] : '') +'\" '+\n                    ( typeof record['style'] == 'string' ? 'custom_style=\"'+ record['style'] +'\"' : '') +\n                '>';\n            if (this.show.lineNumbers) {\n                rec_html1 += '<td id=\"grid_'+ this.name +'_cell_'+ ind +'_number' + (summary ? '_s' : '') + '\" '+\n                            '   class=\"w2ui-col-number '+ (isRowSelected  ? ' w2ui-row-selected' : '') +'\"'+\n                                (this.reorderRows ? 'style=\"cursor: move\"' : '') + '>'+\n                                (summary !== true ? '<div>'+ lineNum +'</div>' : '') +\n                            '</td>';\n            }\n            if (this.show.selectColumn) {\n                rec_html1 +=\n                        '<td id=\"grid_'+ this.name +'_cell_'+ ind +'_select' + (summary ? '_s' : '') + '\" class=\"w2ui-grid-data w2ui-col-select\" '+\n                        '        onclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+\n                            (summary !== true ?\n                            '    <div>'+\n                            '        <input class=\"w2ui-grid-select-check\" type=\"checkbox\" tabIndex=\"-1\"'+\n                            '            '+ (isRowSelected ? 'checked=\"checked\"' : '') +\n                            '            onclick=\"var obj = w2ui[\\''+ this.name +'\\']; '+\n                            '                if (!obj.multiSelect) { obj.selectNone(); }'+\n                            '                if (this.checked) obj.select(\\''+ record.recid + '\\'); else obj.unselect(\\''+ record.recid + '\\'); '+\n                            '                if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+\n                            '    </div>'\n                            :\n                            '' ) +\n                        '</td>';\n            }\n            if (this.show.expandColumn) {\n                var tmp_img = '';\n                if (record.expanded === true)  tmp_img = '-'; else tmp_img = '+';\n                if (record.expanded == 'none') tmp_img = '';\n                if (record.expanded == 'spinner') tmp_img = '<div class=\"w2ui-spinner\" style=\"width: 16px; margin: -2px 2px;\"></div>';\n                rec_html1 +=\n                        '<td id=\"grid_'+ this.name +'_cell_'+ ind +'_expand' + (summary ? '_s' : '') + '\" class=\"w2ui-grid-data w2ui-col-expand\">'+\n                            (summary !== true ?\n                            '    <div ondblclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\" '+\n                            '            onclick=\"w2ui[\\''+ this.name +'\\'].toggle(\\''+ record.recid +'\\', event); '+\n                            '                if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+\n                            '        '+ tmp_img +' </div>'\n                            :\n                            '' ) +\n                        '</td>';\n            }\n            var col_ind = 0;\n            while (true) {\n                var col = this.columns[col_ind];\n                if (col.hidden) { col_ind++; if (typeof this.columns[col_ind] == 'undefined') break; else continue; }\n                var isChanged = !summary && record.changes && typeof record.changes[col.field] != 'undefined';\n                var rec_cell  = this.getCellHTML(ind, col_ind, summary);\n                var addStyle  = '';\n                if (typeof col.render == 'string') {\n                    var tmp = col.render.toLowerCase().split(':');\n                    if (['number', 'int', 'float', 'money', 'currency', 'percent'].indexOf(tmp[0]) != -1) addStyle += 'text-align: right;';\n                }\n                if (typeof record.style == 'object') {\n                    if (typeof record.style[col_ind] == 'string') addStyle += record.style[col_ind] + ';';\n                    if (typeof record.style[col.field] == 'string') addStyle += record.style[col.field] + ';';\n                }\n                var isCellSelected = false;\n                if (isRowSelected && $.inArray(col_ind, sel.columns[ind]) != -1) isCellSelected = true;\n                tmph = '<td class=\"w2ui-grid-data'+ (isCellSelected ? ' w2ui-selected' : '') + (isChanged ? ' w2ui-changed' : '') +'\" '+\n                        '    id=\"grid_'+ this.name +'_data_'+ ind +'_'+ col_ind +'\" col=\"'+ col_ind +'\" '+\n                        '    style=\"'+ addStyle + (typeof col.style != 'undefined' ? col.style : '') +'\" '+\n                                     (typeof col.attr != 'undefined' ? col.attr : '') +'>'+\n                             rec_cell +\n                        '</td>';\n                if (col.frozen) rec_html1 += tmph; else rec_html2 += tmph;\n                col_ind++;\n                if (typeof this.columns[col_ind] == 'undefined') break;\n            }\n            rec_html1 += '<td class=\"w2ui-grid-data-last\"></td>';\n            rec_html2 += '<td class=\"w2ui-grid-data-last\"></td>';\n            rec_html1 += '</tr>';\n            rec_html2 += '</tr>';\n            return [rec_html1, rec_html2];\n        },\n\n        getCellHTML: function (ind, col_ind, summary) {\n            var col    = this.columns[col_ind];\n            var record = (summary !== true ? this.records[ind] : this.summary[ind]);\n            var data   = this.getCellValue(ind, col_ind, summary);\n            var edit   = col.editable;\n            // various renderers\n            if (typeof col.render != 'undefined') {\n                if (typeof col.render == 'function') {\n                    data = $.trim(col.render.call(this, record, ind, col_ind));\n                    if (data.length < 4 || data.substr(0, 4).toLowerCase() != '<div') data = '<div>' + data + '</div>';\n                }\n                if (typeof col.render == 'object')   data = '<div>' + (col.render[data] || '') + '</div>';\n                if (typeof col.render == 'string') {\n                    var t   = col.render.toLowerCase().indexOf(':');\n                    var tmp = [];\n                    if (t == -1) {\n                        tmp[0] = col.render.toLowerCase();\n                        tmp[1] = '';\n                    } else {\n                        tmp[0] = col.render.toLowerCase().substr(0, t);\n                        tmp[1] = col.render.toLowerCase().substr(t+1);\n                    }\n                    var prefix = '';\n                    var suffix = '';\n                    if (['number', 'int', 'float', 'money', 'currency', 'percent'].indexOf(tmp[0]) != -1) {\n                        if (typeof tmp[1] == 'undefined' || !w2utils.isInt(tmp[1])) tmp[1] = 0;\n                        if (tmp[1] > 20) tmp[1] = 20;\n                        if (tmp[1] < 0)  tmp[1] = 0;\n                        if (['money', 'currency'].indexOf(tmp[0]) != -1) { tmp[1] = w2utils.settings.currencyPrecision; prefix = w2utils.settings.currencyPrefix; suffix = w2utils.settings.currencySuffix }\n                        if (tmp[0] == 'percent') { suffix = '%'; if (tmp[1] !== '0') tmp[1] = 1; }\n                        if (tmp[0] == 'int')     { tmp[1] = 0; }\n                        // format\n                        data = '<div>' + (data !== '' ? prefix + w2utils.formatNumber(Number(data).toFixed(tmp[1])) + suffix : '') + '</div>';\n                    }\n                    if (tmp[0] == 'time') {\n                        if (typeof tmp[1] == 'undefined' || tmp[1] == '') tmp[1] = w2utils.settings.time_format;\n                        if (tmp[1] == 'h12') tmp[1] = 'hh:mi pm';\n                        if (tmp[1] == 'h24') tmp[1] = 'h24:mi';\n                        data = '<div>' + prefix + w2utils.formatTime(data, tmp[1]) + suffix + '</div>';\n                    }\n                    if (tmp[0] == 'date') {\n                        if (typeof tmp[1] == 'undefined' || tmp[1] == '') tmp[1] = w2utils.settings.date_display;\n                        data = '<div>' + prefix + w2utils.formatDate(data, tmp[1]) + suffix + '</div>';\n                    }\n                    if (tmp[0] == 'datetime') {\n                        if (typeof tmp[1] == 'undefined' || tmp[1] == '') tmp[1] = w2utils.settings.date_display + '|' + w2utils.settings.time_format;\n                        data = '<div>' + prefix + w2utils.formatDateTime(data, tmp[1]) + suffix + '</div>';\n                    }\n                    if (tmp[0] == 'age') {\n                        data = '<div>' + prefix + w2utils.age(data) + suffix + '</div>';\n                    }\n                    if (tmp[0] == 'toggle') {\n                        data = '<div>' + prefix + (data ? 'Yes' : '') + suffix + '</div>';\n                    }\n                }\n            } else {\n                // if editable checkbox\n                var addStyle = '';\n                if (edit && ['checkbox', 'check'].indexOf(edit.type) != -1) {\n                    var changeInd = summary ? -(ind + 1) : ind;\n                    addStyle = 'text-align: center';\n                    data = '<input type=\"checkbox\" '+ (data ? 'checked' : '') +' onclick=\"' +\n                           '    var obj = w2ui[\\''+ this.name + '\\']; '+\n                           '    obj.editChange.call(obj, this, '+ changeInd +', '+ col_ind +', event); ' +\n                           '\">';\n                }\n                if (!this.show.recordTitles) {\n                    var data = '<div style=\"'+ addStyle +'\">'+ data +'</div>';\n                } else {\n                    // title overwrite\n                    var title = String(data).replace(/\"/g, \"''\");\n                    if (typeof col.title != 'undefined') {\n                        if (typeof col.title == 'function') title = col.title.call(this, record, ind, col_ind);\n                        if (typeof col.title == 'string')   title = col.title;\n                    }\n                    var data = '<div title=\"'+ w2utils.stripTags(title) +'\" style=\"'+ addStyle +'\">'+ data +'</div>';\n                }\n            }\n            if (data == null) data = '';\n            return data;\n        },\n\n        getCellValue: function (ind, col_ind, summary) {\n            var col    = this.columns[col_ind];\n            var record = (summary !== true ? this.records[ind] : this.summary[ind]);\n            var data   = this.parseField(record, col.field);\n            if (record.changes && typeof record.changes[col.field] != 'undefined') {\n                data = record.changes[col.field];\n                if ($.isPlainObject(data)) {\n                    if (data.text != null) data = data.text;\n                    if (data.id != null) data = data.id;\n                }\n            }\n            if (data == null) data = '';\n            return data;\n        },\n        \n        getFooterHTML: function () {\n            return '<div>'+\n                '    <div class=\"w2ui-footer-left\"></div>'+\n                '    <div class=\"w2ui-footer-right\"></div>'+\n                '    <div class=\"w2ui-footer-center\"></div>'+\n                '</div>';\n        },\n\n        status: function (msg) {\n            if (typeof msg != 'undefined') {\n                $('#grid_'+ this.name +'_footer').find('.w2ui-footer-left').html(msg);\n            } else {\n                // show number of selected\n                var msgLeft = '';\n                var sel = this.getSelection();\n                if (sel.length > 0) {\n                    if (this.show.statusSelection && sel.length > 1) {\n                        msgLeft = String(sel.length).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") + ' ' + w2utils.lang('selected');\n                    }\n                    if (this.show.statusRecordID && sel.length == 1) {\n                        var tmp = sel[0];\n                        if (typeof tmp == 'object') tmp = tmp.recid + ', '+ w2utils.lang('Column') +': '+ tmp.column;\n                        msgLeft = w2utils.lang('Record ID') + ': '+ tmp + ' ';\n                    }\n                }\n                $('#grid_'+ this.name +'_footer .w2ui-footer-left').html(msgLeft);\n                // toolbar\n                if (sel.length == 1) this.toolbar.enable('w2ui-edit'); else this.toolbar.disable('w2ui-edit');\n                if (sel.length >= 1) this.toolbar.enable('w2ui-delete'); else this.toolbar.disable('w2ui-delete');\n            }\n        },\n\n        lock: function (msg, showSpinner) {\n            var box  = $(this.box).find('> div:first-child');\n            var args = Array.prototype.slice.call(arguments, 0);\n            args.unshift(box);\n            setTimeout(function () { w2utils.lock.apply(window, args); }, 10);\n        },\n\n        unlock: function (speed) {\n            var box = this.box;\n            setTimeout(function () { w2utils.unlock(box, speed); }, 25); // needed timer so if server fast, it will not flash\n        },\n\n        stateSave: function (returnOnly) {\n            if (!localStorage) return null;\n            var state = {\n                columns     : [],\n                show        : $.extend({}, this.show),\n                last        : {\n                    search      : this.last.search,\n                    multi       : this.last.multi,\n                    logic       : this.last.logic,\n                    caption     : this.last.caption,\n                    field       : this.last.field,\n                    scrollTop   : this.last.scrollTop,\n                    scrollLeft  : this.last.scrollLeft\n                },\n                sortData    : [],\n                searchData  : []\n            };\n            for (var i = 0; i < this.columns.length; i++) {\n                var col = this.columns[i];\n                state.columns.push({\n                    field           : col.field,\n                    hidden          : col.hidden ? true : false,\n                    size            : col.size ? col.size : null,\n                    sizeCalculated  : col.sizeCalculated ? col.sizeCalculated : null,\n                    sizeOriginal    : col.sizeOriginal ? col.sizeOriginal : null,\n                    sizeType        : col.sizeType ? col.sizeType : null\n                });\n            }\n            for (var i = 0; i < this.sortData.length; i++) state.sortData.push($.extend({}, this.sortData[i]));\n            for (var i = 0; i < this.searchData.length; i++) state.searchData.push($.extend({}, this.searchData[i]));\n            // save into local storage\n            if (returnOnly !== true) {\n                // event before\n                var eventData = this.trigger({ phase: 'before', type: 'stateSave', target: this.name, state: state });\n                if (eventData.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n                try {\n                    var savedState = $.parseJSON(localStorage.w2ui || '{}');\n                    if (!savedState) savedState = {};\n                    if (!savedState.states) savedState.states = {};\n                    savedState.states[this.name] = state;\n                    localStorage.w2ui = JSON.stringify(savedState);\n                } catch (e) {\n                    delete localStorage.w2ui;\n                    return null;\n                }\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n            }\n            return state;\n        },\n\n        stateRestore: function (newState) {\n            var obj = this;\n            if (!newState) {\n                // read it from local storage\n                try {\n                    if (!localStorage) return false;\n                    var tmp = $.parseJSON(localStorage.w2ui || '{}');\n                    if (!tmp) tmp = {};\n                    if (!tmp.states) tmp.states = {};\n                    newState = tmp.states[this.name];\n                } catch (e) {\n                    delete localStorage.w2ui;\n                    return null;\n                }\n            }\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'stateRestore', target: this.name, state: newState });\n            if (eventData.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n            // default behavior\n            if ($.isPlainObject(newState)) {\n                $.extend(this.show, newState.show);\n                $.extend(this.last, newState.last);\n                var sTop  = this.last.scrollTop;\n                var sLeft = this.last.scrollLeft;\n                for (var c = 0; c < newState.columns.length; c++) {\n                    var tmp = newState.columns[c];\n                    var col = this.getColumn(tmp.field);\n                    if (col) $.extend(col, tmp);\n                }\n                this.sortData.splice(0, this.sortData.length);\n                for (var c = 0; c < newState.sortData.length; c++) this.sortData.push(newState.sortData[c]);\n                this.searchData.splice(0, this.searchData.length);\n                for (var c = 0; c < newState.searchData.length; c++) this.searchData.push(newState.searchData[c]);\n                // apply sort and search\n                setTimeout(function () {\n                    // needs timeout as records need to be populated\n                    // ez 10.09.2014 this -->\n                    if (!(typeof obj.url != 'object' ? obj.url : obj.url.get)) {\n                        if (obj.sortData.length > 0) obj.localSort();\n                        if (obj.searchData.length > 0) obj.localSearch();\n                    }\n                    obj.last.scrollTop  = sTop;\n                    obj.last.scrollLeft = sLeft;\n                    obj.refresh();\n                }, 1);\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return true;\n        },\n\n        stateReset: function () {\n            this.stateRestore(this.last.state);\n            // remove from local storage\n            if (localStorage) {\n                try {\n                    var tmp = $.parseJSON(localStorage.w2ui || '{}');\n                    if (tmp.states && tmp.states[this.name]) {\n                        delete tmp.states[this.name];\n                    }\n                    localStorage.w2ui = JSON.stringify(tmp);\n                } catch (e) {\n                    delete localStorage.w2ui;\n                    return null;\n                }                \n            }\n        },\n\n        parseField: function (obj, field) {\n            var val = '';\n            try { // need this to make sure no error in fields\n                val = obj;\n                var tmp = String(field).split('.');\n                for (var i = 0; i < tmp.length; i++) {\n                    val = val[tmp[i]];\n                }\n            } catch (event) {\n                val = '';\n            }\n            return val;\n        },\n\n        prepareData: function () {\n            // loops thru records and prepares date and time objects\n            for (var r = 0; r < this.records.length; r++) {\n                var rec = this.records[r];\n                for (var c = 0; c < this.columns.length; c++) {\n                    var column = this.columns[c];\n                    if (rec[column.field] == null || typeof column.render != 'string') continue;\n                    // number\n                    if (['number', 'int', 'float', 'money', 'currency', 'percent'].indexOf(column.render.split(':')[0])  != -1) {\n                        if (typeof rec[column.field] != 'number') rec[column.field] = parseFloat(rec[column.field]);\n                    }\n                    // date\n                    if (['date', 'age'].indexOf(column.render.split(':')[0]) != -1) {\n                        if (!rec[column.field + '_']) {\n                            var dt = rec[column.field];\n                            if (w2utils.isInt(dt)) dt = parseInt(dt);\n                            rec[column.field + '_'] = new Date(dt);\n                        }\n                    }\n                    // time\n                    if (['time'].indexOf(column.render) != -1) {\n                        if (w2utils.isTime(rec[column.field])) { // if string\n                            var tmp = w2utils.isTime(rec[column.field], true);\n                            var dt = new Date();\n                            dt.setHours(tmp.hours, tmp.minutes, (tmp.seconds ? tmp.seconds : 0), 0); // sets hours, min, sec, mills\n                            if (!rec[column.field + '_']) rec[column.field + '_'] = dt;\n                        } else { // if date object\n                            var tmp = rec[column.field];\n                            if (w2utils.isInt(tmp)) tmp = parseInt(tmp);\n                            var tmp = (tmp != null ? new Date(tmp) : new Date());\n                            var dt  = new Date();\n                            dt.setHours(tmp.getHours(), tmp.getMinutes(), tmp.getSeconds(), 0); // sets hours, min, sec, mills\n                            if (!rec[column.field + '_']) rec[column.field + '_'] = dt;\n                        }\n                    }\n                }\n            }\n        },\n\n        nextCell: function (col_ind, editable) {\n            var check = col_ind + 1;\n            if (this.columns.length == check) return null;\n            if (editable === true) {\n                var edit = this.columns[check].editable;\n                if (this.columns[check].hidden || typeof edit == 'undefined'\n                    || (edit && ['checkbox', 'check'].indexOf(edit.type) != -1)) return this.nextCell(check, editable);\n            }\n            return check;\n        },\n\n        prevCell: function (col_ind, editable) {\n            var check = col_ind - 1;\n            if (check < 0) return null;\n            if (editable === true) {\n                var edit = this.columns[check].editable;\n                if (this.columns[check].hidden || typeof edit == 'undefined'\n                    || (edit && ['checkbox', 'check'].indexOf(edit.type) != -1)) return this.prevCell(check, editable);\n            }\n            return check;\n        },\n\n        nextRow: function (ind) {\n            if ((ind + 1 < this.records.length && this.last.searchIds.length == 0) // if there are more records\n                    || (this.last.searchIds.length > 0 && ind < this.last.searchIds[this.last.searchIds.length-1])) {\n                ind++;\n                if (this.last.searchIds.length > 0) {\n                    while (true) {\n                        if ($.inArray(ind, this.last.searchIds) != -1 || ind > this.records.length) break;\n                        ind++;\n                    }\n                }\n                return ind;\n            } else {\n                return null;\n            }\n        },\n\n        prevRow: function (ind) {\n            if ((ind > 0 && this.last.searchIds.length == 0)  // if there are more records\n                    || (this.last.searchIds.length > 0 && ind > this.last.searchIds[0])) {\n                ind--;\n                if (this.last.searchIds.length > 0) {\n                    while (true) {\n                        if ($.inArray(ind, this.last.searchIds) != -1 || ind < 0) break;\n                        ind--;\n                    }\n                }\n                return ind;\n            } else {\n                return null;\n            }\n        }\n    };\n\n    $.extend(w2grid.prototype, w2utils.event);\n    w2obj.grid = w2grid;\n})();\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2layout        - layout widget\n*        - $().w2layout    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2toolbar, w2tabs\n*\n* == NICE TO HAVE ==\n*   - onResize for the panel\n*   - add more panel title positions (left=rotated, right=rotated, bottom)\n*   - bug: resizer is visible (and onHover) when panel is hidden.\n*   - bug: when you assign content before previous transition completed.\n*\n* == 1.5 changes\n*   - $('#layout').w2layout() - if called w/o argument then it returns layout object\n*\n************************************************************************/\n\n(function () {\n    var w2layout = function (options) {\n        this.box     = null;        // DOM Element that holds the element\n        this.name    = null;        // unique name for w2ui\n        this.panels  = [];\n        this.tmp     = {};\n\n        this.padding = 1;        // panel padding\n        this.resizer = 4;        // resizer width or height\n        this.style   = '';\n\n        this.onShow         = null;\n        this.onHide         = null;\n        this.onResizing     = null;\n        this.onResizerClick = null;\n        this.onRender       = null;\n        this.onRefresh      = null;\n        this.onResize       = null;\n        this.onDestroy      = null;\n\n        $.extend(true, this, w2obj.layout, options);\n    };\n\n    var w2panels = ['top', 'left', 'main', 'preview', 'right', 'bottom'];\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2layout = function(method) {\n        if ($.isPlainObject(method)) {\n            // check name parameter\n            if (!w2utils.checkName(method, 'w2layout')) return;\n            var panels = method.panels || [];\n            var object = new w2layout(method);\n            $.extend(object, { handlers: [], panels: [] });\n            // add defined panels\n            for (var p = 0, len = panels.length; p < len; p++) {\n                object.panels[p] = $.extend(true, {}, w2layout.prototype.panel, panels[p]);\n                if ($.isPlainObject(object.panels[p].tabs) || $.isArray(object.panels[p].tabs)) initTabs(object, panels[p].type);\n                if ($.isPlainObject(object.panels[p].toolbar) || $.isArray(object.panels[p].toolbar)) initToolbar(object, panels[p].type);\n            }\n            // add all other panels\n            for (var p1 = 0; p1 < w2panels.length; p1++) {\n                if (object.get(w2panels[p1]) !== null) continue;\n                object.panels.push($.extend(true, {}, w2layout.prototype.panel, { type: w2panels[p1], hidden: (w2panels[p1] !== 'main'), size: 50 }));\n            }\n            if ($(this).length > 0) {\n                object.render($(this)[0]);\n            }\n            w2ui[object.name] = object;\n            return object;\n\n        } else {\n            var obj = w2ui[$(this).attr('name')];\n            if (!obj) return null;\n            if (arguments.length > 0) {\n                if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n                return this;\n            } else {\n                return obj;\n            }\n        }\n\n        function initTabs(object, panel, tabs) {\n            var pan = object.get(panel);\n            if (pan !== null && typeof tabs == 'undefined') tabs = pan.tabs;\n            if (pan === null || tabs === null) return false;\n            // instanciate tabs\n            if ($.isArray(tabs)) tabs = { tabs: tabs };\n            $().w2destroy(object.name + '_' + panel + '_tabs'); // destroy if existed\n            pan.tabs = $().w2tabs($.extend({}, tabs, { owner: object, name: object.name + '_' + panel + '_tabs' }));\n            pan.show.tabs = true;\n            return true;\n        }\n\n        function initToolbar(object, panel, toolbar) {\n            var pan = object.get(panel);\n            if (pan !== null && typeof toolbar == 'undefined') toolbar = pan.toolbar;\n            if (pan === null || toolbar === null) return false;\n            // instanciate toolbar\n            if ($.isArray(toolbar)) toolbar = { items: toolbar };\n            $().w2destroy(object.name + '_' + panel + '_toolbar'); // destroy if existed\n            pan.toolbar = $().w2toolbar($.extend({}, toolbar, { owner: object, name: object.name + '_' + panel + '_toolbar' }));\n            pan.show.toolbar = true;\n            return true;\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    w2layout.prototype = {\n        // default setting for a panel\n        panel: {\n            type      : null,        // left, right, top, bottom\n            title     : '',\n            size      : 100,        // width or height depending on panel name\n            minSize   : 20,\n            maxSize   : false,\n            hidden    : false,\n            resizable : false,\n            overflow  : 'auto',\n            style     : '',\n            content   : '',        // can be String or Object with .render(box) method\n            tabs      : null,\n            toolbar   : null,\n            width     : null,        // read only\n            height    : null,        // read only\n            show : {\n                toolbar : false,\n                tabs    : false\n            },\n            onRefresh : null,\n            onShow    : null,\n            onHide    : null\n        },\n\n        // alias for content\n        html: function (panel, data, transition) {\n            return this.content(panel, data, transition);\n        },\n\n        content: function (panel, data, transition) {\n            var obj = this;\n            var p = this.get(panel);\n            // if it is CSS panel\n            if (panel == 'css') {\n                $('#layout_'+ obj.name +'_panel_css').html('<style>'+ data +'</style>');\n                return true;\n            }\n            if (p === null) return false;\n            if (typeof data == 'undefined' || data === null) {\n                return p.content;\n            } else {\n                if (data instanceof jQuery) {\n                    console.log('ERROR: You can not pass jQuery object to w2layout.content() method');\n                    return false;\n                }\n                var pname    = '#layout_'+ this.name + '_panel_'+ p.type;\n                var current  = $(pname + '> .w2ui-panel-content');\n                var panelTop = 0;\n                if (current.length > 0) {\n                    $(pname).scrollTop(0);\n                    panelTop = $(current).position().top;\n                }\n                if (p.content === '') {\n                    p.content = data;\n                    this.refresh(panel);\n                } else {\n                    p.content = data;\n                    if (!p.hidden) {\n                        if (transition !== null && transition !== '' && typeof transition != 'undefined') {\n                            // apply transition\n                            var div1 = $(pname + '> .w2ui-panel-content');\n                            div1.after('<div class=\"w2ui-panel-content new-panel\" style=\"'+ div1[0].style.cssText +'\"></div>');\n                            var div2 = $(pname + '> .w2ui-panel-content.new-panel');\n                            div1.css('top', panelTop);\n                            div2.css('top', panelTop);\n                            if (typeof data == 'object') {\n                                data.box = div2[0]; // do not do .render(box);\n                                data.render();\n                            } else {\n                                div2.html(data);\n                            }\n                            w2utils.transition(div1[0], div2[0], transition, function () {\n                                div1.remove();\n                                div2.removeClass('new-panel');\n                                div2.css('overflow', p.overflow);\n                                // IE Hack\n                                obj.resize();\n                                if (window.navigator.userAgent.indexOf('MSIE') != -1) setTimeout(function () { obj.resize(); }, 100);\n                            });\n                        }\n                    }\n                    this.refresh(panel);\n                }\n            }\n            // IE Hack\n            obj.resize();\n            if (window.navigator.userAgent.indexOf('MSIE') != -1) setTimeout(function () { obj.resize(); }, 100);\n            return true;\n        },\n\n        load: function (panel, url, transition, onLoad) {\n            var obj = this;\n            if (panel == 'css') {\n                $.get(url, function (data, status, xhr) { // should always be $.get as it is template\n                    obj.content(panel, xhr.responseText);\n                    if (onLoad) onLoad();\n                });\n                return true;\n            }\n            if (this.get(panel) !== null) {\n                $.get(url, function (data, status, xhr) { // should always be $.get as it is template\n                    obj.content(panel, xhr.responseText, transition);\n                    if (onLoad) onLoad();\n                    // IE Hack\n                    obj.resize();\n                    if (window.navigator.userAgent.indexOf('MSIE') != -1) setTimeout(function () { obj.resize(); }, 100);\n                });\n                return true;\n            }\n            return false;\n        },\n\n        sizeTo: function (panel, size) {\n            var obj = this;\n            var pan = obj.get(panel);\n            if (pan === null) return false;\n            // resize\n            $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '.2s'));\n            setTimeout(function () {\n                obj.set(panel, { size: size });\n            }, 1);\n            // clean\n            setTimeout(function () {\n                $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '0s'));\n                obj.resize();\n            }, 500);\n            return true;\n        },\n\n        show: function (panel, immediate) {\n            var obj = this;\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'show', target: panel, object: this.get(panel), immediate: immediate });\n            if (eventData.isCancelled === true) return;\n\n            var p = obj.get(panel);\n            if (p === null) return false;\n            p.hidden = false;\n            if (immediate === true) {\n                $('#layout_'+ obj.name +'_panel_'+panel).css({ 'opacity': '1' });\n                if (p.resizable) $('#layout_'+ obj.name +'_resizer_'+panel).show();\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n                obj.resize();\n            } else {\n                if (p.resizable) $('#layout_'+ obj.name +'_resizer_'+panel).show();\n                // resize\n                $('#layout_'+ obj.name +'_panel_'+panel).css({ 'opacity': '0' });\n                $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '.2s'));\n                setTimeout(function () { obj.resize(); }, 1);\n                // show\n                setTimeout(function() {\n                    $('#layout_'+ obj.name +'_panel_'+ panel).css({ 'opacity': '1' });\n                }, 250);\n                // clean\n                setTimeout(function () {\n                    $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '0s'));\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                    obj.resize();\n                }, 500);\n            }\n            return true;\n        },\n\n        hide: function (panel, immediate) {\n            var obj = this;\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'hide', target: panel, object: this.get(panel), immediate: immediate });\n            if (eventData.isCancelled === true) return;\n\n            var p = obj.get(panel);\n            if (p === null) return false;\n            p.hidden = true;\n            if (immediate === true) {\n                $('#layout_'+ obj.name +'_panel_'+panel).css({ 'opacity': '0'    });\n                $('#layout_'+ obj.name +'_resizer_'+panel).hide();\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n                obj.resize();\n            } else {\n                $('#layout_'+ obj.name +'_resizer_'+panel).hide();\n                // hide\n                $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '.2s'));\n                $('#layout_'+ obj.name +'_panel_'+panel).css({ 'opacity': '0'    });\n                setTimeout(function () { obj.resize(); }, 1);\n                // clean\n                setTimeout(function () {\n                    $(obj.box).find(' > div > .w2ui-panel').css(w2utils.cssPrefix('transition', '0s'));\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                    obj.resize();\n                }, 500);\n            }\n            return true;\n        },\n\n        toggle: function (panel, immediate) {\n            var p = this.get(panel);\n            if (p === null) return false;\n            if (p.hidden) return this.show(panel, immediate); else return this.hide(panel, immediate);\n        },\n\n        set: function (panel, options) {\n            var ind = this.get(panel, true);\n            if (ind === null) return false;\n            $.extend(this.panels[ind], options);\n            // refresh only when content changed\n            if (typeof options['content'] != 'undefined') this.refresh(panel);\n            // show/hide resizer\n            var resizer = $('#layout_'+ this.name +'_resizer_'+ panel);\n            if (options.resizable) resizer.show(); else resizer.hide();\n            this.resize(); // resize is needed when panel size is changed\n            return true;\n        },\n\n        get: function (panel, returnIndex) {\n            for (var p = 0; p < this.panels.length; p++) {\n                if (this.panels[p].type == panel) {\n                    if (returnIndex === true) return p; else return this.panels[p];\n                }\n            }\n            return null;\n        },\n\n        el: function (panel) {\n            var el = $('#layout_'+ this.name +'_panel_'+ panel +'> .w2ui-panel-content');\n            if (el.length != 1) return null;\n            return el[0];\n        },\n\n        hideToolbar: function (panel) {\n            var pan = this.get(panel);\n            if (!pan) return;\n            pan.show.toolbar = false;\n            $('#layout_'+ this.name +'_panel_'+ panel +'> .w2ui-panel-toolbar').hide();\n            this.resize();\n        },\n\n        showToolbar: function (panel) {\n            var pan = this.get(panel);\n            if (!pan) return;\n            pan.show.toolbar = true;\n            $('#layout_'+ this.name +'_panel_'+ panel +'> .w2ui-panel-toolbar').show();\n            this.resize();\n        },\n\n        toggleToolbar: function (panel) {\n            var pan = this.get(panel);\n            if (!pan) return;\n            if (pan.show.toolbar) this.hideToolbar(panel); else this.showToolbar(panel);\n        },\n\n        hideTabs: function (panel) {\n            var pan = this.get(panel);\n            if (!pan) return;\n            pan.show.tabs = false;\n            $('#layout_'+ this.name +'_panel_'+ panel +'> .w2ui-panel-tabs').hide();\n            this.resize();\n        },\n\n        showTabs: function (panel) {\n            var pan = this.get(panel);\n            if (!pan) return;\n            pan.show.tabs = true;\n            $('#layout_'+ this.name +'_panel_'+ panel +'> .w2ui-panel-tabs').show();\n            this.resize();\n        },\n\n        toggleTabs: function (panel) {\n            var pan = this.get(panel);\n            if (!pan) return;\n            if (pan.show.tabs) this.hideTabs(panel); else this.showTabs(panel);\n        },\n\n        render: function (box) {\n            var obj = this;\n            // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = obj.trigger({ phase: 'before', type: 'render', target: obj.name, box: box });\n            if (eventData.isCancelled === true) return;\n\n            if (typeof box != 'undefined' && box !== null) {\n                if ($(obj.box).find('#layout_'+ obj.name +'_panel_main').length > 0) {\n                    $(obj.box)\n                        .removeAttr('name')\n                        .removeClass('w2ui-layout')\n                        .html('');\n                }\n                obj.box = box;\n            }\n            if (!obj.box) return false;\n            $(obj.box)\n                .attr('name', obj.name)\n                .addClass('w2ui-layout')\n                .html('<div></div>');\n            if ($(obj.box).length > 0) $(obj.box)[0].style.cssText += obj.style;\n            // create all panels\n            for (var p1 = 0; p1 < w2panels.length; p1++) {\n                var pan  = obj.get(w2panels[p1]);\n                var html =  '<div id=\"layout_'+ obj.name + '_panel_'+ w2panels[p1] +'\" class=\"w2ui-panel\">'+\n                            '    <div class=\"w2ui-panel-title\"></div>'+\n                            '    <div class=\"w2ui-panel-tabs\"></div>'+\n                            '    <div class=\"w2ui-panel-toolbar\"></div>'+\n                            '    <div class=\"w2ui-panel-content\"></div>'+\n                            '</div>'+\n                            '<div id=\"layout_'+ obj.name + '_resizer_'+ w2panels[p1] +'\" class=\"w2ui-resizer\"></div>';\n                $(obj.box).find(' > div').append(html);\n                // tabs are rendered in refresh()\n            }\n            $(obj.box).find(' > div')\n                .append('<div id=\"layout_'+ obj.name + '_panel_css\" style=\"position: absolute; top: 10000px;\"></div');\n            obj.refresh(); // if refresh is not called here, the layout will not be available right after initialization\n            // process event\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n            // reinit events\n            setTimeout(function () { // needed this timeout to allow browser to render first if there are tabs or toolbar\n                initEvents();\n                obj.resize();\n            }, 0);\n            return (new Date()).getTime() - time;\n\n            function initEvents() {\n                obj.tmp.events = {\n                    resize : function (event) {\n                        w2ui[obj.name].resize();\n                    },\n                    resizeStart : resizeStart,\n                    mouseMove   : resizeMove,\n                    mouseUp     : resizeStop\n                };\n                $(window).on('resize', obj.tmp.events.resize);\n            }\n\n            function resizeStart(type, evnt) {\n                if (!obj.box) return;\n                if (!evnt) evnt = window.event;\n                if (!window.addEventListener) { window.document.attachEvent('onselectstart', function() { return false; } ); }\n                $(document).off('mousemove', obj.tmp.events.mouseMove).on('mousemove', obj.tmp.events.mouseMove);\n                $(document).off('mouseup', obj.tmp.events.mouseUp).on('mouseup', obj.tmp.events.mouseUp);\n                obj.tmp.resize = {\n                    type    : type,\n                    x       : evnt.screenX,\n                    y       : evnt.screenY,\n                    diff_x  : 0,\n                    diff_y  : 0,\n                    value   : 0\n                };\n                // lock all panels\n                for (var p1 = 0; p1 < w2panels.length; p1++) {\n                    var $tmp = $(obj.el(w2panels[p1])).parent().find('.w2ui-lock');\n                    if ($tmp.length > 0) {\n                        $tmp.attr('locked', 'previous');\n                    } else {\n                        obj.lock(w2panels[p1], { opacity: 0 });\n                    }\n                }\n                if (type == 'left' || type == 'right') {\n                    obj.tmp.resize.value = parseInt($('#layout_'+ obj.name +'_resizer_'+ type)[0].style.left);\n                }\n                if (type == 'top' || type == 'preview' || type == 'bottom') {\n                    obj.tmp.resize.value = parseInt($('#layout_'+ obj.name +'_resizer_'+ type)[0].style.top);\n                }\n            }\n\n            function resizeStop(evnt) {\n                if (!obj.box) return;\n                if (!evnt) evnt = window.event;\n                if (!window.addEventListener) { window.document.attachEvent('onselectstart', function() { return false; } ); }\n                $(document).off('mousemove', obj.tmp.events.mouseMove);\n                $(document).off('mouseup', obj.tmp.events.mouseUp);\n                if (typeof obj.tmp.resize == 'undefined') return;\n                // unlock all panels\n                for (var p1 = 0; p1 < w2panels.length; p1++) {\n                    var $tmp = $(obj.el(w2panels[p1])).parent().find('.w2ui-lock');\n                    if ($tmp.attr('locked') == 'previous') {\n                        $tmp.removeAttr('locked');\n                    } else {\n                        obj.unlock(w2panels[p1]);\n                    }\n                }\n                // set new size\n                if (obj.tmp.diff_x !== 0 || obj.tmp.resize.diff_y !== 0) { // only recalculate if changed\n                    var ptop    = obj.get('top');\n                    var pbottom = obj.get('bottom');\n                    var panel   = obj.get(obj.tmp.resize.type);\n                    var height  = parseInt($(obj.box).height());\n                    var width   = parseInt($(obj.box).width());\n                    var str     = String(panel.size);\n                    var ns, nd;\n                    switch (obj.tmp.resize.type) {\n                        case 'top':\n                            ns = parseInt(panel.sizeCalculated) + obj.tmp.resize.diff_y;\n                            nd = 0;\n                            break;\n                        case 'bottom':\n                            ns = parseInt(panel.sizeCalculated) - obj.tmp.resize.diff_y;\n                            nd = 0;\n                            break;\n                        case 'preview':\n                            ns = parseInt(panel.sizeCalculated) - obj.tmp.resize.diff_y;\n                            nd = (ptop && !ptop.hidden ? ptop.sizeCalculated : 0) +\n                                (pbottom && !pbottom.hidden ? pbottom.sizeCalculated : 0);\n                            break;\n                        case 'left':\n                            ns = parseInt(panel.sizeCalculated) + obj.tmp.resize.diff_x;\n                            nd = 0;\n                            break;\n                        case 'right':\n                            ns = parseInt(panel.sizeCalculated) - obj.tmp.resize.diff_x;\n                            nd = 0;\n                            break;\n                    }\n                    // set size\n                    if (str.substr(str.length-1) == '%') {\n                        panel.size = Math.floor(ns * 100 /\n                            (panel.type == 'left' || panel.type == 'right' ? width : height - nd) * 100) / 100 + '%';\n                    } else {\n                        panel.size = ns;\n                    }\n                    obj.resize();\n                }\n                $('#layout_'+ obj.name + '_resizer_'+ obj.tmp.resize.type).removeClass('active');\n                delete obj.tmp.resize;\n            }\n\n            function resizeMove(evnt) {\n                if (!obj.box) return;\n                if (!evnt) evnt = window.event;\n                if (typeof obj.tmp.resize == 'undefined') return;\n                var panel = obj.get(obj.tmp.resize.type);\n                // event before\n                var tmp = obj.tmp.resize;\n                var eventData = obj.trigger({ phase: 'before', type: 'resizing', target: obj.name, object: panel, originalEvent: evnt,\n                    panel: tmp ? tmp.type : 'all', diff_x: tmp ? tmp.diff_x : 0, diff_y: tmp ? tmp.diff_y : 0 });\n                if (eventData.isCancelled === true) return;\n\n                var p         = $('#layout_'+ obj.name + '_resizer_'+ tmp.type);\n                var resize_x  = (evnt.screenX - tmp.x);\n                var resize_y  = (evnt.screenY - tmp.y);\n                var mainPanel = obj.get('main');\n\n                if (!p.hasClass('active')) p.addClass('active');\n\n                switch (tmp.type) {\n                    case 'left':\n                        if (panel.minSize - resize_x > panel.width) {\n                            resize_x = panel.minSize - panel.width;\n                        }\n                        if (panel.maxSize && (panel.width + resize_x > panel.maxSize)) {\n                            resize_x = panel.maxSize - panel.width;\n                        }\n                        if (mainPanel.minSize + resize_x > mainPanel.width) {\n                            resize_x = mainPanel.width - mainPanel.minSize;\n                        }\n                        break;\n\n                    case 'right':\n                        if (panel.minSize + resize_x > panel.width) {\n                            resize_x = panel.width - panel.minSize;\n                        }\n                        if (panel.maxSize && (panel.width - resize_x > panel.maxSize)) {\n                            resize_x = panel.width - panel.maxSize;\n                        }\n                        if (mainPanel.minSize - resize_x > mainPanel.width) {\n                            resize_x = mainPanel.minSize - mainPanel.width;\n                        }\n                        break;\n\n                    case 'top':\n                        if (panel.minSize - resize_y > panel.height) {\n                            resize_y = panel.minSize - panel.height;\n                        }\n                        if (panel.maxSize && (panel.height + resize_y > panel.maxSize)) {\n                            resize_y = panel.maxSize - panel.height;\n                        }\n                        if (mainPanel.minSize + resize_y > mainPanel.height) {\n                            resize_y = mainPanel.height - mainPanel.minSize;\n                        }\n                        break;\n\n                    case 'preview':\n                    case 'bottom':\n                        if (panel.minSize + resize_y > panel.height) {\n                            resize_y = panel.height - panel.minSize;\n                        }\n                        if (panel.maxSize && (panel.height - resize_y > panel.maxSize)) {\n                            resize_y = panel.height - panel.maxSize;\n                        }\n                        if (mainPanel.minSize - resize_y > mainPanel.height) {\n                            resize_y = mainPanel.minSize - mainPanel.height;\n                        }\n                        break;\n                }\n                tmp.diff_x = resize_x;\n                tmp.diff_y = resize_y;\n\n                switch (tmp.type) {\n                    case 'top':\n                    case 'preview':\n                    case 'bottom':\n                        tmp.diff_x = 0;\n                        if (p.length > 0) p[0].style.top = (tmp.value + tmp.diff_y) + 'px';\n                        break;\n\n                    case 'left':\n                    case 'right':\n                        tmp.diff_y = 0;\n                        if (p.length > 0) p[0].style.left = (tmp.value + tmp.diff_x) + 'px';\n                        break;\n                }\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n            }\n        },\n\n        refresh: function (panel) {\n            var obj = this;\n            // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            if (typeof panel == 'undefined') panel = null;\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = obj.trigger({ phase: 'before', type: 'refresh', target: (typeof panel != 'undefined' ? panel : obj.name), object: obj.get(panel) });\n            if (eventData.isCancelled === true) return;\n            // obj.unlock(panel);\n            if (typeof panel == 'string') {\n                var p = obj.get(panel);\n                if (p === null) return;\n                var pname = '#layout_'+ obj.name + '_panel_'+ p.type;\n                var rname = '#layout_'+ obj.name +'_resizer_'+ p.type;\n                // apply properties to the panel\n                $(pname).css({ display: p.hidden ? 'none' : 'block' });\n                if (p.resizable) $(rname).show(); else $(rname).hide();\n                // insert content\n                if (typeof p.content == 'object' && typeof p.content.render === 'function') {\n                    p.content.box = $(pname +'> .w2ui-panel-content')[0];\n                    setTimeout(function () {\n                        // need to remove unnecessary classes\n                        if ($(pname +'> .w2ui-panel-content').length > 0) {\n                            $(pname +'> .w2ui-panel-content')\n                                .removeClass()\n                                .removeAttr('name')\n                                .addClass('w2ui-panel-content')\n                                .css('overflow', p.overflow)[0].style.cssText += ';' + p.style;\n                        }\n                        p.content.render(); // do not do .render(box);\n                    }, 1);\n                } else {\n                    // need to remove unnecessary classes\n                    if ($(pname +'> .w2ui-panel-content').length > 0) {\n                        $(pname +'> .w2ui-panel-content')\n                            .removeClass()\n                            .removeAttr('name')\n                            .addClass('w2ui-panel-content')\n                            .html(p.content)\n                            .css('overflow', p.overflow)[0].style.cssText += ';' + p.style;\n                    }\n                }\n                // if there are tabs and/or toolbar - render it\n                var tmp = $(obj.box).find(pname +'> .w2ui-panel-tabs');\n                if (p.show.tabs) {\n                    if (tmp.find('[name='+ p.tabs.name +']').length === 0 && p.tabs !== null) tmp.w2render(p.tabs); else p.tabs.refresh();\n                } else {\n                    tmp.html('').removeClass('w2ui-tabs').hide();\n                }\n                tmp = $(obj.box).find(pname +'> .w2ui-panel-toolbar');\n                if (p.show.toolbar) {\n                    if (tmp.find('[name='+ p.toolbar.name +']').length === 0 && p.toolbar !== null) tmp.w2render(p.toolbar); else p.toolbar.refresh();\n                } else {\n                    tmp.html('').removeClass('w2ui-toolbar').hide();\n                }\n                // show title\n                tmp = $(obj.box).find(pname +'> .w2ui-panel-title');\n                if (p.title) {\n                    tmp.html(p.title).show();\n                } else {\n                    tmp.html('').hide();\n                }\n            } else {\n                if ($('#layout_'+ obj.name +'_panel_main').length == 0) {\n                    obj.render();\n                    return;\n                }\n                obj.resize();\n                // refresh all of them\n                for (var p1 = 0; p1 < this.panels.length; p1++) { obj.refresh(this.panels[p1].type); }\n            }\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        resize: function () {\n            // if (window.getSelection) window.getSelection().removeAllRanges();    // clear selection\n            if (!this.box) return false;\n            var time = (new Date()).getTime();\n            // event before\n            var tmp = this.tmp.resize;\n            var eventData = this.trigger({ phase: 'before', type: 'resize', target: this.name,\n                panel: tmp ? tmp.type : 'all', diff_x: tmp ? tmp.diff_x : 0, diff_y: tmp ? tmp.diff_y : 0  });\n            if (eventData.isCancelled === true) return;\n            if (this.padding < 0) this.padding = 0;\n\n            // layout itself\n            var width  = parseInt($(this.box).width());\n            var height = parseInt($(this.box).height());\n            $(this.box).find(' > div').css({\n                width    : width + 'px',\n                height    : height + 'px'\n            });\n            var obj = this;\n            // panels\n            var pmain   = this.get('main');\n            var pprev   = this.get('preview');\n            var pleft   = this.get('left');\n            var pright  = this.get('right');\n            var ptop    = this.get('top');\n            var pbottom = this.get('bottom');\n            var smain   = true; // main always on\n            var sprev   = (pprev !== null && pprev.hidden !== true ? true : false);\n            var sleft   = (pleft !== null && pleft.hidden !== true ? true : false);\n            var sright  = (pright !== null && pright.hidden !== true ? true : false);\n            var stop    = (ptop !== null && ptop.hidden !== true ? true : false);\n            var sbottom = (pbottom !== null && pbottom.hidden !== true ? true : false);\n            var l, t, w, h, e;\n            // calculate %\n            for (var p = 0; p < w2panels.length; p++) {\n                if (w2panels[p] === 'main') continue;\n                var tmp = this.get(w2panels[p]);\n                if (!tmp) continue;\n                var str = String(tmp.size || 0);\n                if (str.substr(str.length-1) == '%') {\n                    var tmph = height;\n                    if (tmp.type == 'preview') {\n                        tmph = tmph -\n                            (ptop && !ptop.hidden ? ptop.sizeCalculated : 0) -\n                            (pbottom && !pbottom.hidden ? pbottom.sizeCalculated : 0);\n                    }\n                    tmp.sizeCalculated = parseInt((tmp.type == 'left' || tmp.type == 'right' ? width : tmph) * parseFloat(tmp.size) / 100);\n                } else {\n                    tmp.sizeCalculated = parseInt(tmp.size);\n                }\n                tmp.sizeCalculated = Math.max(tmp.sizeCalculated, parseInt(tmp.minSize));\n            }\n            // top if any\n            if (ptop !== null && ptop.hidden !== true) {\n                l = 0;\n                t = 0;\n                w = width;\n                h = ptop.sizeCalculated;\n                $('#layout_'+ this.name +'_panel_top').css({\n                    'display': 'block',\n                    'left': l + 'px',\n                    'top': t + 'px',\n                    'width': w + 'px',\n                    'height': h + 'px'\n                }).show();\n                ptop.width  = w;\n                ptop.height = h;\n                // resizer\n                if (ptop.resizable) {\n                    t = ptop.sizeCalculated - (this.padding === 0 ? this.resizer : 0);\n                    h = (this.resizer > this.padding ? this.resizer : this.padding);\n                    $('#layout_'+ this.name +'_resizer_top').show().css({\n                        'display': 'block',\n                        'left': l + 'px',\n                        'top': t + 'px',\n                        'width': w + 'px',\n                        'height': h + 'px',\n                        'cursor': 'ns-resize'\n                    }).off('mousedown').on('mousedown', function (event) {\n                        // event before\n                        var eventData = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'top', originalEvent: event });\n                        if (eventData.isCancelled === true) return;\n                        // default action\n                        w2ui[obj.name].tmp.events.resizeStart('top', event);\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                        return false;\n                    });\n                }\n            } else {\n                $('#layout_'+ this.name +'_panel_top').hide();\n            }\n            // left if any\n            if (pleft !== null && pleft.hidden !== true) {\n                l = 0;\n                t = 0 + (stop ? ptop.sizeCalculated + this.padding : 0);\n                w = pleft.sizeCalculated;\n                h = height - (stop ? ptop.sizeCalculated + this.padding : 0) -\n                        (sbottom ? pbottom.sizeCalculated + this.padding : 0);\n                e = $('#layout_'+ this.name +'_panel_left');\n                if (window.navigator.userAgent.indexOf('MSIE') != -1 && e.length > 0 && e[0].clientHeight < e[0].scrollHeight) w += 17; // IE hack\n                e.css({\n                    'display': 'block',\n                    'left': l + 'px',\n                    'top': t + 'px',\n                    'width': w + 'px',\n                    'height': h + 'px'\n                }).show();\n                pleft.width  = w;\n                pleft.height = h;\n                // resizer\n                if (pleft.resizable) {\n                    l = pleft.sizeCalculated - (this.padding === 0 ? this.resizer : 0);\n                    w = (this.resizer > this.padding ? this.resizer : this.padding);\n                    $('#layout_'+ this.name +'_resizer_left').show().css({\n                        'display': 'block',\n                        'left': l + 'px',\n                        'top': t + 'px',\n                        'width': w + 'px',\n                        'height': h + 'px',\n                        'cursor': 'ew-resize'\n                    }).off('mousedown').on('mousedown', function (event) {\n                        // event before\n                        var eventData = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'left', originalEvent: event });\n                        if (eventData.isCancelled === true) return;\n                        // default action\n                        w2ui[obj.name].tmp.events.resizeStart('left', event);\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                        return false;\n                    });\n                }\n            } else {\n                $('#layout_'+ this.name +'_panel_left').hide();\n                $('#layout_'+ this.name +'_resizer_left').hide();\n            }\n            // right if any\n            if (pright !== null && pright.hidden !== true) {\n                l = width - pright.sizeCalculated;\n                t = 0 + (stop ? ptop.sizeCalculated + this.padding : 0);\n                w = pright.sizeCalculated;\n                h = height - (stop ? ptop.sizeCalculated + this.padding : 0) -\n                    (sbottom ? pbottom.sizeCalculated + this.padding : 0);\n                $('#layout_'+ this.name +'_panel_right').css({\n                    'display': 'block',\n                    'left': l + 'px',\n                    'top': t + 'px',\n                    'width': w + 'px',\n                    'height': h + 'px'\n                }).show();\n                pright.width  = w;\n                pright.height = h;\n                // resizer\n                if (pright.resizable) {\n                    l = l - this.padding;\n                    w = (this.resizer > this.padding ? this.resizer : this.padding);\n                    $('#layout_'+ this.name +'_resizer_right').show().css({\n                        'display': 'block',\n                        'left': l + 'px',\n                        'top': t + 'px',\n                        'width': w + 'px',\n                        'height': h + 'px',\n                        'cursor': 'ew-resize'\n                    }).off('mousedown').on('mousedown', function (event) {\n                        // event before\n                        var eventData = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'right', originalEvent: event });\n                        if (eventData.isCancelled === true) return;\n                        // default action\n                        w2ui[obj.name].tmp.events.resizeStart('right', event);\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                        return false;\n                    });\n                }\n            } else {\n                $('#layout_'+ this.name +'_panel_right').hide();\n            }\n            // bottom if any\n            if (pbottom !== null && pbottom.hidden !== true) {\n                l = 0;\n                t = height - pbottom.sizeCalculated;\n                w = width;\n                h = pbottom.sizeCalculated;\n                $('#layout_'+ this.name +'_panel_bottom').css({\n                    'display': 'block',\n                    'left': l + 'px',\n                    'top': t + 'px',\n                    'width': w + 'px',\n                    'height': h + 'px'\n                }).show();\n                pbottom.width  = w;\n                pbottom.height = h;\n                // resizer\n                if (pbottom.resizable) {\n                    t = t - (this.padding === 0 ? 0 : this.padding);\n                    h = (this.resizer > this.padding ? this.resizer : this.padding);\n                    $('#layout_'+ this.name +'_resizer_bottom').show().css({\n                        'display': 'block',\n                        'left': l + 'px',\n                        'top': t + 'px',\n                        'width': w + 'px',\n                        'height': h + 'px',\n                        'cursor': 'ns-resize'\n                    }).off('mousedown').on('mousedown', function (event) {\n                        // event before\n                        var eventData = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'bottom', originalEvent: event });\n                        if (eventData.isCancelled === true) return;\n                        // default action\n                        w2ui[obj.name].tmp.events.resizeStart('bottom', event);\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                        return false;\n                    });\n                }\n            } else {\n                $('#layout_'+ this.name +'_panel_bottom').hide();\n            }\n            // main - always there\n            l = 0 + (sleft ? pleft.sizeCalculated + this.padding : 0);\n            t = 0 + (stop ? ptop.sizeCalculated + this.padding : 0);\n            w = width  - (sleft ? pleft.sizeCalculated + this.padding : 0) -\n                (sright ? pright.sizeCalculated + this.padding: 0);\n            h = height - (stop ? ptop.sizeCalculated + this.padding : 0) -\n                (sbottom ? pbottom.sizeCalculated + this.padding : 0) -\n                (sprev ? pprev.sizeCalculated + this.padding : 0);\n            e = $('#layout_'+ this.name +'_panel_main');\n            if (window.navigator.userAgent.indexOf('MSIE') != -1 && e.length > 0 && e[0].clientHeight < e[0].scrollHeight) w += 17; // IE hack\n            e.css({\n                'display': 'block',\n                'left': l + 'px',\n                'top': t + 'px',\n                'width': w + 'px',\n                'height': h + 'px'\n            });\n            pmain.width  = w;\n            pmain.height = h;\n\n            // preview if any\n            if (pprev !== null && pprev.hidden !== true) {\n                l = 0 + (sleft ? pleft.sizeCalculated + this.padding : 0);\n                t = height - (sbottom ? pbottom.sizeCalculated + this.padding : 0) - pprev.sizeCalculated;\n                w = width  - (sleft ? pleft.sizeCalculated + this.padding : 0) -\n                    (sright ? pright.sizeCalculated + this.padding : 0);\n                h = pprev.sizeCalculated;\n                e = $('#layout_'+ this.name +'_panel_preview');\n                if (window.navigator.userAgent.indexOf('MSIE') != -1 && e.length > 0 && e[0].clientHeight < e[0].scrollHeight) w += 17; // IE hack\n                e.css({\n                    'display': 'block',\n                    'left': l + 'px',\n                    'top': t + 'px',\n                    'width': w + 'px',\n                    'height': h + 'px'\n                }).show();\n                pprev.width  = w;\n                pprev.height = h;\n                // resizer\n                if (pprev.resizable) {\n                    t = t - (this.padding === 0 ? 0 : this.padding);\n                    h = (this.resizer > this.padding ? this.resizer : this.padding);\n                    $('#layout_'+ this.name +'_resizer_preview').show().css({\n                        'display': 'block',\n                        'left': l + 'px',\n                        'top': t + 'px',\n                        'width': w + 'px',\n                        'height': h + 'px',\n                        'cursor': 'ns-resize'\n                    }).off('mousedown').on('mousedown', function (event) {\n                        // event before\n                        var eventData = obj.trigger({ phase: 'before', type: 'resizerClick', target: 'preview', originalEvent: event });\n                        if (eventData.isCancelled === true) return;\n                        // default action\n                        w2ui[obj.name].tmp.events.resizeStart('preview', event);\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                        return false;\n                    });\n                }\n            } else {\n                $('#layout_'+ this.name +'_panel_preview').hide();\n            }\n\n            // display tabs and toolbar if needed\n            for (var p1 = 0; p1 < w2panels.length; p1++) {\n                var pan = this.get(w2panels[p1]);\n                var tmp2 = '#layout_'+ this.name +'_panel_'+ w2panels[p1] +' > .w2ui-panel-';\n                var tabHeight = 0;\n                if (pan) {\n                    if (pan.title) {\n                        tabHeight += w2utils.getSize($(tmp2 + 'title').css({ top: tabHeight + 'px', display: 'block' }), 'height');\n                    }\n                    if (pan.show.tabs) {\n                        if (pan.tabs !== null && w2ui[this.name +'_'+ w2panels[p1] +'_tabs']) w2ui[this.name +'_'+ w2panels[p1] +'_tabs'].resize();\n                        tabHeight += w2utils.getSize($(tmp2 + 'tabs').css({ top: tabHeight + 'px', display: 'block' }), 'height');\n                    }\n                    if (pan.show.toolbar) {\n                        if (pan.toolbar !== null && w2ui[this.name +'_'+ w2panels[p1] +'_toolbar']) w2ui[this.name +'_'+ w2panels[p1] +'_toolbar'].resize();\n                        tabHeight += w2utils.getSize($(tmp2 + 'toolbar').css({ top: tabHeight + 'px', display: 'block' }), 'height');\n                    }\n                }\n                $(tmp2 + 'content').css({ display: 'block' }).css({ top: tabHeight + 'px' });\n            }\n            // send resize to all objects\n            clearTimeout(this._resize_timer);\n            this._resize_timer = setTimeout(function () {\n                for (var e in w2ui) {\n                    if (typeof w2ui[e].resize == 'function') {\n                        // sent to all none-layouts\n                        if (w2ui[e].panels == 'undefined') w2ui[e].resize();\n                        // only send to nested layouts\n                        var parent = $(w2ui[e].box).parents('.w2ui-layout');\n                        if (parent.length > 0 && parent.attr('name') == obj.name) w2ui[e].resize();\n                    }\n                }\n            }, 100);\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        destroy: function () {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n            if (eventData.isCancelled === true) return;\n            if (typeof w2ui[this.name] == 'undefined') return false;\n            // clean up\n            if ($(this.box).find('#layout_'+ this.name +'_panel_main').length > 0) {\n                $(this.box)\n                    .removeAttr('name')\n                    .removeClass('w2ui-layout')\n                    .html('');\n            }\n            delete w2ui[this.name];\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            if (this.tmp.events && this.tmp.events.resize) $(window).off('resize', this.tmp.events.resize);\n            return true;\n        },\n\n        lock: function (panel, msg, showSpinner) {\n            if (w2panels.indexOf(panel) == -1) {\n                console.log('ERROR: First parameter needs to be the a valid panel name.');\n                return;\n            }\n            var args = Array.prototype.slice.call(arguments, 0);\n            args[0]  = '#layout_'+ this.name + '_panel_' + panel;\n            w2utils.lock.apply(window, args);\n        },\n\n        unlock: function (panel, speed) {\n            if (w2panels.indexOf(panel) == -1) {\n                console.log('ERROR: First parameter needs to be the a valid panel name.');\n                return;\n            }\n            var nm = '#layout_'+ this.name + '_panel_' + panel;\n            w2utils.unlock(nm, speed);\n        }\n    };\n\n    $.extend(w2layout.prototype, w2utils.event);\n    w2obj.layout = w2layout;\n})();\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2popup      - popup widget\n*        - $().w2popup  - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - transition should include title, body and buttons, not just body\n*   - .message() should have same props (body, buttons, title?)\n*   - hide overlay on esc\n*\n* == 1.5 changes\n*   - new: resizeMessages()\n*   - popup can be moved/resized/closed when locked or has messages\n*   - messages negative widht/height means margin\n*   - added btn_yes and btn_no\n*   - dismissed message will slide up - added parameter unlock(speed)\n*   - refactore -webkit-* -moz-* to a function\n*   - resize nested elements in popup for onMin, onMax\n*   - rename btn -> w2ui-btn and same for colored ones\n*   - added options.body and options.buttons for w2popup.message\n*\n************************************************************************/\n\nvar w2popup = {};\n\n(function () {\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2popup = function(method, options) {\n        if (typeof method === 'undefined') {\n            options = {};\n            method  = 'open';\n        }\n        if ($.isPlainObject(method)) {\n            options = method;\n            method  = 'open';\n        }\n        method = method.toLowerCase();\n        if (method === 'load' && typeof options === 'string') {\n            options = $.extend({ url: options }, arguments.length > 2 ? arguments[2] : {});\n        }\n        if (method === 'open' && options.url != null) method = 'load';\n        options = options || {};\n        // load options from markup\n        var dlgOptions = {};\n        if ($(this).length > 0) {\n            if ($(this).find('div[rel=title], div[rel=body], div[rel=buttons]').length > 0) {\n                if ($(this).find('div[rel=title]').length > 0) {\n                    dlgOptions['title'] = $(this).find('div[rel=title]').html();\n                }\n                if ($(this).find('div[rel=body]').length > 0) {\n                    dlgOptions['body']  = $(this).find('div[rel=body]').html();\n                    dlgOptions['style'] = $(this).find('div[rel=body]')[0].style.cssText;\n                }\n                if ($(this).find('div[rel=buttons]').length > 0) {\n                    dlgOptions['buttons'] = $(this).find('div[rel=buttons]').html();\n                }\n            } else {\n                dlgOptions['title'] = '&nbsp;';\n                dlgOptions['body']  = $(this).html();\n            }\n            if (parseInt($(this).css('width')) != 0)  dlgOptions['width']  = parseInt($(this).css('width'));\n            if (parseInt($(this).css('height')) != 0) dlgOptions['height'] = parseInt($(this).css('height'));\n        }\n        // show popup\n        return w2popup[method]($.extend({}, dlgOptions, options));\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality (SINGELTON)\n\n    w2popup = {\n        defaults: {\n            title     : '',\n            body      : '',\n            buttons   : '',\n            style     : '',\n            color     : '#000',\n            opacity   : 0.4,\n            speed     : 0.3,\n            modal     : false,\n            maximized : false,\n            keyboard  : true,     // will close popup on esc if not modal\n            width     : 500,\n            height    : 300,\n            showClose : true,\n            showMax   : false,\n            transition: null\n        },\n        status    : 'closed',     // string that describes current status\n        handlers  : [],\n        onOpen    : null,\n        onClose   : null,\n        onMax     : null,\n        onMin     : null,\n        onToggle  : null,\n        onKeydown : null,\n\n        open: function (options) {\n            var obj = this;\n            if (w2popup.status == 'closing') {\n                setTimeout(function () { obj.open.call(obj, options); }, 100);\n                return;\n            }\n            // get old options and merge them\n            var old_options = $('#w2ui-popup').data('options');\n            var options = $.extend({}, this.defaults, old_options, { title: '', body : '', buttons: '' }, options, { maximized: false });\n            // need timer because popup might not be open\n            setTimeout(function () { $('#w2ui-popup').data('options', options); }, 100);\n            // if new - reset event handlers\n            if ($('#w2ui-popup').length == 0) {\n                w2popup.handlers  = [];\n                w2popup.onMax     = null;\n                w2popup.onMin     = null;\n                w2popup.onToggle  = null;\n                w2popup.onOpen    = null;\n                w2popup.onClose   = null;\n                w2popup.onKeydown = null;\n            }\n            if (options.onOpen)    w2popup.onOpen    = options.onOpen;\n            if (options.onClose)   w2popup.onClose   = options.onClose;\n            if (options.onMax)     w2popup.onMax     = options.onMax;\n            if (options.onMin)     w2popup.onMin     = options.onMin;\n            if (options.onToggle)  w2popup.onToggle  = options.onToggle;\n            if (options.onKeydown) w2popup.onKeydown = options.onKeydown;\n\n            if (window.innerHeight == undefined) {\n                var width  = document.documentElement.offsetWidth;\n                var height = document.documentElement.offsetHeight;\n                if (w2utils.engine === 'IE7') { width += 21; height += 4; }\n            } else {\n                var width  = window.innerWidth;\n                var height = window.innerHeight;\n            }\n            if (parseInt(width)  - 10 < parseInt(options.width))  options.width  = parseInt(width)  - 10;\n            if (parseInt(height) - 10 < parseInt(options.height)) options.height = parseInt(height) - 10;\n            var top  = parseInt(((parseInt(height) - parseInt(options.height)) / 2) * 0.6);\n            var left = parseInt((parseInt(width) - parseInt(options.width)) / 2);\n            // check if message is already displayed\n            if ($('#w2ui-popup').length == 0) {\n                // trigger event\n                var eventData = this.trigger({ phase: 'before', type: 'open', target: 'popup', options: options, present: false });\n                if (eventData.isCancelled === true) return;\n                w2popup.status = 'opening';\n                // output message\n                w2popup.lockScreen(options);\n                var btn = '';\n                if (options.showClose) {\n                    btn += '<div class=\"w2ui-msg-button w2ui-msg-close\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.close()\">Close</div>';\n                }\n                if (options.showMax) {\n                    btn += '<div class=\"w2ui-msg-button w2ui-msg-max\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.toggle()\">Max</div>';\n                }\n                var msg='<div id=\"w2ui-popup\" class=\"w2ui-popup\" style=\"opacity: 0; left: '+ left +'px; top: '+ top +'px;'+\n                        '     width: ' + parseInt(options.width) + 'px; height: ' + parseInt(options.height) + 'px; '+\n                              w2utils.cssPrefix('transform', 'scale(0.8)', true) + '\"' +\n                        '>'+\n                        '   <div class=\"w2ui-msg-title\" style=\"'+ (options.title == '' ? 'display: none' : '') +'\">' + btn + options.title + '</div>'+\n                        '   <div class=\"w2ui-box1\" style=\"'+ (options.title == '' ? 'top: 0px !important;' : '') + \n                                    (options.buttons == '' ? 'bottom: 0px !important;' : '') + '\">'+\n                        '       <div class=\"w2ui-msg-body' + (!options.title != '' ? ' w2ui-msg-no-title' : '') + \n                                    (!options.buttons != '' ? ' w2ui-msg-no-buttons' : '') + '\" style=\"' + options.style + '\">' + options.body + '</div>'+\n                        '   </div>'+\n                        '   <div class=\"w2ui-box2\" style=\"' + (options.title == '' ? 'top: 0px !important;' : '') +\n                                    (options.buttons == '' ? 'bottom: 0px !important;' : '') + '\">'+\n                        '       <div class=\"w2ui-msg-body' + (!options.title != '' ? ' w2ui-msg-no-title' : '') + \n                                    (!options.buttons != '' ? ' w2ui-msg-no-buttons' : '') + '\" style=\"' + options.style + '\"></div>'+\n                        '       </div>'+\n                        '   <div class=\"w2ui-msg-buttons\" style=\"'+ (options.buttons == '' ? 'display: none' : '') +'\">' + options.buttons + '</div>'+\n                        '</div>';\n                $('body').append(msg);\n                // allow element to render\n                setTimeout(function () {\n                    $('#w2ui-popup .w2ui-box2').hide();\n                    $('#w2ui-popup')\n                        .css('opacity', '1')\n                        .css(w2utils.cssPrefix({\n                            'transition': options.speed + 's opacity, ' + options.speed + 's -webkit-transform',\n                            'transform' : 'scale(1)'\n                        }));\n                }, 1);\n                // clean transform\n                setTimeout(function () {\n                    $('#w2ui-popup').css(w2utils.cssPrefix('transform', ''));\n                    // event after\n                    w2popup.status = 'open';\n                    setTimeout(function () {\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                    }, 100);\n                }, options.speed * 1000);\n            } else {\n                // trigger event\n                var eventData = this.trigger({ phase: 'before', type: 'open', target: 'popup', options: options, present: true });\n                if (eventData.isCancelled === true) return;\n                // check if size changed\n                w2popup.status = 'opening';\n                if (typeof old_options != 'undefined') {\n                    if (!old_options.maximized && (old_options['width'] != options['width'] || old_options['height'] != options['height'])) {\n                        w2popup.resize(options.width, options.height);\n                    }\n                    options.prevSize  = options.width + 'px:' + options.height + 'px';\n                    options.maximized = old_options.maximized;\n                }\n                // show new items\n                var body = $('#w2ui-popup .w2ui-box2 > .w2ui-msg-body').html(options.body);\n                if (body.length > 0) body[0].style.cssText = options.style;\n                if (options.buttons != '') {\n                    $('#w2ui-popup .w2ui-msg-buttons').show().html(options.buttons);\n                    $('#w2ui-popup .w2ui-msg-body').removeClass('w2ui-msg-no-buttons');\n                    $('#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2').css('bottom', '');\n                } else {\n                    $('#w2ui-popup .w2ui-msg-buttons').hide().html('');\n                    $('#w2ui-popup .w2ui-msg-body').addClass('w2ui-msg-no-buttons');\n                    $('#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2').css('bottom', '0px');\n                }\n                if (options.title != '') {\n                    $('#w2ui-popup .w2ui-msg-title').show().html(\n                          (options.showClose ? '<div class=\"w2ui-msg-button w2ui-msg-close\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.close()\">Close</div>' : '') +\n                          (options.showMax ? '<div class=\"w2ui-msg-button w2ui-msg-max\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.toggle()\">Max</div>' : '') +\n                          options.title);\n                    $('#w2ui-popup .w2ui-msg-body').removeClass('w2ui-msg-no-title');\n                    $('#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2').css('top', '');\n                } else {\n                    $('#w2ui-popup .w2ui-msg-title').hide().html('');\n                    $('#w2ui-popup .w2ui-msg-body').addClass('w2ui-msg-no-title');\n                    $('#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2').css('top', '0px');\n                }\n                // transition\n                var div_old = $('#w2ui-popup .w2ui-box1')[0];\n                var div_new = $('#w2ui-popup .w2ui-box2')[0];\n                w2utils.transition(div_old, div_new, options.transition);\n                div_new.className = 'w2ui-box1';\n                div_old.className = 'w2ui-box2';\n                $(div_new).addClass('w2ui-current-box');\n                // remove max state\n                $('#w2ui-popup').data('prev-size', null);\n                // call event onChange\n                setTimeout(function () {\n                    w2popup.status = 'open';\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                }, 100);\n            }\n            // save new options\n            options._last_w2ui_name = w2utils.keyboard.active();\n            w2utils.keyboard.clear();\n            // keyboard events\n            if (options.keyboard) $(document).on('keydown', this.keydown);\n\n            // initialize move\n            var tmp = {\n                resizing : false,\n                mvMove   : mvMove,\n                mvStop   : mvStop\n            };\n            $('#w2ui-popup .w2ui-msg-title').on('mousedown', function (event) { \n                if (!w2popup.get().maximized) mvStart(event); \n            });\n\n            // handlers\n            function mvStart(evnt) {\n                if (!evnt) evnt = window.event;\n                if (!window.addEventListener) { window.document.attachEvent('onselectstart', function() { return false; } ); }\n                w2popup.status = 'moving';\n                tmp.resizing = true;\n                tmp.isLocked = $('#w2ui-popup > .w2ui-lock').length == 1 ? true : false;\n                tmp.x = evnt.screenX;\n                tmp.y = evnt.screenY;\n                tmp.pos_x = $('#w2ui-popup').position().left;\n                tmp.pos_y = $('#w2ui-popup').position().top;\n                if (!tmp.isLocked) w2popup.lock({ opacity: 0 });\n                $(document).on('mousemove', tmp.mvMove);\n                $(document).on('mouseup', tmp.mvStop);\n                if (evnt.stopPropagation) evnt.stopPropagation(); else evnt.cancelBubble = true;\n                if (evnt.preventDefault) evnt.preventDefault(); else return false;\n            }\n\n            function mvMove(evnt) {\n                if (tmp.resizing != true) return;\n                if (!evnt) evnt = window.event;\n                tmp.div_x = evnt.screenX - tmp.x;\n                tmp.div_y = evnt.screenY - tmp.y;\n                $('#w2ui-popup').css(w2utils.cssPrefix({\n                    'transition': 'none',\n                    'transform' : 'translate3d('+ tmp.div_x +'px, '+ tmp.div_y +'px, 0px)'\n                }));\n            }\n\n            function mvStop(evnt) {\n                if (tmp.resizing != true) return;\n                if (!evnt) evnt = window.event;\n                w2popup.status = 'open';\n                tmp.div_x = (evnt.screenX - tmp.x);\n                tmp.div_y = (evnt.screenY - tmp.y);\n                $('#w2ui-popup').css({\n                    'left': (tmp.pos_x + tmp.div_x) + 'px',\n                    'top' : (tmp.pos_y  + tmp.div_y) + 'px'\n                }).css(w2utils.cssPrefix({\n                    'transition': 'none',\n                    'transform' : 'translate3d(0px, 0px, 0px)'\n                }));\n                tmp.resizing = false;\n                $(document).off('mousemove', tmp.mvMove);\n                $(document).off('mouseup', tmp.mvStop);\n                if (!tmp.isLocked) w2popup.unlock();\n            }\n            return this;\n        },\n\n        keydown: function (event) {\n            var options = $('#w2ui-popup').data('options');\n            if (options && !options.keyboard) return;\n            // trigger event\n            var eventData = w2popup.trigger({ phase: 'before', type: 'keydown', target: 'popup', options: options, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default behavior\n            switch (event.keyCode) {\n                case 27:\n                    event.preventDefault();\n                    if ($('#w2ui-popup .w2ui-popup-message').length > 0) w2popup.message(); else w2popup.close();\n                    break;\n            }\n            // event after\n            w2popup.trigger($.extend(eventData, { phase: 'after'}));\n        },\n\n        close: function (options) {\n            var obj = this;\n            var options = $.extend({}, $('#w2ui-popup').data('options'), options);\n            if ($('#w2ui-popup').length == 0) return;\n            // trigger event\n            var eventData = this.trigger({ phase: 'before', type: 'close', target: 'popup', options: options });\n            if (eventData.isCancelled === true) return;\n            // default behavior\n            w2popup.status = 'closing';\n            $('#w2ui-popup')\n                .css('opacity', '0')\n                .css(w2utils.cssPrefix({\n                    'transition': options.speed + 's opacity, ' + options.speed + 's -webkit-transform',\n                    'transform' : 'scale(0.9)'\n                }));\n            w2popup.unlockScreen(options);\n            setTimeout(function () {\n                $('#w2ui-popup').remove();\n                w2popup.status = 'closed';\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after'}));\n            }, options.speed * 1000);\n            // restore active\n            w2utils.keyboard.active(options._last_w2ui_name);\n            // remove keyboard events\n            if (options.keyboard) $(document).off('keydown', this.keydown);\n        },\n\n        toggle: function () {\n            var obj     = this;\n            var options = $('#w2ui-popup').data('options');\n            // trigger event\n            var eventData = this.trigger({ phase: 'before', type: 'toggle', target: 'popup', options: options });\n            if (eventData.isCancelled === true) return;\n            // defatul action\n            if (options.maximized === true) w2popup.min(); else w2popup.max();\n            // event after\n            setTimeout(function () {\n                obj.trigger($.extend(eventData, { phase: 'after'}));\n            }, (options.speed * 1000) + 50);\n        },\n\n        max: function () {\n            var obj = this;\n            var options = $('#w2ui-popup').data('options');\n            if (options.maximized === true) return;\n            // trigger event\n            var eventData = this.trigger({ phase: 'before', type: 'max', target: 'popup', options: options });\n            if (eventData.isCancelled === true) return;\n            // default behavior\n            w2popup.status   = 'resizing';\n            options.prevSize = $('#w2ui-popup').css('width') + ':' + $('#w2ui-popup').css('height');\n            // do resize\n            w2popup.resize(10000, 10000, function () {\n                w2popup.status    = 'open';\n                options.maximized = true;\n                obj.trigger($.extend(eventData, { phase: 'after'}));\n                // resize gird, form, layout inside popup\n                $('#w2ui-popup .w2ui-grid, #w2ui-popup .w2ui-form, #w2ui-popup .w2ui-layout').each(function () {\n                    var name = $(this).attr('name');\n                    if (w2ui[name] && w2ui[name].resize) w2ui[name].resize();\n                })\n            });\n        },\n\n        min: function () {\n            var obj = this;\n            var options = $('#w2ui-popup').data('options');\n            if (options.maximized !== true) return;\n            var size = options.prevSize.split(':');\n            // trigger event\n            var eventData = this.trigger({ phase: 'before', type: 'min', target: 'popup', options: options });\n            if (eventData.isCancelled === true) return;\n            // default behavior\n            w2popup.status = 'resizing';\n            // do resize\n            w2popup.resize(parseInt(size[0]), parseInt(size[1]), function () {\n                w2popup.status = 'open';\n                options.maximized = false;\n                options.prevSize  = null;\n                obj.trigger($.extend(eventData, { phase: 'after'}));\n                // resize gird, form, layout inside popup\n                $('#w2ui-popup .w2ui-grid, #w2ui-popup .w2ui-form, #w2ui-popup .w2ui-layout').each(function () {\n                    var name = $(this).attr('name');\n                    if (w2ui[name] && w2ui[name].resize) w2ui[name].resize();\n                })\n            });\n        },\n\n        get: function () {\n            return $('#w2ui-popup').data('options');\n        },\n\n        set: function (options) {\n            w2popup.open(options);\n        },\n\n        clear: function() {\n            $('#w2ui-popup .w2ui-msg-title').html('');\n            $('#w2ui-popup .w2ui-msg-body').html('');\n            $('#w2ui-popup .w2ui-msg-buttons').html('');\n        },\n\n        reset: function () {\n            w2popup.open(w2popup.defaults);\n        },\n\n        load: function (options) {\n            w2popup.status = 'loading';\n            if (String(options.url) == 'undefined') {\n                console.log('ERROR: The url parameter is empty.');\n                return;\n            }\n            var tmp = String(options.url).split('#');\n            var url = tmp[0];\n            var selector = tmp[1];\n            if (String(options) == 'undefined') options = {};\n            // load url\n            var html = $('#w2ui-popup').data(url);\n            if (typeof html != 'undefined' && html != null) {\n                popup(html, selector);\n            } else {\n                $.get(url, function (data, status, obj) { // should always be $.get as it is template\n                    popup(obj.responseText, selector);\n                    $('#w2ui-popup').data(url, obj.responseText); // remember for possible future purposes\n                });\n            }\n            function popup(html, selector) {\n                delete options.url;\n                $('body').append('<div id=\"w2ui-tmp\" style=\"display: none\">' + html + '</div>');\n                if (typeof selector != 'undefined' && $('#w2ui-tmp #'+selector).length > 0) {\n                    $('#w2ui-tmp #' + selector).w2popup(options);\n                } else {\n                    $('#w2ui-tmp > div').w2popup(options);\n                }\n                // link styles\n                if ($('#w2ui-tmp > style').length > 0) {\n                    var style = $('<div>').append($('#w2ui-tmp > style').clone()).html();\n                    if ($('#w2ui-popup #div-style').length == 0) {\n                        $('#w2ui-popup').append('<div id=\"div-style\" style=\"position: absolute; left: -100; width: 1px\"></div>');\n                    }\n                    $('#w2ui-popup #div-style').html(style);\n                }\n                $('#w2ui-tmp').remove();\n            }\n        },\n\n        message: function (options) {\n            $().w2tag(); // hide all tags\n            if (!options) options = { width: 200, height: 100 };\n            var pWidth   = parseInt($('#w2ui-popup').width());\n            var pHeight  = parseInt($('#w2ui-popup').height());\n            options.originalWidth  = options.width;\n            options.originalHeight = options.height;\n            if (parseInt(options.width) < 10)  options.width  = 10;\n            if (parseInt(options.height) < 10) options.height = 10;\n            if (typeof options.hideOnClick == 'undefined') options.hideOnClick = false;\n            var poptions    = $('#w2ui-popup').data('options') || {};\n            var titleHeight = parseInt($('#w2ui-popup > .w2ui-msg-title').css('height'));\n            if (typeof options.width == 'undefined' || options.width > poptions.width - 10) {\n                options.width = poptions.width - 10;\n            }\n            if (typeof options.height == 'undefined' || options.height > poptions.height - titleHeight - 5) {\n                options.height = poptions.height - titleHeight - 5; // need margin from bottom only\n            }\n            // negative value means margin\n            if (options.originalHeight < 0) options.height = pHeight + options.originalHeight - titleHeight;\n            if (options.originalWidth < 0) options.width = pWidth + options.originalWidth * 2; // x 2 because there is left and right margin\n\n            var head     = $('#w2ui-popup .w2ui-msg-title');\n            var msgCount = $('#w2ui-popup .w2ui-popup-message').length;\n            // remove message\n            if ($.trim(options.html) == '' && $.trim(options.body) == '' && $.trim(options.buttons) == '') {\n                var $msg = $('#w2ui-popup #w2ui-message'+ (msgCount-1));\n                var options = $msg.data('options') || {};\n                $msg.css(w2utils.cssPrefix({ \n                    'transition': '0.15s', \n                    'transform': 'translateY(-' + options.height + 'px)'\n                }));\n                if (msgCount == 1) {\n                    w2popup.unlock(150);\n                } else {\n                    $('#w2ui-popup #w2ui-message'+ (msgCount-2)).css('z-index', 1500);\n                }\n                setTimeout(function () {\n                    $msg.remove();\n                    if (typeof options.onClose == 'function') options.onClose();\n                }, 150);\n            } else {\n                if ($.trim(options.body) != '' || $.trim(options.buttons) != '') {\n                    options.html = '<div class=\"w2ui-popup-message-body\">'+ options.body +'</div>'+\n                        '<div class=\"w2ui-popup-message-buttons\">'+ options.buttons +'</div>';\n                }\n                // hide previous messages\n                $('#w2ui-popup .w2ui-popup-message').css('z-index', 1390);\n                head.css('z-index', 1501);\n                // add message\n                $('#w2ui-popup .w2ui-box1')\n                    .before('<div id=\"w2ui-message' + msgCount + '\" class=\"w2ui-popup-message\" style=\"display: none; z-index: 1500; ' +\n                                (head.length == 0 ? 'top: 0px;' : 'top: ' + w2utils.getSize(head, 'height') + 'px;') +\n                                (typeof options.width  != 'undefined' ? 'width: ' + options.width + 'px; left: ' + ((pWidth - options.width) / 2) + 'px;' : 'left: 10px; right: 10px;') +\n                                (typeof options.height != 'undefined' ? 'height: ' + options.height + 'px;' : 'bottom: 6px;') +\n                                w2utils.cssPrefix('transition', '.3s', true) + '\"' +\n                                (options.hideOnClick === true ? 'onclick=\"w2popup.message();\"' : '') + '>' +\n                            '</div>');\n                $('#w2ui-popup #w2ui-message'+ msgCount).data('options', options);\n                var display = $('#w2ui-popup #w2ui-message'+ msgCount).css('display');\n                $('#w2ui-popup #w2ui-message'+ msgCount).css(w2utils.cssPrefix({\n                    'transform': (display == 'none' ? 'translateY(-' + options.height + 'px)' : 'translateY(0px)')\n                }));\n                if (display == 'none') {\n                    $('#w2ui-popup #w2ui-message'+ msgCount).show().html(options.html);\n                    // timer needs to animation\n                    setTimeout(function () {\n                        $('#w2ui-popup #w2ui-message'+ msgCount).css(w2utils.cssPrefix({\n                            'transform': (display == 'none' ? 'translateY(0px)' : 'translateY(-' + options.height + 'px)')\n                        }));\n                    }, 1);\n                    // timer for lock\n                    if (msgCount == 0) w2popup.lock();\n                    setTimeout(function() {\n                        // has to be on top of lock\n                        $('#w2ui-popup #w2ui-message'+ msgCount).css(w2utils.cssPrefix({ 'transition': '0s' }));\n                        if (typeof options.onOpen == 'function') options.onOpen();\n                    }, 350);\n                }\n            }\n        },\n\n        lock: function (msg, showSpinner) {\n            var args = Array.prototype.slice.call(arguments, 0);\n            args.unshift($('#w2ui-popup'));\n            w2utils.lock.apply(window, args);\n        },\n\n        unlock: function (speed) {\n            w2utils.unlock($('#w2ui-popup'), speed);\n        },\n\n        // --- INTERNAL FUNCTIONS\n\n        lockScreen: function (options) {\n            if ($('#w2ui-lock').length > 0) return false;\n            if (typeof options == 'undefined') options = $('#w2ui-popup').data('options');\n            if (typeof options == 'undefined') options = {};\n            options = $.extend({}, w2popup.defaults, options);\n            // show element\n            $('body').append('<div id=\"w2ui-lock\" ' +\n                '    onmousewheel=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; if (event.preventDefault) event.preventDefault(); else return false;\"'+\n                '    style=\"position: ' + (w2utils.engine == 'IE5' ? 'absolute' : 'fixed') + '; z-Index: 1199; left: 0px; top: 0px; ' +\n                '           padding: 0px; margin: 0px; background-color: ' + options.color + '; width: 100%; height: 100%; opacity: 0;\"></div>');\n            // lock screen\n            setTimeout(function () {\n                $('#w2ui-lock')\n                    .css('opacity', options.opacity)\n                    .css(w2utils.cssPrefix('transition', options.speed + 's opacity'));\n            }, 1);\n            // add events\n            if (options.modal == true) {\n                $('#w2ui-lock').on('mousedown', function () {\n                    $('#w2ui-lock')\n                        .css('opacity', '0.6')\n                        .css(w2utils.cssPrefix('transition', '.1s'));\n                });\n                $('#w2ui-lock').on('mouseup', function () {\n                    setTimeout(function () {\n                        $('#w2ui-lock')\n                            .css('opacity', options.opacity)\n                            .css(w2utils.cssPrefix('transition', '.1s'));\n                    }, 100);\n                });\n            } else {\n                $('#w2ui-lock').on('mousedown', function () { w2popup.close(); });\n            }\n            return true;\n        },\n\n        unlockScreen: function (options) {\n            if ($('#w2ui-lock').length == 0) return false;\n            if (typeof options == 'undefined') options = $('#w2ui-popup').data('options');\n            if (typeof options == 'undefined') options = {};\n            options = $.extend({}, w2popup.defaults, options);\n            $('#w2ui-lock')\n                .css('opacity', '0')\n                .css(w2utils.cssPrefix('transition', options.speed + 's opacity'));\n            setTimeout(function () {\n                $('#w2ui-lock').remove();\n            }, options.speed * 1000);\n            return true;\n        },\n\n        resizeMessages: function () {\n            var obj = this;\n            var options = $('#w2ui-popup').data('options');\n            // see if there are messages and resize them\n            $('#w2ui-popup .w2ui-popup-message').each(function () {\n                var moptions = $(this).data('options');\n                var $popup   = $('#w2ui-popup');\n                if (parseInt(moptions.width) < 10)  moptions.width  = 10;\n                if (parseInt(moptions.height) < 10) moptions.height = 10;\n                var titleHeight = parseInt($popup.find('> .w2ui-msg-title').css('height'));\n                var pWidth      = parseInt($popup.width());\n                var pHeight     = parseInt($popup.height());\n                // recalc width\n                moptions.width = moptions.originalWidth;\n                if (moptions.width > pWidth - 10) {\n                    moptions.width = pWidth - 10;\n                }\n                // recalc height\n                moptions.height = moptions.originalHeight;\n                if (moptions.height > pHeight - titleHeight - 5) {\n                    moptions.height = pHeight - titleHeight - 5;\n                }\n                if (moptions.originalHeight < 0) moptions.height = pHeight + moptions.originalHeight - titleHeight;\n                if (moptions.originalWidth < 0) moptions.width = pWidth + moptions.originalWidth * 2; // x 2 because there is left and right margin\n                $(this).css({\n                    left    : ((pWidth - moptions.width) / 2) + 'px',\n                    width   : moptions.width + 'px',\n                    height  : moptions.height + 'px'\n                });\n            });            \n        },\n\n        resize: function (width, height, callBack) {\n            var obj = this;\n            var options = $('#w2ui-popup').data('options');\n            width  = parseInt(width);\n            height = parseInt(height);\n            // calculate new position\n            if ($(window).width()  - 10 < width)  width  = $(window).width()  - 10;\n            if ($(window).height() - 10 < height) height = $(window).height() - 10;\n            var top  = ($(window).height() - height) / 2 * 0.8;\n            var left = ($(window).width() - width) / 2;\n            // resize there\n            $('#w2ui-popup')\n                .css(w2utils.cssPrefix({\n                    'transition': options.speed + 's width, ' + options.speed + 's height, ' + options.speed + 's left, ' + options.speed + 's top'\n                }))\n                .css({\n                    'top': top,\n                    'left': left,\n                    'width': width,\n                    'height': height\n                });\n            var tmp_int = setInterval(function () { obj.resizeMessages(); }, 10); // then messages resize nicely\n            setTimeout(function () {\n                clearInterval(tmp_int);\n                options.width  = width;\n                options.height = height;\n                obj.resizeMessages();\n                if (typeof callBack == 'function') callBack();\n            }, (options.speed * 1000) + 50); // give extra 50 ms\n        }\n    };\n\n    // merge in event handling\n    $.extend(w2popup, w2utils.event);\n\n})();\n\n// ============================================\n// --- Common dialogs\n\nvar w2alert = function (msg, title, callBack) {\n    if (title == null) title = w2utils.lang('Notification');\n    if ($('#w2ui-popup').length > 0 && w2popup.status != 'closing') {\n        w2popup.message({\n            width   : 400,\n            height  : 170,\n            body    : '<div class=\"w2ui-centered\" style=\"font-size: 13px;\">' + msg + '</div>',\n            buttons : '<button onclick=\"w2popup.message();\" class=\"w2ui-popup-btn w2ui-btn\">' + w2utils.lang('Ok') + '</button>',            \n            onOpen: function () {\n                $('#w2ui-popup .w2ui-popup-message .w2ui-popup-btn').focus();\n            },\n            onClose: function () {\n                if (typeof callBack == 'function') callBack();\n            }\n        });\n    } else {\n        w2popup.open({\n            width     : 450,\n            height    : 220,\n            showMax   : false,\n            showClose : false,\n            title     : title,\n            body      : '<div class=\"w2ui-centered\" style=\"font-size: 13px;\">' + msg + '</div>',\n            buttons   : '<button onclick=\"w2popup.close();\" class=\"w2ui-popup-btn w2ui-btn\">' + w2utils.lang('Ok') + '</button>',\n            onOpen: function (event) {\n                // do not use onComplete as it is slower\n                setTimeout(function () { $('#w2ui-popup .w2ui-popup-btn').focus(); }, 1);\n            },\n            onKeydown: function (event) {\n            $('#w2ui-popup .w2ui-popup-btn').focus().addClass('clicked'); \n            },\n            onClose: function () {\n                if (typeof callBack == 'function') callBack();\n            }\n        });\n    }\n};\n\nvar w2confirm = function (msg, title, callBack) {\n    var options  = {};\n    var defaults = {\n        msg         : '',\n        title       : w2utils.lang('Confirmation'),\n        width       : ($('#w2ui-popup').length > 0 ? 400 : 450),\n        height      : ($('#w2ui-popup').length > 0 ? 170 : 220),\n        yes_text    : 'Yes',\n        yes_class   : '',\n        yes_style   : '',\n        yes_callBack: null,\n        no_text     : 'No',\n        no_class    : '',\n        no_style    : '',\n        no_callBack : null,\n        callBack    : null\n    };\n    if (arguments.length == 1 && typeof msg == 'object') {\n        $.extend(options, defaults, msg);\n    } else {\n        if (typeof title == 'function') {\n            $.extend(options, defaults, {\n                msg     : msg,\n                callBack: title\n            })            \n        } else {\n            $.extend(options, defaults, {\n                msg     : msg,\n                title   : title, \n                callBack: callBack\n            })            \n        }\n    }\n    // if there is a yes/no button object\n    if (typeof options.btn_yes == 'object') {\n        options.yes_text     = options.btn_yes.text || options.yes_text;\n        options.yes_class    = options.btn_yes[\"class\"] || options.yes_class;\n        options.yes_style    = options.btn_yes.style || options.yes_style;\n        options.yes_callBack = options.btn_yes.callBack || options.yes_callBack;\n    }\n    if (typeof options.btn_no == 'object') {\n        options.no_text      = options.btn_no.text || options.no_text;\n        options.no_class     = options.btn_no[\"class\"] || options.no_class;\n        options.no_style     = options.btn_no.style || options.no_style;\n        options.no_callBack  = options.btn_no.callBack || options.no_callBack;\n    }\n    if ($('#w2ui-popup').length > 0 && w2popup.status != 'closing') {\n        if (options.width > w2popup.get().width) options.width = w2popup.get().width;\n        if (options.height > (w2popup.get().height - 50)) options.height = w2popup.get().height - 50;\n          w2popup.message({\n            width   : options.width,\n            height  : options.height,\n            body    : '<div class=\"w2ui-centered\" style=\"font-size: 13px;\">' + options.msg + '</div>',\n            buttons : '<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn '+ options.yes_class +'\" style=\"'+ options.yes_style +'\">' + w2utils.lang(options.yes_text) + '</button>' +\n                      '<button id=\"No\" class=\"w2ui-popup-btn w2ui-btn '+ options.no_class +'\" style=\"'+ options.no_style +'\">' + w2utils.lang(options.no_text) + '</button>',\n            onOpen: function () {\n                $('#w2ui-popup .w2ui-popup-message .w2ui-btn').on('click', function (event) {\n                    w2popup.message();\n                    if (typeof options.callBack == 'function') options.callBack(event.target.id);\n                    if (event.target.id == 'Yes' && typeof options.yes_callBack == 'function') options.yes_callBack();\n                    if (event.target.id == 'No'  && typeof options.no_callBack == 'function') options.no_callBack();\n                });\n            }\n            // onKeydown will not work here\n        });\n\n    } else {\n\n        if (!w2utils.isInt(options.height)) options.height = options.height + 50;\n        w2popup.open({\n            width      : options.width,\n            height     : options.height,\n            title      : options.title,\n            modal      : true,\n            showClose  : false,\n            body       : '<div class=\"w2ui-centered\" style=\"font-size: 13px;\">' + options.msg + '</div>',\n            buttons    : '<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn '+ options.yes_class +'\" style=\"'+ options.yes_style +'\">'+ w2utils.lang(options.yes_text) +'</button>'+\n                         '<button id=\"No\" class=\"w2ui-popup-btn w2ui-btn '+ options.no_class +'\" style=\"'+ options.no_style +'\">'+ w2utils.lang(options.no_text) +'</button>',\n            onOpen: function (event) {\n                // do not use onComplete as it is slower\n                setTimeout(function () {\n                    $('#w2ui-popup .w2ui-popup-btn').on('click', function (event) {\n                        w2popup.close();\n                        if (typeof options.callBack == 'function') options.callBack(event.target.id);\n                        if (event.target.id == 'Yes' && typeof options.yes_callBack == 'function') options.yes_callBack();\n                        if (event.target.id == 'No'  && typeof options.no_callBack == 'function') options.no_callBack();\n                    });\n                    $('#w2ui-popup .w2ui-popup-btn#No').focus();\n                }, 1);\n            },\n            onKeydown: function (event) {\n                // if there are no messages\n                if ($('#w2ui-popup .w2ui-popup-message').length == 0) {\n                    switch (event.originalEvent.keyCode) {\n                        case 13: // enter\n                            $('#w2ui-popup .w2ui-popup-btn#Yes').focus().addClass('clicked'); // no need fo click as enter will do click\n                            w2popup.close();\n                            break;\n                        case 27: // esc\n                            $('#w2ui-popup .w2ui-popup-btn#No').focus().click();\n                            w2popup.close();\n                            break;\n                    }\n                }\n            }\n        });\n    }\n\n    return {\n        yes: function (fun) {\n            options.yes_callBack = fun;\n            return this;\n        },\n        no: function (fun) {\n            options.no_callBack = fun;\n            return this;\n        }\n    };\n};\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2tabs        - tabs widget\n*        - $().w2tabs    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - on overflow display << >>\n*   - declarative tabs\n*   - align = left, right, center ?? \n*\n* == 1.5 changes\n*   - $('#tabs').w2tabs() - if called w/o argument then it returns tabs object\n*   - added flow property (up/down)\n*   - added tab.style\n*\n************************************************************************/\n\n(function () {\n    var w2tabs = function (options) {\n        this.box       = null;      // DOM Element that holds the element\n        this.name      = null;      // unique name for w2ui\n        this.active    = null;\n        this.flow      = 'down';    // can be down or up\n        this.tabs      = [];\n        this.routeData = {};        // data for dynamic routes\n        this.right     = '';\n        this.style     = '';\n        this.onClick   = null;\n        this.onClose   = null;\n        this.onRender  = null;\n        this.onRefresh = null;\n        this.onResize  = null;\n        this.onDestroy = null;\n\n        $.extend(this, { handlers: [] });\n        $.extend(true, this, w2obj.tabs, options);\n    };\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2tabs = function(method) {\n        if ($.isPlainObject(method)) {\n            // check name parameter\n            if (!w2utils.checkName(method, 'w2tabs')) return;\n            // extend tabs\n            var tabs   = method.tabs || [];\n            var object = new w2tabs(method);\n            for (var i = 0; i < tabs.length; i++) {\n                object.tabs[i] = $.extend({}, w2tabs.prototype.tab, tabs[i]);\n            }\n            if ($(this).length !== 0) {\n                object.render($(this)[0]);\n            }\n            // register new object\n            w2ui[object.name] = object;\n            return object;\n        } else {\n            var obj = w2ui[$(this).attr('name')];\n            if (!obj) return null;\n            if (arguments.length > 0) {\n                if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n                return this;\n            } else {\n                return obj;\n            }\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    w2tabs.prototype = {\n        tab : {\n            id        : null,        // command to be sent to all event handlers\n            text      : '',\n            route     : null,\n            hidden    : false,\n            disabled  : false,\n            closable  : false,\n            hint      : '',\n            style     : '',\n            onClick   : null,\n            onRefresh : null,\n            onClose   : null\n        },\n\n        add: function (tab) {\n            return this.insert(null, tab);\n        },\n\n        insert: function (id, tab) {\n            if (!$.isArray(tab)) tab = [tab];\n            // assume it is array\n            for (var i = 0; i < tab.length; i++) {\n                // checks\n                if (typeof tab[i].id === 'undefined') {\n                    console.log('ERROR: The parameter \"id\" is required but not supplied. (obj: '+ this.name +')');\n                    return;\n                }\n                if (!w2utils.checkUniqueId(tab[i].id, this.tabs, 'tabs', this.name)) return;\n                // add tab\n                var newTab = $.extend({}, w2tabs.prototype.tab, tab[i]);\n                if (id === null || typeof id === 'undefined') {\n                    this.tabs.push(newTab);\n                } else {\n                    var middle = this.get(id, true);\n                    this.tabs = this.tabs.slice(0, middle).concat([newTab], this.tabs.slice(middle));\n                }\n                this.refresh(tab[i].id);\n            }\n        },\n\n        remove: function () {\n            var removed = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var tab = this.get(arguments[a]);\n                if (!tab) return false;\n                removed++;\n                // remove from array\n                this.tabs.splice(this.get(tab.id, true), 1);\n                // remove from screen\n                $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(tab.id)).remove();\n            }\n            return removed;\n        },\n\n        select: function (id) {\n            if (this.active == id || this.get(id) === null) return false;\n            this.active = id;\n            this.refresh();\n            return true;\n        },\n\n        set: function (id, tab) {\n            var index = this.get(id, true);\n            if (index === null) return false;\n            $.extend(this.tabs[index], tab);\n            this.refresh(id);\n            return true;\n        },\n\n        get: function (id, returnIndex) {\n            if (arguments.length === 0) {\n                var all = [];\n                for (var i1 = 0; i1 < this.tabs.length; i1++) {\n                    if (this.tabs[i1].id != null) {\n                        all.push(this.tabs[i1].id);\n                    }\n                }\n                return all;\n            } else {\n                for (var i2 = 0; i2 < this.tabs.length; i2++) {\n                    if (this.tabs[i2].id == id) { // need to be == since id can be numeric\n                        return (returnIndex === true ? i2 : this.tabs[i2]);\n                    }\n                }\n            }\n            return null;\n        },\n\n        show: function () {\n            var obj   = this;\n            var shown = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var tab = this.get(arguments[a]);\n                if (!tab || tab.hidden === false) continue;\n                shown++;\n                tab.hidden = false;\n                tmp.push(tab.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return shown;\n        },\n\n        hide: function () {\n            var obj   = this;\n            var hidden= 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var tab = this.get(arguments[a]);\n                if (!tab || tab.hidden === true) continue;\n                hidden++;\n                tab.hidden = true;\n                tmp.push(tab.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return hidden;\n        },\n\n        enable: function () {\n            var obj   = this;\n            var enabled = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var tab = this.get(arguments[a]);\n                if (!tab || tab.disabled === false) continue;\n                enabled++;\n                tab.disabled = false;\n                tmp.push(tab.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return enabled;\n        },\n\n        disable: function () {\n            var obj   = this;\n            var disabled = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var tab = this.get(arguments[a]);\n                if (!tab || tab.disabled === true) continue;\n                disabled++;\n                tab.disabled = true;\n                tmp.push(tab.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return disabled;\n        },\n\n        refresh: function (id) {\n            var time = (new Date()).getTime();\n            if (this.flow == 'up') $(this.box).addClass('w2ui-tabs-up'); else $(this.box).removeClass('w2ui-tabs-up');\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'refresh', target: (typeof id !== 'undefined' ? id : this.name), object: this.get(id) });\n            if (eventData.isCancelled === true) return;\n            if (typeof id === 'undefined') {\n                // refresh all\n                for (var i = 0; i < this.tabs.length; i++) this.refresh(this.tabs[i].id);\n            } else {\n                // create or refresh only one item\n                var tab = this.get(id);\n                if (tab === null) return false;\n                if (typeof tab.caption !== 'undefined') tab.text = tab.caption;\n\n                var jq_el   = $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(tab.id));\n                var tabHTML = (tab.closable ? '<div class=\"w2ui-tab-close\" onclick=\"w2ui[\\''+ this.name +'\\'].animateClose(\\''+ tab.id +'\\', event);\"></div>' : '') +\n                    '    <div class=\"w2ui-tab'+ (this.active === tab.id ? ' active' : '') + (tab.closable ? ' closable' : '') +'\" '+\n                    '        title=\"'+ (typeof tab.hint !== 'undefined' ? tab.hint : '') +'\" style=\"'+ tab.style +'\" '+ \n                    '        onclick=\"w2ui[\\''+ this.name +'\\'].click(\\''+ tab.id +'\\', event);\">' + tab.text + '</div>';\n                if (jq_el.length === 0) {\n                    // does not exist - create it\n                    var addStyle = '';\n                    if (tab.hidden) { addStyle += 'display: none;'; }\n                    if (tab.disabled) { addStyle += 'opacity: 0.2;'; }\n                    var html = '<td id=\"tabs_'+ this.name + '_tab_'+ tab.id +'\" style=\"'+ addStyle +'\" valign=\"middle\">'+ tabHTML + '</td>';\n                    if (this.get(id, true) !== this.tabs.length-1 && $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(this.tabs[parseInt(this.get(id, true))+1].id)).length > 0) {\n                        $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(this.tabs[parseInt(this.get(id, true))+1].id)).before(html);\n                    } else {\n                        $(this.box).find('#tabs_'+ this.name +'_right').before(html);\n                    }\n                } else {\n                    // refresh\n                    jq_el.html(tabHTML);\n                    if (tab.hidden) { jq_el.css('display', 'none'); }\n                    else { jq_el.css('display', ''); }\n                    if (tab.disabled) { jq_el.css({ 'opacity': '0.2' }); }\n                    else { jq_el.css({ 'opacity': '1' }); }\n                }\n            }\n            // right html\n            $('#tabs_'+ this.name +'_right').html(this.right);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        render: function (box) {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'render', target: this.name, box: box });\n            if (eventData.isCancelled === true) return;\n            // default action\n            // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            if (typeof box !== 'undefined' && box !== null) {\n                if ($(this.box).find('> table #tabs_'+ this.name + '_right').length > 0) {\n                    $(this.box)\n                        .removeAttr('name')\n                        .removeClass('w2ui-reset w2ui-tabs')\n                        .html('');\n                }\n                this.box = box;\n            }\n            if (!this.box) return false;\n            // render all buttons\n            var html =    '<table cellspacing=\"0\" cellpadding=\"1\" width=\"100%\">'+\n                        '    <tr><td width=\"100%\" id=\"tabs_'+ this.name +'_right\" align=\"right\">'+ this.right +'</td></tr>'+\n                        '</table>';\n            $(this.box)\n                .attr('name', this.name)\n                .addClass('w2ui-reset w2ui-tabs')\n                .html(html);\n            if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            this.refresh();\n            return (new Date()).getTime() - time;\n        },\n\n        resize: function () {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n            if (eventData.isCancelled === true) return;\n\n            // intentionaly blank\n\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        destroy: function () {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n            if (eventData.isCancelled === true) return;\n            // clean up\n            if ($(this.box).find('> table #tabs_'+ this.name + '_right').length > 0) {\n                $(this.box)\n                    .removeAttr('name')\n                    .removeClass('w2ui-reset w2ui-tabs')\n                    .html('');\n            }\n            delete w2ui[this.name];\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        // ===================================================\n        // -- Internal Event Handlers\n\n        click: function (id, event) {\n            var tab = this.get(id);\n            if (tab === null || tab.disabled) return false;\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'click', target: id, tab: tab, object: tab, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default action\n            $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(this.active) +' .w2ui-tab').removeClass('active');\n            this.active = tab.id;\n            // route processing\n            if (tab.route) {\n                var route = String('/'+ tab.route).replace(/\\/{2,}/g, '/');\n                var info  = w2utils.parseRoute(route);\n                if (info.keys.length > 0) {\n                    for (var k = 0; k < info.keys.length; k++) {\n                        if (this.routeData[info.keys[k].name] == null) continue;\n                        route = route.replace((new RegExp(':'+ info.keys[k].name, 'g')), this.routeData[info.keys[k].name]);\n                    }\n                }\n                setTimeout(function () { window.location.hash = route; }, 1);\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            this.refresh(id);\n        },\n\n        animateClose: function(id, event) {\n            var tab = this.get(id);\n            if (tab === null || tab.disabled) return false;\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'close', target: id, object: this.get(id), originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default action\n            var obj = this;\n            $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(tab.id)).css(w2utils.cssPrefix('transition', '.2s')).css('opacity', '0');\n            setTimeout(function () {\n                var width = $(obj.box).find('#tabs_'+ obj.name +'_tab_'+ w2utils.escapeId(tab.id)).width();\n                $(obj.box).find('#tabs_'+ obj.name +'_tab_'+ w2utils.escapeId(tab.id))\n                    .html('<div style=\"width: '+ width +'px; '+ w2utils.cssPrefix('transition', '.2s', true) +'\"></div>');\n                setTimeout(function () {\n                    $(obj.box).find('#tabs_'+ obj.name +'_tab_'+ w2utils.escapeId(tab.id)).find(':first-child').css({ 'width': '0px' });\n                }, 50);\n            }, 200);\n            setTimeout(function () {\n                obj.remove(id);\n            }, 450);\n            // event before\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            this.refresh();\n        },\n\n        animateInsert: function(id, tab) {\n            if (this.get(id) === null) return;\n            if (!$.isPlainObject(tab)) return;\n            // check for unique\n            if (!w2utils.checkUniqueId(tab.id, this.tabs, 'tabs', this.name)) return;\n            // insert simple div\n            var jq_el   = $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(tab.id));\n            if (jq_el.length !== 0) return; // already exists\n            // measure width\n            if (typeof tab.caption !== 'undefined') tab.text = tab.caption;\n            var tmp = '<div id=\"_tmp_tabs\" class=\"w2ui-reset w2ui-tabs\" style=\"position: absolute; top: -1000px;\">'+\n                '<table cellspacing=\"0\" cellpadding=\"1\" width=\"100%\"><tr>'+\n                '<td id=\"_tmp_simple_tab\" style=\"\" valign=\"middle\">'+\n                    (tab.closable ? '<div class=\"w2ui-tab-close\"></div>' : '') +\n                '    <div class=\"w2ui-tab '+ (this.active === tab.id ? 'active' : '') +'\">'+ tab.text +'</div>'+\n                '</td></tr></table>'+\n                '</div>';\n            $('body').append(tmp);\n            // create dummy element\n            var tabHTML = '<div style=\"width: 1px; '+ w2utils.cssPrefix('transition', '.2s', true) +'\">&nbsp;</div>';\n            var addStyle = '';\n            if (tab.hidden) { addStyle += 'display: none;'; }\n            if (tab.disabled) { addStyle += 'opacity: 0.2;'; }\n            var html = '<td id=\"tabs_'+ this.name +'_tab_'+ tab.id +'\" style=\"'+ addStyle +'\" valign=\"middle\">'+ tabHTML +'</td>';\n            if (this.get(id, true) !== this.tabs.length && $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(this.tabs[parseInt(this.get(id, true))].id)).length > 0) {\n                $(this.box).find('#tabs_'+ this.name +'_tab_'+ w2utils.escapeId(this.tabs[parseInt(this.get(id, true))].id)).before(html);\n            } else {\n                $(this.box).find('#tabs_'+ this.name +'_right').before(html);\n            }\n            // -- move\n            var obj = this;\n            setTimeout(function () {\n                var width = $('#_tmp_simple_tab').width();\n                $('#_tmp_tabs').remove();\n                $('#tabs_'+ obj.name +'_tab_'+ w2utils.escapeId(tab.id) +' > div').css('width', width+'px');\n            }, 1);\n            setTimeout(function () {\n                // insert for real\n                obj.insert(id, tab);\n            }, 200);\n        }\n    };\n\n    $.extend(w2tabs.prototype, w2utils.event);\n    w2obj.tabs = w2tabs;\n})();\n\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2toolbar        - toolbar widget\n*        - $().w2toolbar    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - on overflow display << >>\n*   - vertical toolbar\n*   - declarative toolbar\n*\n* == 1.5 changes\n*   - $('#toolbar').w2toolbar() - if called w/o argument then it returns toolbar object\n*   - change enable, disable can disable menu items\n*\n************************************************************************/\n\n(function () {\n    var w2toolbar = function (options) {\n        this.box       = null;      // DOM Element that holds the element\n        this.name      = null;      // unique name for w2ui\n        this.routeData = {};        // data for dynamic routes\n        this.items     = [];\n        this.right     = '';        // HTML text on the right of toolbar\n        this.onClick   = null;\n        this.onRender  = null;\n        this.onRefresh = null;\n        this.onResize  = null;\n        this.onDestroy = null;\n\n        $.extend(true, this, w2obj.toolbar, options);\n    };\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2toolbar = function(method) {\n        if ($.isPlainObject(method)) {\n            // check name parameter\n            if (!w2utils.checkName(method, 'w2toolbar')) return;\n            // extend items\n            var items = method.items || [];\n            var object = new w2toolbar(method);\n            $.extend(object, { items: [], handlers: [] });\n            for (var i = 0; i < items.length; i++) {\n                object.items[i] = $.extend({}, w2toolbar.prototype.item, items[i]);\n            }\n            if ($(this).length !== 0) {\n                object.render($(this)[0]);\n            }\n            // register new object\n            w2ui[object.name] = object;\n            return object;\n\n        } else {\n            var obj = w2ui[$(this).attr('name')];\n            if (!obj) return null;\n            if (arguments.length > 0) {\n                if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n                return this;\n            } else {\n                return obj;\n            }\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    w2toolbar.prototype = {\n        item: {\n            id       : null,        // command to be sent to all event handlers\n            type     : 'button',    // button, check, radio, drop, menu, break, html, spacer\n            text     : '',\n            route    : null,        // if not null, it is route to go\n            html     : '',\n            img      : null,\n            icon     : null,\n            count    : null,\n            hidden   : false,\n            disabled : false,\n            checked  : false,       // used for radio buttons\n            arrow    : true,        // arrow down for drop/menu types\n            hint     : '',\n            group    : null,        // used for radio buttons\n            items    : null,        // for type menu it is an array of items in the menu\n            overlay  : {},\n            onClick  : null\n        },\n\n        add: function (items) {\n            this.insert(null, items);\n        },\n\n        insert: function (id, items) {\n            if (!$.isArray(items)) items = [items];\n            for (var o = 0; o < items.length; o++) {\n                // checks\n                if (typeof items[o].type === 'undefined') {\n                    console.log('ERROR: The parameter \"type\" is required but not supplied in w2toolbar.add() method.');\n                    return;\n                }\n                if ($.inArray(String(items[o].type), ['button', 'check', 'radio', 'drop', 'menu', 'break', 'html', 'spacer']) === -1) {\n                    console.log('ERROR: The parameter \"type\" should be one of the following [button, check, radio, drop, menu, break, html, spacer] '+\n                            'in w2toolbar.add() method.');\n                    return;\n                }\n                if (typeof items[o].id === 'undefined') {\n                    console.log('ERROR: The parameter \"id\" is required but not supplied in w2toolbar.add() method.');\n                    return;\n                }\n                if (!w2utils.checkUniqueId(items[o].id, this.items, 'toolbar items', this.name)) return;\n                // add item\n                var it = $.extend({}, w2toolbar.prototype.item, items[o]);\n                if (id == null) {\n                    this.items.push(it);\n                } else {\n                    var middle = this.get(id, true);\n                    this.items = this.items.slice(0, middle).concat([it], this.items.slice(middle));\n                }\n                this.refresh(it.id);\n            }\n        },\n\n        remove: function () {\n            var removed = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var it = this.get(arguments[a]);\n                if (!it) continue;\n                removed++;\n                // remove from screen\n                $(this.box).find('#tb_'+ this.name +'_item_'+ w2utils.escapeId(it.id)).remove();\n                // remove from array\n                var ind = this.get(it.id, true);\n                if (ind != null) this.items.splice(ind, 1);\n            }\n            return removed;\n        },\n\n        set: function (id, item) {\n            var index = this.get(id, true);\n            if (index === null) return false;\n            $.extend(this.items[index], item);\n            this.refresh(id);\n            return true;\n        },\n\n        get: function (id, returnIndex) {\n            if (arguments.length === 0) {\n                var all = [];\n                for (var i1 = 0; i1 < this.items.length; i1++) if (this.items[i1].id !== null) all.push(this.items[i1].id);\n                return all;\n            }\n            for (var i2 = 0; i2 < this.items.length; i2++) {\n                if (this.items[i2].id === id) {\n                    if (returnIndex === true) return i2; else return this.items[i2];\n                }\n            }\n            return null;\n        },\n\n        show: function () {\n            var obj   = this;\n            var items = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var it = this.get(arguments[a]);\n                if (!it) continue;\n                items++;\n                it.hidden = false;\n                tmp.push(it.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return items;\n        },\n\n        hide: function () {\n            var obj   = this;\n            var items = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var it = this.get(arguments[a]);\n                if (!it) continue;\n                items++;\n                it.hidden = true;\n                tmp.push(it.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return items;\n        },\n\n        enable: function () {\n            var obj   = this;\n            var items = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var it = this.get(arguments[a]);\n                var id = arguments[a].split(':');\n                var it = this.get(id[0]);\n                if (!it) continue;\n                items++;\n                tmp.push(it.id);\n                if (it.type == 'menu' && id.length == 2) {\n                    // disable a menu item\n                    for (var i = 0; i < it.items.length; i++) {\n                        var item = it.items[i]\n                        if (item.id == id[1] || (item.id == null && item.text == id[1])) {\n                            item.disabled = false;\n                        }\n                    }\n                } else {\n                    it.disabled = false;\n                }\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return items;\n        },\n\n        disable: function () {\n            var obj   = this;\n            var items = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var id = arguments[a].split(':');\n                var it = this.get(id[0]);\n                if (!it) continue;\n                items++;\n                tmp.push(it.id);\n                if (it.type == 'menu' && id.length == 2) {\n                    // disable a menu item\n                    for (var i = 0; i < it.items.length; i++) {\n                        var item = it.items[i]\n                        if (item.id == id[1] || (item.id == null && item.text == id[1])) {\n                            item.disabled = true;\n                        }\n                    }\n                } else {\n                    it.disabled = true;\n                }\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return items;\n        },\n\n        check: function () {\n            var obj   = this;\n            var items = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var it = this.get(arguments[a]);\n                if (!it) continue;\n                items++;\n                it.checked = true;\n                tmp.push(it.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return items;\n        },\n\n        uncheck: function () {\n            var obj   = this;\n            var items = 0;\n            var tmp   = [];\n            for (var a = 0; a < arguments.length; a++) {\n                var it = this.get(arguments[a]);\n                if (!it) continue;\n                items++;\n                it.checked = false;\n                tmp.push(it.id);\n            }\n            setTimeout(function () { for (var t=0; t<tmp.length; t++) obj.refresh(tmp[t]); }, 15); // needs timeout \n            return items;\n        },\n\n        render: function (box) {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'render', target: this.name, box: box });\n            if (eventData.isCancelled === true) return;\n\n            if (box != null) {\n                if ($(this.box).find('> table #tb_'+ this.name + '_right').length > 0) {\n                    $(this.box)\n                        .removeAttr('name')\n                        .removeClass('w2ui-reset w2ui-toolbar')\n                        .html('');\n                }\n                this.box = box;\n            }\n            if (!this.box) return;\n            // render all buttons\n            var html = '<table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\">'+\n                       '<tr>';\n            for (var i = 0; i < this.items.length; i++) {\n                var it = this.items[i];\n                if (it.id == null) it.id = \"item_\" + i;\n                if (it === null)  continue;\n                if (it.type === 'spacer') {\n                    html += '<td width=\"100%\" id=\"tb_'+ this.name +'_item_'+ it.id +'\" align=\"right\"></td>';\n                } else {\n                    html += '<td id=\"tb_'+ this.name + '_item_'+ it.id +'\" style=\"'+ (it.hidden ? 'display: none' : '') +'\" '+\n                            '    class=\"'+ (it.disabled ? 'disabled' : '') +'\" valign=\"middle\">'+ this.getItemHTML(it) +\n                            '</td>';\n                }\n            }\n            html += '<td width=\"100%\" id=\"tb_'+ this.name +'_right\" align=\"right\">'+ this.right +'</td>';\n            html += '</tr>'+\n                    '</table>';\n            $(this.box)\n                .attr('name', this.name)\n                .addClass('w2ui-reset w2ui-toolbar')\n                .html(html);\n            if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        refresh: function (id) {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'refresh', target: (typeof id !== 'undefined' ? id : this.name), item: this.get(id) });\n            if (eventData.isCancelled === true) return;\n\n            if (id == null) {\n                // refresh all\n                for (var i = 0; i < this.items.length; i++) {\n                    var it1 = this.items[i];\n                    if (it1.id == null) it1.id = \"item_\" + i;\n                    this.refresh(it1.id);\n                }\n            }\n            // create or refresh only one item\n            var it = this.get(id);\n            if (it === null) return false;\n\n            var el = $(this.box).find('#tb_'+ this.name +'_item_'+ w2utils.escapeId(it.id));\n            var html  = this.getItemHTML(it);\n            if (el.length === 0) {\n                // does not exist - create it\n                if (it.type === 'spacer') {\n                    html = '<td width=\"100%\" id=\"tb_'+ this.name +'_item_'+ it.id +'\" align=\"right\"></td>';\n                } else {\n                    html = '<td id=\"tb_'+ this.name + '_item_'+ it.id +'\" style=\"'+ (it.hidden ? 'display: none' : '') +'\" '+\n                        '    class=\"'+ (it.disabled ? 'disabled' : '') +'\" valign=\"middle\">'+ html +\n                        '</td>';\n                }\n                if (this.get(id, true) === this.items.length-1) {\n                    $(this.box).find('#tb_'+ this.name +'_right').before(html);\n                } else {\n                    $(this.box).find('#tb_'+ this.name +'_item_'+ w2utils.escapeId(this.items[parseInt(this.get(id, true))+1].id)).before(html);\n                }\n            } else {\n                // refresh\n                el.html(html);\n                if (it.hidden) { el.css('display', 'none'); } else { el.css('display', ''); }\n                if (it.disabled) { el.addClass('disabled'); } else { el.removeClass('disabled'); }\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        resize: function () {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n            if (eventData.isCancelled === true) return;\n\n            // intentionaly blank\n\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        destroy: function () {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n            if (eventData.isCancelled === true) return;\n            // clean up\n            if ($(this.box).find('> table #tb_'+ this.name + '_right').length > 0) {\n                $(this.box)\n                    .removeAttr('name')\n                    .removeClass('w2ui-reset w2ui-toolbar')\n                    .html('');\n            }\n            $(this.box).html('');\n            delete w2ui[this.name];\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        // ========================================\n        // --- Internal Functions\n\n        getItemHTML: function (item) {\n            var html = '';\n\n            if (typeof item.caption !== 'undefined') item.text = item.caption;\n            if (typeof item.hint === 'undefined') item.hint = '';\n            if (typeof item.text === 'undefined') item.text = '';\n\n            switch (item.type) {\n                case 'menu':\n                case 'button':\n                case 'check':\n                case 'radio':\n                case 'drop':\n                    var img = '<td>&nbsp;</td>';\n                    if (item.img)  img = '<td><div class=\"w2ui-tb-image w2ui-icon '+ item.img +'\"></div></td>';\n                    if (item.icon) img = '<td><div class=\"w2ui-tb-image\"><span class=\"'+ item.icon +'\"></span></div></td>';\n                    html += '<table cellpadding=\"0\" cellspacing=\"0\" title=\"'+ item.hint +'\" class=\"w2ui-button '+ (item.checked ? 'checked' : '') +'\" '+\n                            '       onclick     = \"var el=w2ui[\\''+ this.name + '\\']; if (el) el.click(\\''+ item.id +'\\', event);\" '+\n                            '       onmouseover = \"' + (!item.disabled ? \"$(this).addClass('over');\" : \"\") + '\"'+\n                            '       onmouseout  = \"' + (!item.disabled ? \"$(this).removeClass('over').removeClass('down');\" : \"\") + '\"'+\n                            '       onmousedown = \"' + (!item.disabled ? \"$(this).addClass('down');\" : \"\") + '\"'+\n                            '       onmouseup   = \"' + (!item.disabled ? \"$(this).removeClass('down');\" : \"\") + '\"'+\n                            '>'+\n                            '<tr><td>'+\n                            '  <table cellpadding=\"1\" cellspacing=\"0\">'+\n                            '  <tr>' +\n                                    img +\n                                    (item.text !== '' ? '<td class=\"w2ui-tb-caption\" nowrap>'+ item.text +'</td>' : '') +\n                                    (item.count != null ? '<td class=\"w2ui-tb-count\" nowrap><span>'+ item.count +'</span></td>' : '') +\n                                    (((item.type === 'drop' || item.type === 'menu') && item.arrow !== false) ?\n                                        '<td class=\"w2ui-tb-down\" nowrap><div></div></td>' : '') +\n                            '  </tr></table>'+\n                            '</td></tr></table>';\n                    break;\n\n                case 'break':\n                    html +=    '<table cellpadding=\"0\" cellspacing=\"0\"><tr>'+\n                            '    <td><div class=\"w2ui-break\">&nbsp;</div></td>'+\n                            '</tr></table>';\n                    break;\n\n                case 'html':\n                    html +=    '<table cellpadding=\"0\" cellspacing=\"0\"><tr>'+\n                            '    <td nowrap>' + item.html + '</td>'+\n                            '</tr></table>';\n                    break;\n            }\n\n            var newHTML = '';\n            if (typeof item.onRender === 'function') newHTML = item.onRender.call(this, item.id, html);\n            if (typeof this.onRender === 'function') newHTML = this.onRender(item.id, html);\n            if (newHTML !== '' && newHTML != null) html = newHTML;\n            \n            return '<div>' + html + '</div>';\n        },\n\n        menuClick: function (event) {\n            var obj = this;\n            if (event.item && !event.item.disabled) {\n                // event before\n                var eventData = this.trigger({ phase: 'before', type: 'click', target: event.item.id + ':' + event.subItem.id, item: event.item,\n                    subItem: event.subItem, originalEvent: event.originalEvent });\n                if (eventData.isCancelled === true) return;\n\n                // route processing\n                var it = event.subItem;\n                if (it.route) {\n                    var route = String('/'+ it.route).replace(/\\/{2,}/g, '/');\n                    var info  = w2utils.parseRoute(route);\n                    if (info.keys.length > 0) {\n                        for (var k = 0; k < info.keys.length; k++) {\n                            if (obj.routeData[info.keys[k].name] == null) continue;\n                            route = route.replace((new RegExp(':'+ info.keys[k].name, 'g')), this.routeData[info.keys[k].name]);\n                        }\n                    }\n                    setTimeout(function () { window.location.hash = route; }, 1);\n                }\n\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n            }\n        },\n\n        click: function (id, event) {\n            var obj = this;\n            var it  = this.get(id);\n            if (it && !it.disabled) {\n                // event before\n                var eventData = this.trigger({ phase: 'before', type: 'click', target: (typeof id !== 'undefined' ? id : this.name),\n                    item: it, object: it, originalEvent: event });\n                if (eventData.isCancelled === true) return;\n\n                var btn = '#tb_'+ this.name +'_item_'+ w2utils.escapeId(it.id) +' table.w2ui-button';\n                $(btn).removeClass('down'); // need to requery at the moment -- as well as elsewhere in this function\n\n                if (it.type === 'radio') {\n                    for (var i = 0; i < this.items.length; i++) {\n                        var itt = this.items[i];\n                        if (itt == null || itt.id === it.id || itt.type !== 'radio') continue;\n                        if (itt.group === it.group && itt.checked) {\n                            itt.checked = false;\n                            this.refresh(itt.id);\n                        }\n                    }\n                    it.checked = true;\n                    $(btn).addClass('checked');\n                }\n\n                if (it.type === 'drop' || it.type === 'menu') {\n                    if (it.checked) {\n                        // if it was already checked, second click will hide it\n                        it.checked = false;\n                    } else {\n                        // show overlay\n                        setTimeout(function () {\n                            var el = $('#tb_'+ obj.name +'_item_'+ w2utils.escapeId(it.id));\n                            if (!$.isPlainObject(it.overlay)) it.overlay = {};\n                            var left = (el.width() - 50) / 2;\n                            if (left > 19) left = 19;\n                            if (it.type === 'drop') {\n                                el.w2overlay(it.html, $.extend({ name: obj.name, left: left, top: 3 }, it.overlay, {\n                                    onHide: function () { hideDrop(); }\n                                }));\n                            }\n                            if (it.type === 'menu') {\n                                el.w2menu(it.items, $.extend({ left: left, top: 3 }, it.overlay, {\n                                    select: function (event) {\n                                        obj.menuClick({ name: obj.name, item: it, subItem: event.item, originalEvent: event.originalEvent });\n                                        hideDrop();\n                                    },\n                                    onHide: function () { hideDrop(); }\n                                }));\n                            }\n                            function hideDrop(event) {\n                                it.checked = false;\n                                $(btn).removeClass('checked');\n                            }\n                        }, 1);\n                    }\n                }\n\n                if (it.type === 'check' || it.type === 'drop' || it.type === 'menu') {\n                    it.checked = !it.checked;\n                    if (it.checked) {\n                        $(btn).addClass('checked');\n                    } else {\n                        $(btn).removeClass('checked');\n                    }\n                }\n                // route processing\n                if (it.route) {\n                    var route = String('/'+ it.route).replace(/\\/{2,}/g, '/');\n                    var info  = w2utils.parseRoute(route);\n                    if (info.keys.length > 0) {\n                        for (var k = 0; k < info.keys.length; k++) {\n                            route = route.replace((new RegExp(':'+ info.keys[k].name, 'g')), this.routeData[info.keys[k].name]);\n                        }\n                    }\n                    setTimeout(function () { window.location.hash = route; }, 1);\n                }\n                // event after\n                this.trigger($.extend(eventData, { phase: 'after' }));\n            }\n        }\n    };\n\n    $.extend(w2toolbar.prototype, w2utils.event);\n    w2obj.toolbar = w2toolbar;\n})();\n\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2sidebar        - sidebar widget\n*        - $().w2sidebar    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - add find() method to find nodes by a specific criteria (I want all nodes for exampe)\n*   - dbl click should be like it is in grid (with timer not HTML dbl click event)\n*   - reorder with grag and drop\n*   - node.style is missleading - should be there to apply color for example\n*   - add multiselect\n*\n* == 1.5 changes\n*   - $('#sidebar').w2sidebar() - if called w/o argument then it returns sidebar object\n*   - add route property that would navigate to a #route\n*   - return ids of all subitems\n*   - added w2sidebar.flat\n*   - added focus(), blur(), onFocus, onBlur\n*\n************************************************************************/\n\n(function () {\n    var w2sidebar = function (options) {\n        this.name          = null;\n        this.box           = null;\n        this.sidebar       = null;\n        this.parent        = null;\n        this.nodes         = [];        // Sidebar child nodes\n        this.menu          = [];\n        this.routeData     = {};        // data for dynamic routes\n        this.selected      = null;      // current selected node (readonly)\n        this.img           = null;\n        this.icon          = null;\n        this.style         = '';\n        this.topHTML       = '';\n        this.bottomHTML    = '';\n        this.keyboard      = true;\n        this.flat          = false;\n        this.onClick       = null;      // Fire when user click on Node Text\n        this.onDblClick    = null;      // Fire when user dbl clicks\n        this.onContextMenu = null;\n        this.onMenuClick   = null;      // when context menu item selected\n        this.onExpand      = null;      // Fire when node Expands\n        this.onCollapse    = null;      // Fire when node Colapses\n        this.onKeydown     = null;\n        this.onRender      = null;\n        this.onRefresh     = null;\n        this.onResize      = null;\n        this.onDestroy     = null;\n        this.onFocus       = null;\n        this.onBlur        = null;\n\n        $.extend(true, this, w2obj.sidebar, options);\n    };\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2sidebar = function(method) {\n        if ($.isPlainObject(method)) {\n            // check name parameter\n            if (!w2utils.checkName(method, 'w2sidebar')) return;\n            // extend items\n            var nodes  = method.nodes;\n            var object = new w2sidebar(method);\n            $.extend(object, { handlers: [], nodes: [] });\n            if (typeof nodes != 'undefined') {\n                object.add(object, nodes);\n            }\n            if ($(this).length !== 0) {\n                object.render($(this)[0]);\n            }\n            object.sidebar = object;\n            // register new object\n            w2ui[object.name] = object;\n            return object;\n\n        } else {\n            var obj = w2ui[$(this).attr('name')];\n            if (!obj) return null;\n            if (arguments.length > 0) {\n                if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n                return this;\n            } else {\n                return obj;\n            }\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    w2sidebar.prototype = {\n\n        node: {\n            id              : null,\n            text            : '',\n            count           : null,\n            img             : null,\n            icon            : null,\n            nodes           : [],\n            style           : '',            // additional style for subitems\n            route           : null,\n            selected        : false,\n            expanded        : false,\n            hidden          : false,\n            disabled        : false,\n            group           : false,        // if true, it will build as a group\n            groupShowHide   : true,\n            plus            : false,        // if true, plus will be shown even if there is no sub nodes\n            // events\n            onClick         : null,\n            onDblClick      : null,\n            onContextMenu   : null,\n            onExpand        : null,\n            onCollapse      : null,\n            // internal\n            parent          : null,    // node object\n            sidebar         : null\n        },\n\n        add: function (parent, nodes) {\n            if (arguments.length == 1) {\n                // need to be in reverse order\n                nodes  = arguments[0];\n                parent = this;\n            }\n            if (typeof parent == 'string') parent = this.get(parent);\n            return this.insert(parent, null, nodes);\n        },\n\n        insert: function (parent, before, nodes) {\n            var txt, ind, tmp, node, nd;\n            if (arguments.length == 2) {\n                // need to be in reverse order\n                nodes  = arguments[1];\n                before = arguments[0];\n                if (before != null) {\n                    ind = this.get(before);\n                    if (ind === null) {\n                        if (!$.isArray(nodes)) nodes = [nodes];\n                        txt = (nodes[0].caption != null ? nodes[0].caption : nodes[0].text);\n                        console.log('ERROR: Cannot insert node \"'+ txt +'\" because cannot find node \"'+ before +'\" to insert before.');\n                        return null;\n                    }\n                    parent = this.get(before).parent;\n                } else {\n                    parent = this;\n                }\n            }\n            if (typeof parent == 'string') parent = this.get(parent);\n            if (!$.isArray(nodes)) nodes = [nodes];\n            for (var o = 0; o < nodes.length; o++) {\n                node = nodes[o];\n                if (typeof node.id == null) {\n                    txt = (node.caption != null ? node.caption : node.text);\n                    console.log('ERROR: Cannot insert node \"'+ txt +'\" because it has no id.');\n                    continue;\n                }\n                if (this.get(this, node.id) !== null) {\n                    txt = (node.caption != null ? node.caption : node.text);\n                    console.log('ERROR: Cannot insert node with id='+ node.id +' (text: '+ txt + ') because another node with the same id already exists.');\n                    continue;\n                }\n                tmp = $.extend({}, w2sidebar.prototype.node, node);\n                tmp.sidebar = this;\n                tmp.parent  = parent;\n                nd = tmp.nodes || [];\n                tmp.nodes = []; // very important to re-init empty nodes array\n                if (before === null) { // append to the end\n                    parent.nodes.push(tmp);\n                } else {\n                    ind = this.get(parent, before, true);\n                    if (ind === null) {\n                        txt = (node.caption != null ? node.caption : node.text);\n                        console.log('ERROR: Cannot insert node \"'+ txt +'\" because cannot find node \"'+ before +'\" to insert before.');\n                        return null;\n                }\n                    parent.nodes.splice(ind, 0, tmp);\n                }\n                if (nd.length > 0) {\n                    this.insert(tmp, null, nd);\n                }\n            }\n            this.refresh(parent.id);\n            return tmp;\n        },\n\n        remove: function () { // multiple arguments\n            var deleted = 0;\n            var tmp;\n            for (var a = 0; a < arguments.length; a++) {\n                tmp = this.get(arguments[a]);\n                if (tmp === null) continue;\n                if (this.selected !== null && this.selected === tmp.id) {\n                    this.selected = null;\n                }\n                var ind  = this.get(tmp.parent, arguments[a], true);\n                if (ind === null) continue;\n                if (tmp.parent.nodes[ind].selected)    tmp.sidebar.unselect(tmp.id);\n                tmp.parent.nodes.splice(ind, 1);\n                deleted++;\n            }\n            if (deleted > 0 && arguments.length == 1) this.refresh(tmp.parent.id); else this.refresh();\n            return deleted;\n        },\n\n        set: function (parent, id, node) {\n            if (arguments.length == 2) {\n                // need to be in reverse order\n                node    = id;\n                id        = parent;\n                parent    = this;\n            }\n            // searches all nested nodes\n            if (typeof parent == 'string') parent = this.get(parent);\n            if (parent.nodes == null) return null;\n            for (var i = 0; i < parent.nodes.length; i++) {\n                if (parent.nodes[i].id === id) {\n                    // make sure nodes inserted correctly\n                    var nodes = node.nodes;\n                    $.extend(parent.nodes[i], node, { nodes: [] });\n                    if (nodes != null) {\n                        this.add(parent.nodes[i], nodes);\n                    }\n                    this.refresh(id);\n                    return true;\n                } else {\n                    var rv = this.set(parent.nodes[i], id, node);\n                    if (rv) return true;\n                }\n            }\n            return false;\n        },\n\n        get: function (parent, id, returnIndex) { // can be just called get(id) or get(id, true)\n            if (arguments.length === 0) {\n                var all = [];\n                var tmp = this.find({});\n                for (var t = 0; t < tmp.length; t++) {\n                    if (tmp[t].id != null) all.push(tmp[t].id);\n                }\n                return all;\n            } else {\n                if (arguments.length == 1 || (arguments.length == 2 && id === true) ) {\n                    // need to be in reverse order\n                    returnIndex    = id;\n                    id            = parent;\n                    parent        = this;\n                }\n                // searches all nested nodes\n                if (typeof parent == 'string') parent = this.get(parent);\n                if (parent.nodes == null) return null;\n                for (var i = 0; i < parent.nodes.length; i++) {\n                    if (parent.nodes[i].id == id) {\n                        if (returnIndex === true) return i; else return parent.nodes[i];\n                    } else {\n                        var rv = this.get(parent.nodes[i], id, returnIndex);\n                        if (rv || rv === 0) return rv;\n                    }\n                }\n                return null;\n            }\n        },\n\n        find: function (parent, params, results) { // can be just called find({ selected: true })\n            if (arguments.length == 1) {\n                // need to be in reverse order\n                params = parent;\n                parent = this;\n            }\n            if (!results) results = [];\n            // searches all nested nodes\n            if (typeof parent == 'string') parent = this.get(parent);\n            if (parent.nodes == null) return results;\n            for (var i = 0; i < parent.nodes.length; i++) {\n                var match = true;\n                for (var prop in params) { // params is an object\n                    if (parent.nodes[i][prop] != params[prop]) match = false;\n                }\n                if (match) results.push(parent.nodes[i]);\n                if (parent.nodes[i].nodes.length > 0) results = this.find(parent.nodes[i], params, results);\n            }\n            return results;\n        },\n\n        hide: function () { // multiple arguments\n            var hidden = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var tmp = this.get(arguments[a]);\n                if (tmp === null) continue;\n                tmp.hidden = true;\n                hidden++;\n            }\n            if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n            return hidden;\n        },\n\n        show: function () { // multiple arguments\n            var shown = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var tmp = this.get(arguments[a]);\n                if (tmp === null) continue;\n                tmp.hidden = false;\n                shown++;\n            }\n            if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n            return shown;\n        },\n\n        disable: function () { // multiple arguments\n            var disabled = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var tmp = this.get(arguments[a]);\n                if (tmp === null) continue;\n                tmp.disabled = true;\n                if (tmp.selected) this.unselect(tmp.id);\n                disabled++;\n            }\n            if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n            return disabled;\n        },\n\n        enable: function () { // multiple arguments\n            var enabled = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var tmp = this.get(arguments[a]);\n                if (tmp === null) continue;\n                tmp.disabled = false;\n                enabled++;\n            }\n            if (arguments.length == 1) this.refresh(arguments[0]); else this.refresh();\n            return enabled;\n        },\n\n        select: function (id) {\n            var new_node = this.get(id);\n            if (!new_node) return false;\n            if (this.selected == id && new_node.selected) return false;\n            this.unselect(this.selected);\n            $(this.box).find('#node_'+ w2utils.escapeId(id))\n                .addClass('w2ui-selected')\n                .find('.w2ui-icon').addClass('w2ui-icon-selected');\n            new_node.selected = true;\n            this.selected = id;\n            return true;\n        },\n\n        unselect: function (id) {\n            var current = this.get(id);\n            if (!current) return false;\n            current.selected = false;\n            $(this.box).find('#node_'+ w2utils.escapeId(id))\n                .removeClass('w2ui-selected')\n                .find('.w2ui-icon').removeClass('w2ui-icon-selected');\n            if (this.selected == id) this.selected = null;\n            return true;\n        },\n\n        toggle: function(id) {\n            var nd = this.get(id);\n            if (nd === null) return false;\n            if (nd.plus) {\n                this.set(id, { plus: false });\n                this.expand(id);\n                this.refresh(id);\n                return;\n            }\n            if (nd.nodes.length === 0) return false;\n            if (this.get(id).expanded) return this.collapse(id); else return this.expand(id);\n        },\n\n        collapse: function (id) {\n            var obj = this;\n            var nd  = this.get(id);\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'collapse', target: id, object: nd });\n            if (eventData.isCancelled === true) return;\n            // default action\n            $(this.box).find('#node_'+ w2utils.escapeId(id) +'_sub').slideUp(200);\n            $(this.box).find('#node_'+ w2utils.escapeId(id) +' .w2ui-node-dots:first-child').html('<div class=\"w2ui-expand\">+</div>');\n            nd.expanded = false;\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            setTimeout(function () { obj.refresh(id); }, 200);\n            return true;\n        },\n\n        collapseAll: function (parent) {\n            if (typeof parent == 'undefined') parent = this;\n            if (typeof parent == 'string') parent = this.get(parent);\n            if (parent.nodes == null) return false;\n            for (var i = 0; i < parent.nodes.length; i++) {\n                if (parent.nodes[i].expanded === true) parent.nodes[i].expanded = false;\n                if (parent.nodes[i].nodes && parent.nodes[i].nodes.length > 0) this.collapseAll(parent.nodes[i]);\n            }\n            this.refresh(parent.id);\n            return true;\n        },\n\n        expand: function (id) {\n            var obj = this;\n            var nd  = this.get(id);\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'expand', target: id, object: nd });\n            if (eventData.isCancelled === true) return;\n            // default action\n            $(this.box).find('#node_'+ w2utils.escapeId(id) +'_sub').slideDown(200);\n            $(this.box).find('#node_'+ w2utils.escapeId(id) +' .w2ui-node-dots:first-child').html('<div class=\"w2ui-expand\">-</div>');\n            nd.expanded = true;\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            setTimeout(function () { obj.refresh(id); }, 200);\n            return true;\n        },\n\n        expandAll: function (parent) {\n            if (typeof parent == 'undefined') parent = this;\n            if (typeof parent == 'string') parent = this.get(parent);\n            if (parent.nodes == null) return false;\n            for (var i = 0; i < parent.nodes.length; i++) {\n                if (parent.nodes[i].expanded === false) parent.nodes[i].expanded = true;\n                if (parent.nodes[i].nodes && parent.nodes[i].nodes.length > 0) this.collapseAll(parent.nodes[i]);\n            }\n            this.refresh(parent.id);\n        },\n\n        expandParents: function (id) {\n            var node = this.get(id);\n            if (node === null) return false;\n            if (node.parent) {\n                node.parent.expanded = true;\n                this.expandParents(node.parent.id);\n            }\n            this.refresh(id);\n            return true;\n        },\n\n        click: function (id, event) {\n            var obj = this;\n            var nd  = this.get(id);\n            if (nd === null) return;\n            if (nd.disabled || nd.group) return; // should click event if already selected\n            // unselect all previsously\n            $(obj.box).find('.w2ui-node.w2ui-selected').each(function (index, el) {\n                var oldID     = $(el).attr('id').replace('node_', '');\n                var oldNode = obj.get(oldID);\n                if (oldNode != null) oldNode.selected = false;\n                $(el).removeClass('w2ui-selected').find('.w2ui-icon').removeClass('w2ui-icon-selected');\n            });\n            // select new one\n            var newNode = $(obj.box).find('#node_'+ w2utils.escapeId(id));\n            var oldNode = $(obj.box).find('#node_'+ w2utils.escapeId(obj.selected));\n            newNode.addClass('w2ui-selected').find('.w2ui-icon').addClass('w2ui-icon-selected');\n            // need timeout to allow rendering\n            setTimeout(function () {\n                // event before\n                var eventData = obj.trigger({ phase: 'before', type: 'click', target: id, originalEvent: event, node: nd, object: nd });\n                if (eventData.isCancelled === true) {\n                    // restore selection\n                    newNode.removeClass('w2ui-selected').find('.w2ui-icon').removeClass('w2ui-icon-selected');\n                    oldNode.addClass('w2ui-selected').find('.w2ui-icon').addClass('w2ui-icon-selected');\n                    return;\n                }\n                // default action\n                if (oldNode !== null) oldNode.selected = false;\n                obj.get(id).selected = true;\n                obj.selected = id;\n                // route processing\n                if (nd.route) {\n                    var route = String('/'+ nd.route).replace(/\\/{2,}/g, '/');\n                    var info  = w2utils.parseRoute(route);\n                    if (info.keys.length > 0) {\n                        for (var k = 0; k < info.keys.length; k++) {\n                            if (obj.routeData[info.keys[k].name] == null) continue;\n                            route = route.replace((new RegExp(':'+ info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n                        }\n                    }\n                    setTimeout(function () { window.location.hash = route; }, 1);\n                }\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n            }, 1);\n        },\n\n        focus: function (event) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'focus', target: this.name, originalEvent: event });\n            if (eventData.isCancelled === true) return false;\n            // default behaviour\n            $(this.box).find('.w2ui-selected').removeClass('w2ui-inactive');\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        blur: function (event) {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'blur', target: this.name, originalEvent: event });\n            if (eventData.isCancelled === true) return false;\n            // default behaviour\n            $(this.box).find('.w2ui-selected').addClass('w2ui-inactive');\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        keydown: function (event) {\n            var obj = this;\n            var nd  = obj.get(obj.selected);\n            if (!nd || obj.keyboard !== true) return;\n            // trigger event\n            var eventData = obj.trigger({ phase: 'before', type: 'keydown', target: obj.name, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default behaviour\n            if (event.keyCode == 13 || event.keyCode == 32) { // enter or space\n                if (nd.nodes.length > 0) obj.toggle(obj.selected);\n            }\n            if (event.keyCode == 37) { // left\n                if (nd.nodes.length > 0 && nd.expanded) {\n                    obj.collapse(obj.selected);\n                } else {\n                    selectNode(nd.parent);\n                    if (!nd.parent.group) obj.collapse(nd.parent.id);\n                }\n            }\n            if (event.keyCode == 39) { // right\n                if ((nd.nodes.length > 0 || nd.plus) && !nd.expanded) obj.expand(obj.selected);\n            }\n            if (event.keyCode == 38) { // up\n                selectNode(neighbor(nd, prev));\n            }\n            if (event.keyCode == 40) { // down\n                selectNode(neighbor(nd, next));\n            }\n            // cancel event if needed\n            if ($.inArray(event.keyCode, [13, 32, 37, 38, 39, 40]) != -1) {\n                if (event.preventDefault) event.preventDefault();\n                if (event.stopPropagation) event.stopPropagation();\n            }\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n\n            function selectNode (node, event) {\n                if (node !== null && !node.hidden && !node.disabled && !node.group) {\n                    obj.click(node.id, event);\n                    setTimeout(function () { obj.scrollIntoView(); }, 50);\n                }\n            }\n\n            function neighbor (node, neighborFunc) {\n                node = neighborFunc(node);\n                while (node !== null && (node.hidden || node.disabled)) {\n                    if (node.group) break; else node = neighborFunc(node);\n                }\n                return node;\n            }\n\n            function next (node, noSubs) {\n                if (node === null) return null;\n                var parent   = node.parent;\n                var ind      = obj.get(node.id, true);\n                var nextNode = null;\n                // jump inside\n                if (node.expanded && node.nodes.length > 0 && noSubs !== true) {\n                    var t = node.nodes[0];\n                    if (t.hidden || t.disabled || t.group) nextNode = next(t); else nextNode = t;\n                } else {\n                    if (parent && ind + 1 < parent.nodes.length) {\n                        nextNode = parent.nodes[ind + 1];\n                    } else {\n                        nextNode = next(parent, true); // jump to the parent\n                    }\n                }\n                if (nextNode !== null && (nextNode.hidden || nextNode.disabled || nextNode.group)) nextNode = next(nextNode);\n                return nextNode;\n            }\n\n            function prev (node) {\n                if (node === null) return null;\n                var parent   = node.parent;\n                var ind      = obj.get(node.id, true);\n                var prevNode = (ind > 0) ? lastChild(parent.nodes[ind - 1]) : parent;\n                if (prevNode !== null && (prevNode.hidden || prevNode.disabled || prevNode.group)) prevNode = prev(prevNode);\n                return prevNode;\n            }\n\n            function lastChild (node) {\n                if (node.expanded && node.nodes.length > 0) {\n                    var t = node.nodes[node.nodes.length - 1];\n                    if (t.hidden || t.disabled || t.group) return prev(t); else return lastChild(t);\n                }\n                return node;\n            }\n        },\n\n        scrollIntoView: function (id) {\n            if (typeof id == 'undefined') id = this.selected;\n            var nd = this.get(id);\n            if (nd === null) return;\n            var body   = $(this.box).find('.w2ui-sidebar-div');\n            var item   = $(this.box).find('#node_'+ w2utils.escapeId(id));\n            var offset = item.offset().top - body.offset().top;\n            if (offset + item.height() > body.height()) {\n                body.animate({ 'scrollTop': body.scrollTop() + body.height() / 1.3 }, 250, 'linear');\n            }\n            if (offset <= 0) {\n                body.animate({ 'scrollTop': body.scrollTop() - body.height() / 1.3 }, 250, 'linear');\n            }\n        },\n\n        dblClick: function (id, event) {\n            var nd = this.get(id);\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'dblClick', target: id, originalEvent: event, object: nd });\n            if (eventData.isCancelled === true) return;\n            // default action\n            this.toggle(id);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        contextMenu: function (id, event) {\n            var obj = this;\n            var nd  = obj.get(id);\n            if (id != obj.selected) obj.click(id);\n            // need timeout to allow click to finish first\n            setTimeout(function () {\n                // event before\n                var eventData = obj.trigger({ phase: 'before', type: 'contextMenu', target: id, originalEvent: event, object: nd });\n                if (eventData.isCancelled === true) return;\n                // default action\n                if (nd.group || nd.disabled) return;\n                if (obj.menu.length > 0) {\n                    $(obj.box).find('#node_'+ w2utils.escapeId(id))\n                        .w2menu(obj.menu, {\n                            left    : (event ? event.offsetX || event.pageX : 50) - 25,\n                            onSelect: function (event) { \n                                obj.menuClick(id, parseInt(event.index), event.originalEvent); \n                            }\n                        }\n                    );\n                }\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n            }, 150); // need timer 150 for FF\n        },\n\n        menuClick: function (itemId, index, event) {\n            var obj = this;\n            // event before\n            var eventData = obj.trigger({ phase: 'before', type: 'menuClick', target: itemId, originalEvent: event, menuIndex: index, menuItem: obj.menu[index] });\n            if (eventData.isCancelled === true) return;\n            // default action\n            // -- empty\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        render: function (box) {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'render', target: this.name, box: box });\n            if (eventData.isCancelled === true) return;\n            // default action\n            if (typeof box != 'undefined' && box !== null) {\n                if ($(this.box).find('> div > div.w2ui-sidebar-div').length > 0) {\n                    $(this.box)\n                        .removeAttr('name')\n                        .removeClass('w2ui-reset w2ui-sidebar')\n                        .html('');\n                }\n                this.box = box;\n            }\n            if (!this.box) return;\n            $(this.box)\n                .attr('name', this.name)\n                .addClass('w2ui-reset w2ui-sidebar')\n                .html('<div>'+\n                        '<div class=\"w2ui-sidebar-top\"></div>' +\n                        '<div class=\"w2ui-sidebar-div\"></div>'+\n                        '<div class=\"w2ui-sidebar-bottom\"></div>'+\n                    '</div>'\n                );\n            $(this.box).find('> div').css({\n                width  : $(this.box).width() + 'px',\n                height : $(this.box).height() + 'px'\n            });\n            if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n            // adjust top and bottom\n            if (this.topHTML !== '') {\n                $(this.box).find('.w2ui-sidebar-top').html(this.topHTML);\n                $(this.box).find('.w2ui-sidebar-div')\n                    .css('top', $(this.box).find('.w2ui-sidebar-top').height() + 'px');\n            }\n            if (this.bottomHTML !== '') {\n                $(this.box).find('.w2ui-sidebar-bottom').html(this.bottomHTML);\n                $(this.box).find('.w2ui-sidebar-div')\n                    .css('bottom', $(this.box).find('.w2ui-sidebar-bottom').height() + 'px');\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            // ---\n            this.refresh();\n            return (new Date()).getTime() - time;\n        },\n\n        refresh: function (id) {\n            var time = (new Date()).getTime();\n            // if (window.getSelection) window.getSelection().removeAllRanges(); // clear selection\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'refresh', target: (typeof id != 'undefined' ? id : this.name) });\n            if (eventData.isCancelled === true) return;\n            // adjust top and bottom\n            if (this.topHTML !== '') {\n                $(this.box).find('.w2ui-sidebar-top').html(this.topHTML);\n                $(this.box).find('.w2ui-sidebar-div')\n                    .css('top', $(this.box).find('.w2ui-sidebar-top').height() + 'px');\n            }\n            if (this.bottomHTML !== '') {\n                $(this.box).find('.w2ui-sidebar-bottom').html(this.bottomHTML);\n                $(this.box).find('.w2ui-sidebar-div')\n                    .css('bottom', $(this.box).find('.w2ui-sidebar-bottom').height() + 'px');\n            }\n            // default action\n            $(this.box).find('> div').css({\n                width : $(this.box).width() + 'px',\n                height: $(this.box).height() + 'px'\n            });\n            var obj = this;\n            var node, nd;\n            var nm;\n            if (typeof id == 'undefined') {\n                node = this;\n                nm   = '.w2ui-sidebar-div';\n            } else {\n                node = this.get(id);\n                if (node === null) return;\n                nm   = '#node_'+ w2utils.escapeId(node.id) + '_sub';\n            }\n            var nodeHTML;\n            if (node !== this) {\n                var tmp  = '#node_'+ w2utils.escapeId(node.id);\n                nodeHTML = getNodeHTML(node);\n                $(this.box).find(tmp).before('<div id=\"sidebar_'+ this.name + '_tmp\"></div>');\n                $(this.box).find(tmp).remove();\n                $(this.box).find(nm).remove();\n                $('#sidebar_'+ this.name + '_tmp').before(nodeHTML);\n                $('#sidebar_'+ this.name + '_tmp').remove();\n            }\n            // refresh sub nodes\n            $(this.box).find(nm).html('');\n            for (var i = 0; i < node.nodes.length; i++) {\n                nd = node.nodes[i];\n                nodeHTML = getNodeHTML(nd);\n                $(this.box).find(nm).append(nodeHTML);\n                if (nd.nodes.length !== 0) { this.refresh(nd.id); }\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n\n            function getNodeHTML(nd) {\n                var html = '';\n                var img  = nd.img;\n                if (img === null) img = this.img;\n                var icon = nd.icon;\n                if (icon === null) icon = this.icon;\n                // -- find out level\n                var tmp   = nd.parent;\n                var level = 0;\n                while (tmp && tmp.parent !== null) {\n                    if (tmp.group) level--;\n                    tmp = tmp.parent;\n                    level++;\n                }\n                if (typeof nd.caption != 'undefined') nd.text = nd.caption;\n                if (nd.group) {\n                    html =\n                        '<div class=\"w2ui-node-group\" id=\"node_'+ nd.id +'\"'+\n                        '        onclick=\"w2ui[\\''+ obj.name +'\\'].toggle(\\''+ nd.id +'\\')\"'+\n                        '        onmouseout=\"$(this).find(\\'span:nth-child(1)\\').css(\\'color\\', \\'transparent\\')\" '+\n                        '        onmouseover=\"$(this).find(\\'span:nth-child(1)\\').css(\\'color\\', \\'inherit\\')\">'+\n                        (nd.groupShowHide ? '<span>'+ (!nd.hidden && nd.expanded ? w2utils.lang('Hide') : w2utils.lang('Show')) +'</span>' : '<span></span>') +\n                        '    <span>'+ nd.text +'</span>'+\n                        '</div>'+\n                        '<div class=\"w2ui-node-sub\" id=\"node_'+ nd.id +'_sub\" style=\"'+ nd.style +';'+ (!nd.hidden && nd.expanded ? '' : 'display: none;') +'\"></div>';\n                    if (obj.flat) {\n                        html = '<div class=\"w2ui-node-group\" id=\"node_'+ nd.id +'\"><span>&nbsp;</span></div>'+\n                               '<div id=\"node_'+ nd.id +'_sub\" style=\"'+ nd.style +';'+ (!nd.hidden && nd.expanded ? '' : 'display: none;') +'\"></div>';\n                    }\n                } else {\n                    if (nd.selected && !nd.disabled) obj.selected = nd.id;\n                    tmp = '';\n                    if (img) tmp  = '<div class=\"w2ui-node-image w2ui-icon '+ img +    (nd.selected && !nd.disabled ? \" w2ui-icon-selected\" : \"\") +'\"></div>';\n                    if (icon) tmp = '<div class=\"w2ui-node-image\"><span class=\"'+ icon +'\"></span></div>';\n                    html =  '<div class=\"w2ui-node '+ (nd.selected ? 'w2ui-selected' : '') +' '+ (nd.disabled ? 'w2ui-disabled' : '') +'\" id=\"node_'+ nd.id +'\" style=\"'+ (nd.hidden ? 'display: none;' : '') +'\"'+\n                            '    ondblclick=\"w2ui[\\''+ obj.name +'\\'].dblClick(\\''+ nd.id +'\\', event);\"'+\n                            '    oncontextmenu=\"w2ui[\\''+ obj.name +'\\'].contextMenu(\\''+ nd.id +'\\', event); '+\n                            '        if (event.preventDefault) event.preventDefault();\"'+\n                            '    onClick=\"w2ui[\\''+ obj.name +'\\'].click(\\''+ nd.id +'\\', event); \">'+\n                            '<table cellpadding=\"0\" cellspacing=\"0\" style=\"margin-left:'+ (level*18) +'px; padding-right:'+ (level*18) +'px\"><tr>'+\n                            '<td class=\"w2ui-node-dots\" nowrap onclick=\"w2ui[\\''+ obj.name +'\\'].toggle(\\''+ nd.id +'\\'); '+\n                            '        if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+\n                            '    <div class=\"w2ui-expand\">'    + (nd.nodes.length > 0 ? (nd.expanded ? '-' : '+') : (nd.plus ? '+' : '')) + '</div>' +\n                            '</td>'+\n                            '<td class=\"w2ui-node-data\" nowrap>'+\n                                    tmp +\n                                    (nd.count || nd.count === 0 ? '<div class=\"w2ui-node-count\">'+ nd.count +'</div>' : '') +\n                                    '<div class=\"w2ui-node-caption\">'+ nd.text +'</div>'+\n                            '</td>'+\n                            '</tr></table>'+\n                            '</div>'+\n                            '<div class=\"w2ui-node-sub\" id=\"node_'+ nd.id +'_sub\" style=\"'+ nd.style +';'+ (!nd.hidden && nd.expanded ? '' : 'display: none;') +'\"></div>';\n                    if (obj.flat) {\n                        html =  '<div class=\"w2ui-node '+ (nd.selected ? 'w2ui-selected' : '') +' '+ (nd.disabled ? 'w2ui-disabled' : '') +'\" id=\"node_'+ nd.id +'\" style=\"'+ (nd.hidden ? 'display: none;' : '') +'\"'+\n                                '    onmouseover=\"$(this).find(\\'.w2ui-node-data\\').w2tag(w2utils.base64decode(\\''+ \n                                                w2utils.base64encode(nd.text + (nd.count || nd.count === 0 ? ' - <span class=\"w2ui-node-count\">'+ nd.count +'</span>' : '')) + '\\'), '+\n                                '               { id: \\'' + nd.id + '\\', left: -5 })\"'+\n                                '    onmouseout=\"$(this).find(\\'.w2ui-node-data\\').w2tag(null, { id: \\'' + nd.id + '\\' })\"'+ \n                                '    ondblclick=\"w2ui[\\''+ obj.name +'\\'].dblClick(\\''+ nd.id +'\\', event);\"'+\n                                '    oncontextmenu=\"w2ui[\\''+ obj.name +'\\'].contextMenu(\\''+ nd.id +'\\', event); '+\n                                '        if (event.preventDefault) event.preventDefault();\"'+\n                                '    onClick=\"w2ui[\\''+ obj.name +'\\'].click(\\''+ nd.id +'\\', event); \">'+\n                                '<div class=\"w2ui-node-data w2ui-node-flat\">'+ tmp +'</div>'+\n                                '</div>'+\n                                '<div class=\"w2ui-node-sub\" id=\"node_'+ nd.id +'_sub\" style=\"'+ nd.style +';'+ (!nd.hidden && nd.expanded ? '' : 'display: none;') +'\"></div>';\n                    }\n                }\n                return html;\n            }\n        },\n\n        resize: function () {\n            var time = (new Date()).getTime();\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'resize', target: this.name });\n            if (eventData.isCancelled === true) return;\n            // default action\n            $(this.box).css('overflow', 'hidden');    // container should have no overflow\n            $(this.box).find('> div').css({\n                width  : $(this.box).width() + 'px',\n                height : $(this.box).height() + 'px'\n            });\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return (new Date()).getTime() - time;\n        },\n\n        destroy: function () {\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'destroy', target: this.name });\n            if (eventData.isCancelled === true) return;\n            // clean up\n            if ($(this.box).find('> div > div.w2ui-sidebar-div').length > 0) {\n                $(this.box)\n                    .removeAttr('name')\n                    .removeClass('w2ui-reset w2ui-sidebar')\n                    .html('');\n            }\n            delete w2ui[this.name];\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        lock: function (msg, showSpinner) {\n            var box = $(this.box).find('> div:first-child');\n            var args = Array.prototype.slice.call(arguments, 0);\n            args.unshift(box);\n            w2utils.lock.apply(window, args);\n        },\n\n        unlock: function (speed) {\n            w2utils.unlock(this.box, speed);\n        }\n    };\n\n    $.extend(w2sidebar.prototype, w2utils.event);\n    w2obj.sidebar = w2sidebar;\n})();\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2field        - various field controls\n*        - $().w2field    - jQuery wrapper\n*   - Dependencies: jQuery, w2utils\n*\n* == NICE TO HAVE ==\n*   - upload (regular files)\n*   - BUG with prefix/postfix and arrows (test in different contexts)\n*   - prefix and suffix are slow (100ms or so)\n*   - multiple date selection\n*   - month selection, year selections\n*   - arrows no longer work (for int)\n*   - form to support custom types\n*   - rewrite suffix and prefix positioning with translateY()\n*   - MultiSelect - Allow Copy/Paste for single and multi values\n*   - add routeData to list/enum\n*\n* == 1.5 changes\n*   - added support decimalSymbol (added options.decimalSymbol)\n*   - $('#id').w2field() - will return w2field object (same as $('#id').data('w2field'))\n*   - added resize() function and automatic watching for size\n*   - bug: if input is hidden and then enum is applied, then when it becomes visible, it will be 110px\n*   - deprecate placeholder, read it from input\n*   - added get(), set(), setIndex() for fields\n*   - add compare function for list, combo, enum\n*\n************************************************************************/\n\n(function ($) {\n\n    var w2field = function (options) {\n        // public properties\n        this.el          = null;\n        this.helpers     = {}; // object or helper elements\n        this.type        = options.type || 'text';\n        this.options     = $.extend(true, {}, options);\n        this.onSearch    = options.onSearch    || null;\n        this.onRequest   = options.onRequest   || null;\n        this.onLoad      = options.onLoad      || null;\n        this.onError     = options.onError     || null;\n        this.onClick     = options.onClick     || null;\n        this.onAdd       = options.onAdd       || null;\n        this.onNew       = options.onNew       || null;\n        this.onRemove    = options.onRemove    || null;\n        this.onMouseOver = options.onMouseOver || null;\n        this.onMouseOut  = options.onMouseOut  || null;\n        this.onIconClick = options.onIconClick || null;\n        this.tmp         = {}; // temp object\n        // clean up some options\n        delete this.options.type;\n        delete this.options.onSearch;\n        delete this.options.onRequest;\n        delete this.options.onLoad;\n        delete this.options.onError;\n        delete this.options.onClick;\n        delete this.options.onMouseOver;\n        delete this.options.onMouseOut;\n        delete this.options.onIconClick;\n        // extend with defaults\n        $.extend(true, this, w2obj.field);\n    };\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2field = function (method, options) {\n        // call direct\n        if (this.length == 0) {\n            var pr = w2field.prototype;\n            if (pr[method]) {\n                return pr[method].apply(pr, Array.prototype.slice.call(arguments, 1));\n            }\n        } else {\n            // if without arguments - return the object\n            if (arguments.length == 0) {\n                var obj = $(this).data('w2field');\n                return obj;\n            }\n            if (typeof method == 'string' && typeof options == 'object') {\n                method = $.extend(true, {}, options, { type: method });\n            }\n            if (typeof method == 'string' && typeof options == 'undefined') {\n                method = { type: method };\n            }\n            method.type = String(method.type).toLowerCase();\n            return this.each(function (index, el) {\n                var obj = $(el).data('w2field');\n                // if object is not defined, define it\n                if (typeof obj == 'undefined') {\n                    var obj = new w2field(method);\n                    $.extend(obj, { handlers: [] });\n                    if (el) obj.el = $(el)[0];\n                    obj.init();\n                    $(el).data('w2field', obj);\n                    return obj;\n                } else { // fully re-init\n                    obj.clear();\n                    if (method.type == 'clear') return;\n                    var obj = new w2field(method);\n                    $.extend(obj, { handlers: [] });\n                    if (el) obj.el = $(el)[0];\n                    obj.init();\n                    $(el).data('w2field', obj);\n                    return obj;\n                }\n                return null;\n            });\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    /*     To add custom types\n        $().w2field('addType', 'myType', function (options) {\n            $(this.el).on('keypress', function (event) {\n                if (event.metaKey || event.ctrlKey || event.altKey\n                    || (event.charCode != event.keyCode && event.keyCode > 0)) return;\n                var ch = String.fromCharCode(event.charCode);\n                if (ch != 'a' && ch != 'b' && ch != 'c') {\n                    if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    return false;\n                }\n            });\n            $(this.el).on('blur', function (event)  { // keyCode & charCode differ in FireFox\n                var ch = this.value;\n                if (ch != 'a' && ch != 'b' && ch != 'c') {\n                    $(this).w2tag(w2utils.lang(\"Not a single charecter from the set of 'abc'\"));\n                }\n            });\n        });\n    */\n\n    w2field.prototype = {\n\n        custom: {},  // map of custom types\n\n        pallete: [\n            ['000000', '444444', '666666', '999999', 'CCCCCC', 'EEEEEE', 'F3F3F3', 'FFFFFF'],\n            ['FF011B', 'FF9838', 'FFFD59', '01FD55', '00FFFE', '0424F3', '9B24F4', 'FF21F5'],\n            ['F4CCCC', 'FCE5CD', 'FFF2CC', 'D9EAD3', 'D0E0E3', 'CFE2F3', 'D9D1E9', 'EAD1DC'],\n            ['EA9899', 'F9CB9C', 'FEE599', 'B6D7A8', 'A2C4C9', '9FC5E8', 'B4A7D6', 'D5A6BD'],\n            ['E06666', 'F6B26B', 'FED966', '93C47D', '76A5AF', '6FA8DC', '8E7CC3', 'C27BA0'],\n            ['CC0814', 'E69138', 'F1C232', '6AA84F', '45818E', '3D85C6', '674EA7', 'A54D79'],\n            ['99050C', 'B45F17', 'BF901F', '37761D', '124F5C', '0A5394', '351C75', '741B47'],\n            ['660205', '783F0B', '7F6011', '274E12', '0C343D', '063762', '20124D', '4C1030']\n        ],\n\n        addType: function (type, handler) {\n            type = String(type).toLowerCase();\n            this.custom[type] = handler;\n            return true;\n        },\n\n        removeType: function (type) {\n            type = String(type).toLowerCase();\n            if (!this.custom[type]) return false;\n            delete this.custom[type];\n            return true\n        },\n\n        init: function () {\n            var obj     = this;\n            var options = this.options;\n            var defaults;\n\n            // Custom Types\n            if (typeof this.custom[this.type] == 'function') {\n                this.custom[this.type].call(this, options);\n                return;\n            }\n            // only for INPUT or TEXTAREA\n            if (['INPUT', 'TEXTAREA'].indexOf(this.el.tagName) == -1) {\n                console.log('ERROR: w2field could only be applied to INPUT or TEXTAREA.', this.el);\n                return;\n            }\n\n            switch (this.type) {\n                case 'text':\n                case 'int':\n                case 'float':\n                case 'money':\n                case 'currency':\n                case 'percent':\n                case 'alphanumeric':\n                case 'hex':\n                    defaults = {\n                        min                : null,\n                        max                : null,\n                        step               : 1,\n                        autoFormat         : true,\n                        currencyPrefix     : w2utils.settings.currencyPrefix,\n                        currencySuffix     : w2utils.settings.currencySuffix,\n                        currencyPrecision  : w2utils.settings.currencyPrecision,\n                        decimalSymbol      : w2utils.settings.decimalSymbol,\n                        groupSymbol        : w2utils.settings.groupSymbol,\n                        arrows             : false,\n                        keyboard           : true,\n                        precision          : null,\n                        silent             : true,\n                        prefix             : '',\n                        suffix             : ''\n                    };\n                    this.options = $.extend(true, {}, defaults, options);\n                    options = this.options; // since object is re-created, need to re-assign\n                    options.numberRE  = new RegExp('['+ options.groupSymbol + ']', 'g');\n                    options.moneyRE   = new RegExp('['+ options.currencyPrefix + options.currencySuffix + options.groupSymbol +']', 'g');\n                    options.percentRE = new RegExp('['+ options.groupSymbol + '%]', 'g');\n                    // no keyboard support needed\n                    if (['text', 'alphanumeric', 'hex'].indexOf(this.type) != -1) {\n                        options.arrows   = false;\n                        options.keyboard = false;\n                    }\n                    this.addPrefix(); // only will add if needed\n                    this.addSuffix();\n                    break;\n\n                case 'color':\n                    defaults = {\n                        prefix      : '#',\n                        suffix      : '<div style=\"width: '+ (parseInt($(this.el).css('font-size')) || 12) +'px\">&nbsp;</div>',\n                        arrows      : false,\n                        keyboard    : false\n                    };\n                    $.extend(options, defaults);\n                    this.addPrefix();    // only will add if needed\n                    this.addSuffix();    // only will add if needed\n                    // additional checks\n                    $(this.el).attr('maxlength', 6);\n                    if ($(this.el).val() != '') setTimeout(function () { obj.change(); }, 1);\n                    break;\n\n                case 'date':\n                    defaults = {\n                        format      : w2utils.settings.date_format, // date format\n                        keyboard    : true,\n                        silent      : true,\n                        start       : '',       // string or jquery object\n                        end         : '',       // string or jquery object\n                        blocked     : {},       // { '4/11/2011': 'yes' }\n                        colored     : {}        // { '4/11/2011': 'red:white' }\n                    };\n                    this.options = $.extend(true, {}, defaults, options);\n                    options = this.options; // since object is re-created, need to re-assign\n                    if ($(this.el).attr('placeholder') == null) $(this.el).attr('placeholder', options.format);\n                    break;\n\n                case 'time':\n                    defaults = {\n                        format      : w2utils.settings.time_format,\n                        keyboard    : true,\n                        silent      : true,\n                        start       : '',\n                        end         : ''\n                    };\n                    this.options = $.extend(true, {}, defaults, options);\n                    options = this.options; // since object is re-created, need to re-assign\n                    if ($(this.el).attr('placeholder') == null) $(this.el).attr('placeholder', options.format);\n                    break;\n\n                case 'datetime':\n                    break;\n\n                case 'list':\n                case 'combo':\n                    defaults = {\n                        items           : [],\n                        selected        : {},\n                        url             : null,         // url to pull data from\n                        postData        : {},\n                        minLength       : 1,\n                        cacheMax        : 250,\n                        maxDropHeight   : 350,          // max height for drop down menu\n                        match           : 'begins',     // ['contains', 'is', 'begins', 'ends']\n                        silent          : true,\n                        icon            : null,\n                        iconStyle       : '',\n                        onSearch        : null,         // when search needs to be performed\n                        onRequest       : null,         // when request is submitted\n                        onLoad          : null,         // when data is received\n                        onError         : null,         // when data fails to load due to server error or other failure modes\n                        onIconClick     : null,\n                        renderDrop      : null,         // render function for drop down item\n                        compare         : null,         // compare function for filtering\n                        prefix          : '',\n                        suffix          : '',\n                        openOnFocus     : false,        // if to show overlay onclick or when typing\n                        markSearch      : false\n                    };\n                    options.items = this.normMenu(options.items); // need to be first\n                    if (this.type == 'list') {\n                        // defaults.search = (options.items && options.items.length >= 10 ? true : false);\n                        defaults.openOnFocus = true;\n                        defaults.suffix = '<div class=\"arrow-down\" style=\"margin-top: '+ ((parseInt($(this.el).height()) - 6) / 2) +'px;\"></div>';\n                        $(this.el).addClass('w2ui-select');\n                        // if simple value - look it up\n                        if (!$.isPlainObject(options.selected) && options.items) {\n                            for (var i = 0; i< options.items.length; i++) {\n                                var item = options.items[i];\n                                if (item && item.id == options.selected) {\n                                    options.selected = $.extend(true, {}, item);\n                                    break;\n                                }\n                            }\n                        }\n                        this.watchSize();\n                    }\n                    options = $.extend({}, defaults, options, {\n                        align   : 'both',      // same width as control\n                        altRows : true         // alternate row color\n                    });\n                    this.options = options;\n                    if (!$.isPlainObject(options.selected)) options.selected = {};\n                    $(this.el).data('selected', options.selected);\n                    if (options.url) this.request(0);\n                    if (this.type == 'list') this.addFocus();\n                    this.addPrefix();\n                    this.addSuffix();\n                    setTimeout(function () { obj.refresh(); }, 10); // need this for icon refresh\n                    $(this.el).attr('autocomplete', 'off');\n                    if (typeof options.selected.text != 'undefined') $(this.el).val(options.selected.text);\n                    break;\n\n                case 'enum':\n                    defaults = {\n                        items           : [],\n                        selected        : [],\n                        max             : 0,             // max number of selected items, 0 - unlim\n                        url             : null,          // not implemented\n                        postData        : {},\n                        minLength       : 1, \n                        cacheMax        : 250,\n                        maxWidth        : 250,           // max width for a single item\n                        maxHeight       : 350,           // max height for input control to grow\n                        maxDropHeight   : 350,           // max height for drop down menu\n                        match           : 'contains',    // ['contains', 'is', 'begins', 'ends']\n                        silent          : true,\n                        openOnFocus     : false,         // if to show overlay onclick or when typing\n                        markSearch      : true,\n                        renderDrop      : null,          // render function for drop down item\n                        renderItem      : null,          // render selected item\n                        compare         : null,          // compare function for filtering                        \n                        style           : '',            // style for container div\n                        onSearch        : null,          // when search needs to be performed\n                        onRequest       : null,          // when request is submitted\n                        onLoad          : null,          // when data is received\n                        onError         : null,          // when data fails to load due to server error or other failure modes\n                        onClick         : null,          // when an item is clicked\n                        onAdd           : null,          // when an item is added\n                        onNew           : null,          // when new item should be added\n                        onRemove        : null,          // when an item is removed\n                        onMouseOver     : null,          // when an item is mouse over\n                        onMouseOut      : null           // when an item is mouse out\n                    };\n                    options = $.extend({}, defaults, options, {\n                        align    : 'both',    // same width as control\n                        suffix   : '',\n                        altRows  : true       // alternate row color\n                    });\n                    options.items      = this.normMenu(options.items);\n                    options.selected = this.normMenu(options.selected);\n                    this.options = options;\n                    if (!$.isArray(options.selected)) options.selected = [];\n                    $(this.el).data('selected', options.selected);\n                    if (options.url) this.request(0);\n                    this.addSuffix();\n                    this.addMulti();\n                    this.watchSize();\n                    break;\n\n                case 'file':\n                    defaults = {\n                        selected      : [],\n                        max           : 0,\n                        maxSize       : 0,        // max size of all files, 0 - unlim\n                        maxFileSize   : 0,        // max size of a single file, 0 -unlim\n                        maxWidth      : 250,      // max width for a single item\n                        maxHeight     : 350,      // max height for input control to grow\n                        maxDropHeight : 350,      // max height for drop down menu\n                        silent        : true,\n                        renderItem    : null,     // render selected item\n                        style         : '',       // style for container div\n                        onClick       : null,     // when an item is clicked\n                        onAdd         : null,     // when an item is added\n                        onRemove      : null,     // when an item is removed\n                        onMouseOver   : null,     // when an item is mouse over\n                        onMouseOut    : null      // when an item is mouse out\n                    };\n                    options = $.extend({}, defaults, options, {\n                        align         : 'both',   // same width as control\n                        altRows        : true     // alternate row color\n                    });\n                    this.options = options;\n                    if (!$.isArray(options.selected)) options.selected = [];\n                    $(this.el).data('selected', options.selected);\n                    if ($(this.el).attr('placeholder') == null) {\n                        $(this.el).attr('placeholder', w2utils.lang('Attach files by dragging and dropping or Click to Select'));\n                    }\n                    this.addMulti();\n                    this.watchSize();\n                    break;\n            }\n            // attach events\n            this.tmp = {\n                onChange    : function (event) { obj.change.call(obj, event) },\n                onClick     : function (event) { obj.click.call(obj, event) },\n                onFocus     : function (event) { obj.focus.call(obj, event) },\n                onBlur      : function (event) { obj.blur.call(obj, event) },\n                onKeydown   : function (event) { obj.keyDown.call(obj, event) },\n                onKeyup     : function (event) { obj.keyUp.call(obj, event) },\n                onKeypress  : function (event) { obj.keyPress.call(obj, event) }\n            };\n            $(this.el)\n                .addClass('w2field')\n                .data('w2field', this)\n                .on('change',   this.tmp.onChange)\n                .on('click',    this.tmp.onClick)         // ignore click because it messes overlays\n                .on('focus',    this.tmp.onFocus)\n                .on('blur',     this.tmp.onBlur)\n                .on('keydown',  this.tmp.onKeydown)\n                .on('keyup',    this.tmp.onKeyup)\n                .on('keypress', this.tmp.onKeypress)\n                .css(w2utils.cssPrefix('box-sizing', 'border-box'));\n            // format initial value\n            this.change($.Event('change'));\n        },\n\n        watchSize: function () {\n            var obj = this;\n            var tmp = $(obj.el).data('tmp') || {};\n            tmp.sizeTimer = setInterval(function () {\n                if ($(obj.el).parents('body').length > 0) {\n                    obj.resize(); \n                } else {\n                    clearInterval(tmp.sizeTimer);\n                }\n            }, 200);\n            $(obj.el).data('tmp', tmp);\n        },\n\n        get: function () {\n            var ret;\n            if (['list', 'enum', 'file'].indexOf(this.type) != -1) {\n                ret = $(this.el).data('selected');\n            } else {\n                ret = $(this.el).val();\n            }\n            return ret;\n        },\n\n        set: function (val) {\n            if (['list', 'enum', 'file'].indexOf(this.type) != -1) {\n                $(this.el).data('selected', val).change();\n                this.refresh();\n            } else {\n                $(this.el).val(val);\n            }\n        },\n\n        setIndex: function (ind) {\n            var items = this.options.items;\n            if (items && items[ind]) {\n                $(this.el).data('selected', items[ind]).change();\n                this.refresh();\n                return true;\n            } \n            return false;\n        },\n\n        clear: function () {\n            var obj        = this;\n            var options    = this.options;\n            // if money then clear value\n            if (['money', 'currency'].indexOf(this.type) != -1) {\n                $(this.el).val($(this.el).val().replace(options.moneyRE, ''));\n            }\n            if (this.type == 'percent') {\n                $(this.el).val($(this.el).val().replace(/%/g, ''));\n            }\n            if (this.type == 'color') {\n                $(this.el).removeAttr('maxlength');\n            }\n            if (this.type == 'list') {\n                $(this.el).removeClass('w2ui-select');\n            }\n            this.type = 'clear';\n            var tmp = $(this.el).data('tmp');\n            if (!this.tmp) return;\n            // restore paddings\n            if (typeof tmp != 'undefined') {\n                $(this.el).height('auto');\n                if (tmp && tmp['old-padding-left'])  $(this.el).css('padding-left',  tmp['old-padding-left']);\n                if (tmp && tmp['old-padding-right']) $(this.el).css('padding-right', tmp['old-padding-right']);\n                if (tmp && tmp['old-background-color']) $(this.el).css('background-color', tmp['old-background-color']);\n                if (tmp && tmp['old-border-color']) $(this.el).css('border-color', tmp['old-border-color']);\n                // remove resize watcher\n                clearInterval(tmp.sizeTimer);\n            }\n            // remove events and (data)\n            $(this.el)\n                .val(this.clean($(this.el).val()))\n                .removeClass('w2field')\n                .removeData() // removes all attached data\n                .off('change',   this.tmp.onChange)\n                .off('click',    this.tmp.onClick)\n                .off('focus',    this.tmp.onFocus)\n                .off('blur',     this.tmp.onBlur)\n                .off('keydown',  this.tmp.onKeydown)\n                .off('keyup',    this.tmp.onKeyup)\n                .off('keypress', this.tmp.onKeypress);\n            // remove helpers\n            for (var h in this.helpers) $(this.helpers[h]).remove();\n            this.helpers = {};\n        },\n\n        refresh: function () {\n            var obj       = this;\n            var options   = this.options;\n            var selected  = $(this.el).data('selected');\n            var time      = (new Date()).getTime();\n            // enum\n            if (['list'].indexOf(this.type) != -1) {\n                $(obj.el).parent().css('white-space', 'nowrap'); // needs this for arrow alway to appear on the right side\n                // hide focus and show text\n                if (obj.helpers.prefix) obj.helpers.prefix.hide();\n                setTimeout(function () {\n                    if (!obj.helpers.focus) return;\n                    // if empty show no icon\n                    if (!$.isEmptyObject(selected) && options.icon) {\n                        options.prefix = '<span class=\"w2ui-icon '+ options.icon +'\"style=\"cursor: pointer; font-size: 14px;' + \n                                         ' display: inline-block; margin-top: -1px; color: #7F98AD;'+ options.iconStyle +'\">'+\n                            '</span>';\n                        obj.addPrefix();                        \n                    } else {\n                        options.prefix = '';\n                        obj.addPrefix();\n                    }\n                    // focus helpder\n                    var focus = obj.helpers.focus.find('input');\n                    if ($(focus).val() == '') {\n                        $(focus).css('opacity', 0).prev().css('opacity', 0);\n                        $(obj.el).val(selected && selected.text != null ? selected.text : '');\n                    } else {\n                        $(focus).css('opacity', 1).prev().css('opacity', 1);\n                        $(obj.el).val('');\n                        setTimeout(function () {\n                            if (obj.helpers.prefix) obj.helpers.prefix.hide(); \n                            var tmp = 'position: absolute; opacity: 0; margin: 4px 0px 0px 2px; background-position: left !important;';\n                            if (options.icon) {\n                                $(focus).css('margin-left', '17px');\n                                $(obj.helpers.focus).find('.icon-search').attr('style', tmp + 'width: 11px !important; opacity: 1');\n                            } else {\n                                $(focus).css('margin-left', '0px');\n                                $(obj.helpers.focus).find('.icon-search').attr('style', tmp + 'width: 0px !important; opacity: 0');\n                            }\n                        }, 1);\n                    }\n                    // if readonly or disabled\n                    if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) {\n                        setTimeout(function () { \n                            $(obj.helpers.prefix).css('opacity', '0.6'); \n                            $(obj.helpers.suffix).css('opacity', '0.6');\n                        }, 1);\n                    } else {\n                        setTimeout(function () { \n                            $(obj.helpers.prefix).css('opacity', '1'); \n                            $(obj.helpers.suffix).css('opacity', '1');\n                        }, 1);\n                    }\n                }, 1);\n            }\n            if (['enum', 'file'].indexOf(this.type) != -1) {\n                var html = '';\n                for (var s in selected) {\n                    var it  = selected[s];\n                    var ren = '';\n                    if (typeof options.renderItem == 'function') {\n                        ren = options.renderItem(it, s, '<div class=\"w2ui-list-remove\" title=\"'+ w2utils.lang('Remove') +'\" index=\"'+ s +'\">&nbsp;&nbsp;</div>');\n                    } else {\n                        ren = '<div class=\"w2ui-list-remove\" title=\"'+ w2utils.lang('Remove') +'\" index=\"'+ s +'\">&nbsp;&nbsp;</div>'+\n                              (obj.type == 'enum' ? it.text : it.name + '<span class=\"file-size\"> - '+ w2utils.formatSize(it.size) +'</span>');\n                    }\n                    html += '<li index=\"'+ s +'\" style=\"max-width: '+ parseInt(options.maxWidth) + 'px; '+ (it.style ? it.style : '') +'\">'+\n                            ren +'</li>';\n                }\n                var div = obj.helpers.multi;\n                var ul  = div.find('ul');\n                div.attr('style', div.attr('style') + ';' + options.style);\n                if ($(obj.el).prop('readonly') || $(obj.el).prop('disabled')) {\n                    div.addClass('w2ui-readonly'); \n                    div.css('pointer-events', 'none').find('li').css('opacity', '0.6');\n                    $(obj.helpers.multi).find('input').prop('readonly', true);                    \n                } else {\n                    div.removeClass('w2ui-readonly');\n                    div.css('pointer-events', 'auto').find('li').css('opacity', '1');\n                    $(obj.helpers.multi).find('input').prop('readonly', false);\n                }\n                // celan\n                div.find('.w2ui-enum-placeholder').remove();\n                ul.find('li').not('li.nomouse').remove();\n                // add new list\n                if (html != '') {\n                    ul.prepend(html);\n                } else if ($(obj.el).attr('placeholder') != null) {\n                    var style =\n                        'padding-top: ' + $(this.el).css('padding-top') + ';'+\n                        'padding-left: ' + $(this.el).css('padding-left') + '; ' +\n                        'box-sizing: ' + $(this.el).css('box-sizing') + '; ' +\n                        'line-height: ' + $(this.el).css('line-height') + '; ' +\n                        'font-size: ' + $(this.el).css('font-size') + '; ' +\n                        'font-family: ' + $(this.el).css('font-family') + '; ';\n                    div.prepend('<div class=\"w2ui-enum-placeholder\" style=\"'+ style +'\">'+ $(obj.el).attr('placeholder') +'</div>');\n                }\n                // ITEMS events\n                div.find('li')\n                    .data('mouse', 'out')\n                    .on('click', function (event) {\n                        var item = selected[$(event.target).attr('index')];\n                        if ($(event.target).hasClass('nomouse')) return;\n                        event.stopPropagation();\n                        // trigger event\n                        var eventData = obj.trigger({ phase: 'before', type: 'click', target: obj.el, originalEvent: event.originalEvent, item: item });\n                        if (eventData.isCancelled === true) return;\n                        // default behavior\n                        if ($(event.target).hasClass('w2ui-list-remove')) {\n                            if ($(obj.el).attr('readonly') || $(obj.el).attr('disabled')) return;\n                            // trigger event\n                            var eventData = obj.trigger({ phase: 'before', type: 'remove', target: obj.el, originalEvent: event.originalEvent, item: item });\n                            if (eventData.isCancelled === true) return;\n                            // default behavior\n                            $().w2overlay();\n                            selected.splice($(event.target).attr('index'), 1);\n                            $(obj.el).trigger('change');\n                            $(event.target).parent().fadeOut('fast');\n                            setTimeout(function () {\n                                obj.refresh();\n                                // event after\n                                obj.trigger($.extend(eventData, { phase: 'after' }));\n                            }, 300);\n                        }\n                        if (obj.type == 'file' && !$(event.target).hasClass('w2ui-list-remove')) {\n                            var preview = '';\n                            if ((/image/i).test(item.type)) { // image\n                                preview = '<div style=\"padding: 3px;\">'+\n                                    '    <img src=\"'+ (item.content ? 'data:'+ item.type +';base64,'+ item.content : '') +'\" style=\"max-width: 300px;\" '+\n                                    '        onload=\"var w = $(this).width(); var h = $(this).height(); '+\n                                    '            if (w < 300 & h < 300) return; '+\n                                    '            if (w >= h && w > 300) $(this).width(300);'+\n                                    '            if (w < h && h > 300) $(this).height(300);\"'+\n                                    '        onerror=\"this.style.display = \\'none\\'\"'+\n                                    '    >'+\n                                    '</div>';\n                            }\n                            var td1 = 'style=\"padding: 3px; text-align: right; color: #777;\"';\n                            var td2 = 'style=\"padding: 3px\"';\n                            preview += '<div style=\"padding: 8px;\">'+\n                                '    <table cellpadding=\"2\">'+\n                                '    <tr><td '+ td1 +'>'+ w2utils.lang('Name') +':</td><td '+ td2 +'>'+ item.name +'</td></tr>'+\n                                '    <tr><td '+ td1 +'>'+ w2utils.lang('Size') +':</td><td '+ td2 +'>'+ w2utils.formatSize(item.size) +'</td></tr>'+\n                                '    <tr><td '+ td1 +'>'+ w2utils.lang('Type') +':</td><td '+ td2 +'>' +\n                                '        <span style=\"width: 200px; display: block-inline; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">'+ item.type +'</span>'+\n                                '    </td></tr>'+\n                                '    <tr><td '+ td1 +'>'+ w2utils.lang('Modified') +':</td><td '+ td2 +'>'+ w2utils.date(item.modified) +'</td></tr>'+\n                                '    </table>'+\n                                '</div>';\n                            $('#w2ui-overlay').remove();\n                            $(event.target).w2overlay(preview);\n                        }\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                    })\n                    .on('mouseover', function (event) {\n                        var tmp = event.target;\n                        if (tmp.tagName != 'LI') tmp = tmp.parentNode;\n                        if ($(tmp).hasClass('nomouse')) return;\n                        if ($(tmp).data('mouse') == 'out') {\n                            var item = selected[$(tmp).attr('index')];\n                            // trigger event\n                            var eventData = obj.trigger({ phase: 'before', type: 'mouseOver', target: obj.el, originalEvent: event.originalEvent, item: item });\n                            if (eventData.isCancelled === true) return;\n                            // event after\n                            obj.trigger($.extend(eventData, { phase: 'after' }));\n                        }\n                        $(tmp).data('mouse', 'over');\n                    })\n                    .on('mouseout', function (event) {\n                        var tmp = event.target;\n                        if (tmp.tagName != 'LI') tmp = tmp.parentNode;\n                        if ($(tmp).hasClass('nomouse')) return;\n                        $(tmp).data('mouse', 'leaving');\n                        setTimeout(function () {\n                            if ($(tmp).data('mouse') == 'leaving') {\n                                $(tmp).data('mouse', 'out');\n                                var item = selected[$(tmp).attr('index')];\n                                // trigger event\n                                var eventData = obj.trigger({ phase: 'before', type: 'f', target: obj.el, originalEvent: event.originalEvent, item: item });\n                                if (eventData.isCancelled === true) return;\n                                // event after\n                                obj.trigger($.extend(eventData, { phase: 'after' }));\n                            }\n                        }, 0);\n                    });\n                // adjust height\n                $(this.el).height('auto');\n                var cntHeight = $(div).find('> div.w2ui-multi-items').height() + w2utils.getSize(div, '+height') * 2;\n                if (cntHeight < 26) cntHeight = 26;\n                if (cntHeight > options.maxHeight) cntHeight = options.maxHeight;\n                if (div.length > 0) div[0].scrollTop = 1000;\n                var inpHeight = w2utils.getSize($(this.el), 'height') - 2;\n                if (inpHeight > cntHeight) cntHeight = inpHeight\n                $(div).css({ 'height': cntHeight + 'px', overflow: (cntHeight == options.maxHeight ? 'auto' : 'hidden') });\n                if (cntHeight < options.maxHeight) $(div).prop('scrollTop', 0);\n                $(this.el).css({ 'height' : (cntHeight + 2) + 'px' });\n            }\n            return (new Date()).getTime() - time;\n        },\n\n        reset: function () {\n            var obj  = this;\n            var type = this.type;\n            this.clear();\n            this.type = type;\n            this.init();\n        },\n\n        // resizing width of list, enum, file controls\n        resize: function () {\n            var obj = this;\n            var new_width  = $(obj.el).width();\n            var new_height = $(obj.el).height();\n            if (obj.tmp.current_width == new_width && new_height > 0) return;\n\n            var focus  = this.helpers.focus;\n            var multi  = this.helpers.multi;\n            var suffix = this.helpers.suffix;\n            var prefix = this.helpers.prefix;\n\n            // resize helpers\n            if (focus) {\n                focus.width($(obj.el).width());\n            }\n            if (multi) {\n                var width = (w2utils.getSize(obj.el, 'width')\n                    - parseInt($(obj.el).css('margin-left'), 10)\n                    - parseInt($(obj.el).css('margin-right'), 10));\n                $(multi).width(width);\n            }\n            if (suffix) {\n                obj.options.suffix = '<div class=\"arrow-down\" style=\"margin-top: '+ ((parseInt($(obj.el).height()) - 6) / 2) +'px;\"></div>';\n                obj.addSuffix();\n            }\n            if (prefix) {\n                obj.addPrefix();\n            }\n            // remember width\n            obj.tmp.current_width = new_width;\n        },\n\n        clean: function (val) {\n            //issue #499\n            if(typeof val == 'number'){\n                 return val;\n            }\n            var options = this.options;\n            val = String(val).trim();\n            // clean\n            if (['int', 'float', 'money', 'currency', 'percent'].indexOf(this.type) != -1) {\n                if (typeof val == 'string') {\n                    if (options.autoFormat && ['money', 'currency'].indexOf(this.type) != -1) val = String(val).replace(options.moneyRE, '');\n                    if (options.autoFormat && this.type == 'percent') val = String(val).replace(options.percentRE, '');\n                    if (options.autoFormat && ['int', 'float'].indexOf(this.type) != -1) val = String(val).replace(options.numberRE, '');\n                    val = val.replace(options.decimalSymbol, '.');\n                }\n                if (parseFloat(val) == val) {\n                    if (options.min !== null && val < options.min) { val = options.min; $(this.el).val(options.min); }\n                    if (options.max !== null && val > options.max) { val = options.max; $(this.el).val(options.max); }\n                }\n                if (val !== '' && w2utils.isFloat(val)) val = Number(val); else val = '';\n            }\n            return val;\n        },\n\n        format: function (val) {\n            var options = this.options;\n            // autoformat numbers or money\n            if (options.autoFormat && val != '') {\n                switch (this.type) {\n                    case 'money':\n                    case 'currency':\n                        val = w2utils.formatNumber(Number(val).toFixed(options.currencyPrecision), options.groupSymbol);\n                        if (val != '') val = options.currencyPrefix + val + options.currencySuffix;\n                        break;\n                    case 'percent':\n                        val = w2utils.formatNumber(options.precision ? Number(val).toFixed(options.precision) : val, options.groupSymbol);\n                        if (val != '') val += '%';\n                        break;\n                    case 'float':\n                        val = w2utils.formatNumber(options.precision ? Number(val).toFixed(options.precision) : val, options.groupSymbol);\n                        break;\n                    case 'int':\n                        val = w2utils.formatNumber(val, options.groupSymbol);\n                        break;\n                }\n            }\n            return val;\n        },\n\n        change: function (event) {\n            var obj     = this;\n            var options = obj.options;\n            // numeric\n            if (['int', 'float', 'money', 'currency', 'percent'].indexOf(this.type) != -1) {\n                // check max/min\n                var val     =  $(this.el).val();\n                var new_val = this.format(this.clean($(this.el).val()));\n                // if was modified\n                if (val != '' && val != new_val) {\n                    $(this.el).val(new_val).change();\n                    // cancel event\n                    event.stopPropagation();\n                    event.preventDefault();\n                    return false;\n                }\n            }\n            // color\n            if (this.type == 'color') {\n                var color = '#' + $(this.el).val();\n                if ($(this.el).val().length != 6 && $(this.el).val().length != 3) color = '';\n                $(this.el).next().find('div').css('background-color', color);\n                if ($(obj.el).is(':focus')) this.updateOverlay();\n            }\n            // list, enum\n            if (['list', 'enum', 'file'].indexOf(this.type) != -1) {\n                obj.refresh();\n                // need time out to show icon indent properly\n                setTimeout(function () { obj.refresh(); }, 5); \n            }\n            // date, time\n            if (['date', 'time'].indexOf(this.type) != -1) {\n                // convert linux timestamps\n                var tmp = parseInt(obj.el.value);\n                if (w2utils.isInt(obj.el.value) && tmp > 3000) {\n                    if (this.type == 'time') $(obj.el).val(w2utils.formatTime(new Date(tmp), options.format)).change();\n                    if (this.type == 'date') $(obj.el).val(w2utils.formatDate(new Date(tmp), options.format)).change();\n                }\n            }\n        },\n\n        click: function (event) {\n            event.stopPropagation();\n            // lists\n            if (['list', 'combo', 'enum'].indexOf(this.type) != -1) {\n                if (!$(this.el).is(':focus')) this.focus(event);\n            }\n            // other fields with drops\n            if (['date', 'time', 'color'].indexOf(this.type) != -1) {\n                this.updateOverlay();\n            }\n        },\n\n        focus: function (event) {\n            var obj     = this;\n            var options = this.options;\n            // color, date, time\n            if (['color', 'date', 'time'].indexOf(obj.type) !== -1) {\n                if ($(obj.el).attr('readonly') || $(obj.el).attr('disabled')) return;\n                if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n                setTimeout(function () { obj.updateOverlay(); }, 150);\n            }\n            // menu\n            if (['list', 'combo', 'enum'].indexOf(obj.type) != -1) {\n                if ($(obj.el).attr('readonly') || $(obj.el).attr('disabled')) return;\n                if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n                obj.resize();\n                setTimeout(function () {\n                    if (obj.type == 'list' && $(obj.el).is(':focus')) {\n                        $(obj.helpers.focus).find('input').focus();\n                        return;\n                    }\n                    obj.search();\n                    setTimeout(function () { obj.updateOverlay(); }, 1);\n                }, 1);\n            }\n            // file\n            if (obj.type == 'file') {\n                $(obj.helpers.multi).css({ 'outline': 'auto 5px #7DB4F3', 'outline-offset': '-2px' });\n            }\n        },\n\n        blur: function (event) {\n            var obj     = this;\n            var options = obj.options;\n            var val     = $(obj.el).val().trim();\n            // hide overlay\n            if (['color', 'date', 'time', 'list', 'combo', 'enum'].indexOf(obj.type) != -1) {\n                if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n            }\n            if (['int', 'float', 'money', 'currency', 'percent'].indexOf(obj.type) != -1) {\n                if (val !== '' && !obj.checkType(val)) {\n                    $(obj.el).val('').change();\n                    if (options.silent === false) {\n                        $(obj.el).w2tag('Not a valid number');\n                        setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n                    }\n                }\n            }\n            // date or time\n            if (['date', 'time'].indexOf(obj.type) != -1) {\n                // check if in range\n                if (val !== '' && !obj.inRange(obj.el.value)) {\n                    $(obj.el).val('').removeData('selected').change();\n                    if (options.silent === false) {\n                        $(obj.el).w2tag('Not in range');\n                        setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n                    }\n                } else {\n                    if (obj.type == 'date' && val !== '' && !w2utils.isDate(obj.el.value, options.format)) {\n                        $(obj.el).val('').removeData('selected').change();\n                        if (options.silent === false) {\n                            $(obj.el).w2tag('Not a valid date');\n                            setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n                        }\n                    }\n                    if (obj.type == 'time' && val !== '' && !w2utils.isTime(obj.el.value)) {\n                        $(obj.el).val('').removeData('selected').change();\n                        if (options.silent === false) {\n                            $(obj.el).w2tag('Not a valid time');\n                            setTimeout(function () { $(obj.el).w2tag(''); }, 3000);\n                        }\n                    }\n                }\n            }\n            // clear search input\n            if (obj.type == 'enum') {\n                $(obj.helpers.multi).find('input').val('').width(20);\n            }\n            // file\n            if (obj.type == 'file') {\n                $(obj.helpers.multi).css({ 'outline': 'none' });\n            }\n        },\n\n        keyPress: function (event) {\n            var obj     = this;\n            var options = obj.options;\n            // ignore wrong pressed key\n            if (['int', 'float', 'money', 'currency', 'percent', 'hex', 'color', 'alphanumeric'].indexOf(obj.type) != -1) {\n                // keyCode & charCode differ in FireFox\n                if (event.metaKey || event.ctrlKey || event.altKey || (event.charCode != event.keyCode && event.keyCode > 0)) return;\n                var ch = String.fromCharCode(event.charCode);\n                if (!obj.checkType(ch, true) && event.keyCode != 13) {\n                    event.preventDefault();\n                    if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    return false;\n                }\n            }\n            // update date popup\n            if (['date', 'time'].indexOf(obj.type) != -1) {\n                setTimeout(function () { obj.updateOverlay(); }, 1);\n            }\n        },\n\n        keyDown: function (event, extra) {\n            var obj     = this;\n            var options = obj.options;\n            var key     = event.keyCode || (extra && extra.keyCode);\n            // numeric\n            if (['int', 'float', 'money', 'currency', 'percent'].indexOf(obj.type) != -1) {\n                if (!options.keyboard || $(obj.el).attr('readonly')) return;\n                var cancel = false;\n                var val = parseFloat($(obj.el).val().replace(options.moneyRE, '')) || 0;\n                var inc = options.step;\n                if (event.ctrlKey || event.metaKey) inc = 10;\n                switch (key) {\n                    case 38: // up\n                        if (event.shiftKey) break; // no action if shift key is pressed\n                        $(obj.el).val((val + inc <= options.max || options.max === null ? Number((val + inc).toFixed(12)) : options.max)).change();\n                        cancel = true;\n                        break;\n                    case 40: // down\n                        if (event.shiftKey) break; // no action if shift key is pressed\n                        $(obj.el).val((val - inc >= options.min || options.min === null ? Number((val - inc).toFixed(12)) : options.min)).change();\n                        cancel = true;\n                        break;\n                }\n                if (cancel) {\n                    event.preventDefault();\n                    setTimeout(function () {\n                        // set cursor to the end\n                        obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n                    }, 0);\n                }\n            }\n            // date\n            if (obj.type == 'date') {\n                if (!options.keyboard || $(obj.el).attr('readonly')) return;\n                var cancel  = false;\n                var daymil  = 24*60*60*1000;\n                var inc        = 1;\n                if (event.ctrlKey || event.metaKey) inc = 10;\n                var dt = w2utils.isDate($(obj.el).val(), options.format, true);\n                if (!dt) { dt = new Date(); daymil = 0; }\n                switch (key) {\n                    case 38: // up\n                        if (event.shiftKey) break; // no action if shift key is pressed\n                        var newDT = w2utils.formatDate(dt.getTime() + daymil, options.format);\n                        if (inc == 10) newDT = w2utils.formatDate(new Date(dt.getFullYear(), dt.getMonth()+1, dt.getDate()), options.format);\n                        $(obj.el).val(newDT).change();\n                        cancel = true;\n                        break;\n                    case 40: // down\n                        if (event.shiftKey) break; // no action if shift key is pressed\n                        var newDT = w2utils.formatDate(dt.getTime() - daymil, options.format);\n                        if (inc == 10) newDT = w2utils.formatDate(new Date(dt.getFullYear(), dt.getMonth()-1, dt.getDate()), options.format);\n                        $(obj.el).val(newDT).change();\n                        cancel = true;\n                        break;\n                }\n                if (cancel) {\n                    event.preventDefault();\n                    setTimeout(function () {\n                        // set cursor to the end\n                        obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n                        obj.updateOverlay();\n                    }, 0);\n                }\n            }\n            // time\n            if (obj.type == 'time') {\n                if (!options.keyboard || $(obj.el).attr('readonly')) return;\n                var cancel  = false;\n                var inc     = (event.ctrlKey || event.metaKey ? 60 : 1);\n                var val     = $(obj.el).val();\n                var time    = obj.toMin(val) || obj.toMin((new Date()).getHours() + ':' + ((new Date()).getMinutes() - 1));\n                switch (key) {\n                    case 38: // up\n                        if (event.shiftKey) break; // no action if shift key is pressed\n                        time += inc;\n                        cancel = true;\n                        break;\n                    case 40: // down\n                        if (event.shiftKey) break; // no action if shift key is pressed\n                        time -= inc;\n                        cancel = true;\n                        break;\n                }\n                if (cancel) {\n                    $(obj.el).val(obj.fromMin(time)).change();\n                    event.preventDefault();\n                    setTimeout(function () {\n                        // set cursor to the end\n                        obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n                    }, 0);\n                }\n            }\n            // color\n            if (obj.type == 'color') {\n                if ($(obj.el).attr('readonly')) return;\n                // paste\n                if (event.keyCode == 86 && (event.ctrlKey || event.metaKey)) {\n                    $(obj.el).prop('maxlength', 7);\n                    setTimeout(function () {\n                        var val = $(obj).val();\n                        if (val.substr(0, 1) == '#') val = val.substr(1);\n                        if (!w2utils.isHex(val)) val = '';\n                        $(obj).val(val).prop('maxlength', 6).change();\n                    }, 20);\n                }\n                if ((event.ctrlKey || event.metaKey) && !event.shiftKey) {\n                    if (typeof obj.tmp.cind1 == 'undefined') {\n                        obj.tmp.cind1 = -1;\n                        obj.tmp.cind2 = -1;\n                    } else {\n                        switch (key) {\n                            case 38: // up\n                                obj.tmp.cind1--;\n                                break;\n                            case 40: // down\n                                obj.tmp.cind1++;\n                                break;\n                            case 39: // right\n                                obj.tmp.cind2++;\n                                break;\n                            case 37: // left\n                                obj.tmp.cind2--;\n                                break;\n                        }\n                        if (obj.tmp.cind1 < 0) obj.tmp.cind1 = 0;\n                        if (obj.tmp.cind1 > this.pallete.length - 1) obj.tmp.cind1 = this.pallete.length - 1;\n                        if (obj.tmp.cind2 < 0) obj.tmp.cind2 = 0;\n                        if (obj.tmp.cind2 > this.pallete[0].length - 1) obj.tmp.cind2 = this.pallete[0].length - 1;\n                    }\n                    if ([37, 38, 39, 40].indexOf(key) != -1) {\n                        $(obj.el).val(this.pallete[obj.tmp.cind1][obj.tmp.cind2]).change();\n                        event.preventDefault();\n                    }\n                }\n            }\n            // list/select/combo\n            if (['list', 'combo', 'enum'].indexOf(obj.type) != -1) {\n                if ($(obj.el).attr('readonly')) return;\n                var selected  = $(obj.el).data('selected');\n                var focus     = $(obj.helpers.focus).find('input');\n                var indexOnly = false;\n                if (obj.type == 'list') {\n                    if ([37, 38, 39, 40].indexOf(key) == -1) obj.refresh(); // arrows\n                }\n                // apply arrows\n                switch (key) {\n                    case 27: // escape\n                        if (obj.type == 'list') {\n                            if ($(focus).val() != '') $(focus).val('');\n                            event.stopPropagation(); // escape in field should not close popup\n                        }\n                        break;\n                    case 37: // left\n                    case 39: // right\n                        // indexOnly = true;\n                        break;\n                    case 13: // enter\n                        if ($('#w2ui-overlay').length == 0) break; // no action if overlay not open\n                        var item  = options.items[options.index];\n                        var multi = $(obj.helpers.multi).find('input');\n                        if (obj.type == 'enum') {\n                            if (item != null) {\n                                // trigger event\n                                var eventData = obj.trigger({ phase: 'before', type: 'add', target: obj.el, originalEvent: event.originalEvent, item: item });\n                                if (eventData.isCancelled === true) return;\n                                item = eventData.item; // need to reassign because it could be recreated by user\n                                // default behavior\n                                if (selected.length >= options.max && options.max > 0) selected.pop();\n                                delete item.hidden;\n                                delete obj.tmp.force_open;\n                                selected.push(item);\n                                $(obj.el).change();\n                                multi.val('').width(20);\n                                obj.refresh();\n                                // event after\n                                obj.trigger($.extend(eventData, { phase: 'after' }));\n                            } else {\n                                // trigger event\n                                item = { id: multi.val(), text: multi.val() }\n                                var eventData = obj.trigger({ phase: 'before', type: 'new', target: obj.el, originalEvent: event.originalEvent, item: item });\n                                if (eventData.isCancelled === true) return;\n                                item = eventData.item; // need to reassign because it could be recreated by user\n                                // default behavior\n                                if (typeof obj.onNew == 'function') {\n                                    if (selected.length >= options.max && options.max > 0) selected.pop();\n                                    delete obj.tmp.force_open;\n                                    selected.push(item);\n                                    $(obj.el).change();\n                                    multi.val('').width(20);\n                                    obj.refresh();\n                                }\n                                // event after\n                                obj.trigger($.extend(eventData, { phase: 'after' }));\n                            }\n                        } else {\n                            if (item) $(obj.el).data('selected', item).val(item.text).change();\n                            if ($(obj.el).val() == '' && $(obj.el).data('selected')) $(obj.el).removeData('selected').val('').change();\n                            if (obj.type == 'list') {\n                                focus.val('');\n                                obj.refresh();\n                            }\n                            // hide overlay\n                            obj.tmp.force_hide = true;\n                        }\n                        break;\n                    case 8:  // backspace\n                    case 46: // delete\n                        if (obj.type == 'enum' && key == 8) {\n                            if ($(obj.helpers.multi).find('input').val() == '' && selected.length > 0) {\n                                var item = selected[selected.length - 1];\n                                // trigger event\n                                var eventData = obj.trigger({ phase: 'before', type: 'remove', target: obj.el, originalEvent: event.originalEvent, item: item });\n                                if (eventData.isCancelled === true) return;\n                                // default behavior\n                                selected.pop();\n                                $(obj.el).trigger('change');\n                                obj.refresh();\n                                // event after\n                                obj.trigger($.extend(eventData, { phase: 'after' }));\n                            }\n                        }\n                        if (obj.type == 'list' && $(focus).val() == '') {\n                            $(obj.el).data('selected', {}).change();\n                            obj.refresh();\n                        }\n                        break;\n                    case 38: // up\n                        options.index = w2utils.isInt(options.index) ? parseInt(options.index) : 0;\n                        options.index--;\n                        while (options.index > 0 && options.items[options.index].hidden) options.index--;\n                        if (options.index == 0 && options.items[options.index].hidden) {\n                            while (options.items[options.index] && options.items[options.index].hidden) options.index++;\n                        }\n                        indexOnly = true;\n                        break;\n                    case 40: // down\n                        options.index = w2utils.isInt(options.index) ? parseInt(options.index) : -1;\n                        options.index++;\n                        while (options.index < options.items.length-1 && options.items[options.index].hidden) options.index++;\n                        if (options.index == options.items.length-1 && options.items[options.index].hidden) {\n                            while (options.items[options.index] && options.items[options.index].hidden) options.index--;\n                        }\n                        // show overlay if not shown\n                        var input = obj.el;\n                        if (['enum'].indexOf(obj.type) != -1) input = obj.helpers.multi.find('input');\n                        if ($(input).val() == '' && $('#w2ui-overlay').length == 0) {\n                            obj.tmp.force_open = true;\n                        } else {\n                            indexOnly = true;\n                        }\n                        break;\n                }\n                if (indexOnly) {\n                    if (options.index < 0) options.index = 0;\n                    if (options.index >= options.items.length) options.index = options.items.length -1;\n                    obj.updateOverlay(indexOnly);\n                    // cancel event\n                    event.preventDefault();\n                    setTimeout(function () {\n                        // set cursor to the end\n                        if (obj.type == 'enum') {\n                            var tmp = obj.helpers.multi.find('input').get(0);\n                            tmp.setSelectionRange(tmp.value.length, tmp.value.length);\n                        } else if (obj.type == 'list') {\n                            var tmp = obj.helpers.focus.find('input').get(0);\n                            tmp.setSelectionRange(tmp.value.length, tmp.value.length);\n                        } else {\n                            obj.el.setSelectionRange(obj.el.value.length, obj.el.value.length);\n                        }\n                    }, 0);\n                    return;\n                }\n                // expand input\n                if (obj.type == 'enum') {\n                    var input  = obj.helpers.multi.find('input');\n                    var search = input.val();\n                    input.width(((search.length + 2) * 8) + 'px');\n                }\n                // run search\n                if ([16, 17, 18, 20, 37, 39, 91].indexOf(key) == -1) { // no refreah on crtl, shift, left/right arrows, etc\n                    setTimeout(function () {\n                        if (!obj.tmp.force_hide) obj.request();\n                        obj.search();\n                    }, 1);\n                }\n            }\n        },\n\n        keyUp: function (event) {\n            if (this.type == 'color') {\n                if (event.keyCode == 86 && (event.ctrlKey || event.metaKey)) $(this).prop('maxlength', 6);\n            }\n        },\n\n        clearCache: function () {\n            var options          = this.options;\n            options.items        = [];\n            this.tmp.xhr_loading = false;\n            this.tmp.xhr_search  = '';\n            this.tmp.xhr_total   = -1;\n            this.search();\n        },\n\n        request: function (interval) {\n            var obj      = this;\n            var options  = this.options;\n            var search   = $(obj.el).val() || '';\n            // if no url - do nothing\n            if (!options.url) return;\n            // --\n            if (obj.type == 'enum') {\n                var tmp = $(obj.helpers.multi).find('input');\n                if (tmp.length == 0) search = ''; else search = tmp.val();\n            }\n            if (obj.type == 'list') {\n                var tmp = $(obj.helpers.focus).find('input');\n                if (tmp.length == 0) search = ''; else search = tmp.val();\n            }\n            if (options.minLength != 0 && search.length < options.minLength) {\n                options.items = []; // need to empty the list\n                this.updateOverlay();\n                return;\n            }\n            if (typeof interval == 'undefined') interval = 350;\n            if (typeof obj.tmp.xhr_search == 'undefined') obj.tmp.xhr_search = '';\n            if (typeof obj.tmp.xhr_total == 'undefined') obj.tmp.xhr_total = -1;\n            // check if need to search\n            if (options.url && $(obj.el).prop('readonly') != true && (\n                    (options.items.length === 0 && obj.tmp.xhr_total !== 0) ||\n                    (obj.tmp.xhr_total == options.cacheMax && search.length > obj.tmp.xhr_search.length) ||\n                    (search.length >= obj.tmp.xhr_search.length && search.substr(0, obj.tmp.xhr_search.length) != obj.tmp.xhr_search) ||\n                    (search.length < obj.tmp.xhr_search.length)\n                )) {\n                // empty list\n                if (obj.tmp.xhr) obj.tmp.xhr.abort();\n                obj.tmp.xhr_loading = true;\n                obj.search();\n                // timeout\n                clearTimeout(obj.tmp.timeout);\n                obj.tmp.timeout = setTimeout(function () {\n                    // trigger event\n                    var url      = options.url;\n                    var postData = {\n                        search : search,\n                        max    : options.cacheMax\n                    };\n                    $.extend(postData, options.postData);\n                    var eventData = obj.trigger({ phase: 'before', type: 'request', target: obj.el, url: url, postData: postData });\n                    if (eventData.isCancelled === true) return;\n                    url      = eventData.url;\n                    postData = eventData.postData;\n                    // console.log('REMOTE SEARCH:', search);\n                    var ajaxOptions = {\n                        type     : 'GET',\n                        url      : url,\n                        data     : postData,\n                        dataType : 'JSON' // expected from server\n                    };\n                    if (w2utils.settings.dataType == 'JSON') {\n                        ajaxOptions.type        = 'POST';\n                        ajaxOptions.data        = JSON.stringify(ajaxOptions.data);\n                        ajaxOptions.contentType = 'application/json';\n                    }\n                    obj.tmp.xhr = $.ajax(ajaxOptions)\n                        .done(function (data, status, xhr) {\n                            // trigger event\n                            var eventData2 = obj.trigger({ phase: 'before', type: 'load', target: obj.el, search: postData.search, data: data, xhr: xhr });\n                            if (eventData2.isCancelled === true) return;\n                            // default behavior\n                            data = eventData2.data;\n                            if (typeof data == 'string') data = JSON.parse(data);\n                            if (data.status != 'success') {\n                                console.log('ERROR: server did not return proper structure. It should return', { status: 'success', items: [{ id: 1, text: 'item' }] });\n                                return;\n                            }\n                            // remove all extra items if more then needed for cache\n                            if (data.items.length > options.cacheMax) data.items.splice(options.cacheMax, 100000);\n                            // remember stats\n                            obj.tmp.xhr_loading = false;\n                            obj.tmp.xhr_search  = search;\n                            obj.tmp.xhr_total   = data.items.length;\n                            options.items       = obj.normMenu(data.items);\n                            if (search == '' && data.items.length == 0) obj.tmp.emptySet = true; else obj.tmp.emptySet = false;\n                            obj.search();\n                            // console.log('-->', 'retrieved:', obj.tmp.xhr_total);\n                            // event after\n                            obj.trigger($.extend(eventData2, { phase: 'after' }));\n                        })\n                        .fail(function (xhr, status, error) {\n                            // trigger event\n                            var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n                            var eventData2 = obj.trigger({ phase: 'before', type: 'error', target: obj.el, search: search, error: errorObj, xhr: xhr });\n                            if (eventData2.isCancelled === true) return;\n                            // default behavior\n                            if (status != 'abort') {\n                                var data;\n                                try { data = $.parseJSON(xhr.responseText) } catch (e) {}\n                                console.log('ERROR: Server communication failed.', \n                                    '\\n   EXPECTED:', { status: 'success', items: [{ id: 1, text: 'item' }] }, \n                                    '\\n         OR:', { status: 'error', message: 'error message' },\n                                    '\\n   RECEIVED:', typeof data == 'object' ? data : xhr.responseText);\n                            }\n                            // reset stats\n                            obj.clearCache();\n                            // event after\n                            obj.trigger($.extend(eventData2, { phase: 'after' }));\n                        });\n                    // event after\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                }, interval);\n            }\n        },\n\n        search: function () {\n            var obj     = this;\n            var options = this.options;\n            var search  = $(obj.el).val();\n            var target  = obj.el;\n            var ids     = [];\n            var selected= $(obj.el).data('selected');\n            if (obj.type == 'enum') {\n                target = $(obj.helpers.multi).find('input');\n                search = target.val();\n                for (var s in selected) { if (selected[s]) ids.push(selected[s].id); }\n            }\n            if (obj.type == 'list') {\n                target = $(obj.helpers.focus).find('input');\n                search = target.val();\n                for (var s in selected) { if (selected[s]) ids.push(selected[s].id); }\n            }\n            // trigger event\n            var eventData = obj.trigger({ phase: 'before', type: 'search', target: target, search: search });\n            if (eventData.isCancelled === true) return;\n            if (obj.tmp.xhr_loading !== true) {\n                var shown = 0;\n                for (var i = 0; i < options.items.length; i++) {\n                    var item = options.items[i];\n                    if (typeof options.compare == 'function') {\n                        item.hidden = (options.compare.call(this, item, search) === false ? true : false)\n                    } else {\n                        var prefix = '';\n                        var suffix = '';\n                        if (['is', 'begins'].indexOf(options.match) != -1) prefix = '^';\n                        if (['is', 'ends'].indexOf(options.match) != -1) suffix = '$';\n                        try {\n                            var re = new RegExp(prefix + search + suffix, 'i');\n                            if (re.test(item.text) || item.text == '...') item.hidden = false; else item.hidden = true;\n                        } catch (e) {}\n                    }\n                    // do not show selected items\n                    if (obj.type == 'enum' && $.inArray(item.id, ids) != -1) item.hidden = true;\n                    if (item.hidden !== true) { shown++; delete item.hidden; }\n                }\n                // preselect first item\n                options.index = 0;\n                while (options.items[options.index] && options.items[options.index].hidden) options.index++;\n                if (shown <= 0) options.index = -1;\n                options.spinner = false;\n                obj.updateOverlay();\n                setTimeout(function () { \n                    var html = $('#w2ui-overlay').html() || '';\n                    if (options.markSearch && html.indexOf('$.fn.w2menuHandler') != -1) { // do not highlight when no items\n                        $('#w2ui-overlay').w2marker(search); \n                    }\n                }, 1);\n            } else {\n                options.items.splice(0, options.cacheMax);\n                options.spinner = true;\n                obj.updateOverlay();\n            }\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        updateOverlay: function (indexOnly) {\n            var obj     = this;\n            var options = this.options;\n            // color\n            if (this.type == 'color') {\n                if ($(obj.el).attr('readonly')) return;\n                if ($('#w2ui-overlay').length == 0) {\n                    $(obj.el).w2overlay(obj.getColorHTML());\n                } else {\n                    $('#w2ui-overlay > div').html(obj.getColorHTML());\n                }\n                // bind events\n                $('#w2ui-overlay .color')\n                    .on('mousedown', function (event) {\n                        var color = $(event.originalEvent.target).attr('name');\n                        var index = $(event.originalEvent.target).attr('index').split(':');\n                        obj.tmp.cind1 = index[0];\n                        obj.tmp.cind2 = index[1];\n                        $(obj.el).val(color).change();\n                        $(this).html('&#149;');\n                    })\n                    .on('mouseup', function () {\n                        setTimeout(function () {\n                            if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide();\n                        }, 10);\n                    });\n            }\n            // date\n            if (this.type == 'date') {\n                if ($(obj.el).attr('readonly')) return;\n                if ($('#w2ui-overlay').length == 0) {\n                    $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar\" onclick=\"event.stopPropagation();\"></div>', {\n                        css: { \"background-color\": \"#f5f5f5\" }\n                    });\n                }\n                var month, year;\n                var dt = w2utils.isDate($(obj.el).val(), obj.options.format, true);\n                if (dt) { month = dt.getMonth() + 1; year = dt.getFullYear(); }\n                (function refreshCalendar(month, year) {\n                    $('#w2ui-overlay > div > div').html(obj.getMonthHTML(month, year));\n                    $('#w2ui-overlay .w2ui-calendar-title')\n                        .on('mousedown', function () {\n                            if ($(this).next().hasClass('w2ui-calendar-jump')) {\n                                $(this).next().remove();\n                            } else {\n                                var selYear, selMonth;\n                                $(this).after('<div class=\"w2ui-calendar-jump\" style=\"\"></div>');\n                                $(this).next().hide().html(obj.getYearHTML()).fadeIn(200);\n                                setTimeout(function () {\n                                    $('#w2ui-overlay .w2ui-calendar-jump')\n                                        .find('.w2ui-jump-month, .w2ui-jump-year')\n                                        .on('click', function () {\n                                            if ($(this).hasClass('w2ui-jump-month')) {\n                                                $(this).parent().find('.w2ui-jump-month').removeClass('selected');\n                                                $(this).addClass('selected');\n                                                selMonth = $(this).attr('name');\n                                            }\n                                            if ($(this).hasClass('w2ui-jump-year')) {\n                                                $(this).parent().find('.w2ui-jump-year').removeClass('selected');\n                                                $(this).addClass('selected');\n                                                selYear = $(this).attr('name');\n                                            }\n                                            if (selYear != null && selMonth != null) {\n                                                $('#w2ui-overlay .w2ui-calendar-jump').fadeOut(100);\n                                                setTimeout(function () { refreshCalendar(parseInt(selMonth)+1, selYear); }, 100);\n                                            }\n                                        });\n                                    $('#w2ui-overlay .w2ui-calendar-jump >:last-child').prop('scrollTop', 2000);\n                                }, 1);\n                            }\n                        });\n                    $('#w2ui-overlay .w2ui-date')\n                        .on('mousedown', function () {\n                            var day = $(this).attr('date');\n                            $(obj.el).val(day).change();\n                            $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n                        })\n                        .on('mouseup', function () {\n                            setTimeout(function () {\n                                if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide();\n                            }, 10);\n                        });\n                    $('#w2ui-overlay .previous').on('mousedown', function () {\n                        var tmp = obj.options.current.split('/');\n                        tmp[0]  = parseInt(tmp[0]) - 1;\n                        refreshCalendar(tmp[0], tmp[1]);\n                    });\n                    $('#w2ui-overlay .next').on('mousedown', function () {\n                        var tmp = obj.options.current.split('/');\n                        tmp[0]  = parseInt(tmp[0]) + 1;\n                        refreshCalendar(tmp[0], tmp[1]);\n                    });\n                }) (month, year);\n            }\n            // time\n            if (this.type == 'time') {\n                if ($(obj.el).attr('readonly')) return;\n                if ($('#w2ui-overlay').length == 0) {\n                    $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\" onclick=\"event.stopPropagation();\"></div>', {\n                        css: { \"background-color\": \"#fff\" }\n                    });\n                }\n                var h24 = (this.options.format == 'h24');\n                $('#w2ui-overlay > div').html(obj.getHourHTML());\n                $('#w2ui-overlay .w2ui-time')\n                    .on('mousedown', function (event) {\n                        $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n                        var hour = $(this).attr('hour');\n                        $(obj.el).val((hour > 12 && !h24 ? hour - 12 : hour) + ':00' + (!h24 ? (hour < 12 ? ' am' : ' pm') : '')).change();\n                    })\n                    .on('mouseup', function () {\n                        var hour = $(this).attr('hour');\n                        if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n                        $(obj.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\"></div>', { css: { \"background-color\": \"#fff\" } });\n                        $('#w2ui-overlay > div').html(obj.getMinHTML(hour));\n                        $('#w2ui-overlay .w2ui-time')\n                            .on('mousedown', function () {\n                                $(this).css({ 'background-color': '#B6D5FB', 'border-color': '#aaa' });\n                                var min = $(this).attr('min');\n                                $(obj.el).val((hour > 12 && !h24 ? hour - 12 : hour) + ':' + (min < 10 ? 0 : '') + min + (!h24 ? (hour < 12 ? ' am' : ' pm') : '')).change();\n                            })\n                            .on('mouseup', function () {\n                                setTimeout(function () { if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay').removeData('keepOpen')[0].hide(); }, 10);\n                            });\n                    });\n            }\n            // list\n            if (['list', 'combo', 'enum'].indexOf(this.type) != -1) {\n                var el    = this.el;\n                var input = this.el;\n                if (this.type == 'enum') {\n                    el    = $(this.helpers.multi);\n                    input = $(el).find('input');\n                }\n                if (this.type == 'list') {\n                    input = $(this.helpers.focus).find('input');\n                }\n                if ($(input).is(':focus')) {\n                    if (options.openOnFocus === false && $(input).val() == '' && obj.tmp.force_open !== true) {\n                        $().w2overlay();\n                        return;\n                    }\n                    if (obj.tmp.force_hide) {\n                        $().w2overlay();\n                        setTimeout(function () {\n                            delete obj.tmp.force_hide;\n                        }, 1);                        \n                        return;\n                    }\n                    if ($(input).val() != '') delete obj.tmp.force_open;\n                    var msgNoItems = w2utils.lang('No matches');\n                    if (options.url != null && $(input).val().length < options.minLength && obj.tmp.emptySet !== true) msgNoItems = options.minLength + ' ' + w2utils.lang('letters or more...');\n                    if (options.url != null && $(input).val() == '' && obj.tmp.emptySet !== true) msgNoItems = w2utils.lang('Type to search....');\n                    $(el).w2menu((!indexOnly ? 'refresh' : 'refresh-index'), $.extend(true, {}, options, {\n                        search     : false,\n                        render     : options.renderDrop,\n                        maxHeight  : options.maxDropHeight,\n                        msgNoItems : msgNoItems,\n                        // selected with mouse\n                        onSelect: function (event) {\n                            if (obj.type == 'enum') {\n                                var selected = $(obj.el).data('selected');\n                                if (event.item) {\n                                    // trigger event\n                                    var eventData = obj.trigger({ phase: 'before', type: 'add', target: obj.el, originalEvent: event.originalEvent, item: event.item });\n                                    if (eventData.isCancelled === true) return;\n                                    // default behavior\n                                    if (selected.length >= options.max && options.max > 0) selected.pop();\n                                    delete event.item.hidden;\n                                    selected.push(event.item);\n                                    $(obj.el).data('selected', selected).change();\n                                    $(obj.helpers.multi).find('input').val('').width(20);\n                                    obj.refresh();\n                                    if ($(\"#w2ui-overlay\").length > 0) $('#w2ui-overlay')[0].hide();\n                                    // event after\n                                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                                }\n                            } else {\n                                $(obj.el).data('selected', event.item).val(event.item.text).change();\n                                if (obj.helpers.focus) obj.helpers.focus.find('input').val('');\n                            }\n                        }\n                    }));\n                }\n            }\n        },\n\n        inRange: function (str) {\n            var inRange = false;\n            if (this.type == 'date') {\n                var dt = w2utils.isDate(str, this.options.format, true);\n                if (dt) {\n                    // enable range\n                    if (this.options.start || this.options.end) {\n                        var st = (typeof this.options.start == 'string' ? this.options.start : $(this.options.start).val());\n                        var en = (typeof this.options.end == 'string' ? this.options.end : $(this.options.end).val());\n                        var start   = w2utils.isDate(st, this.options.format, true);\n                        var end     = w2utils.isDate(en, this.options.format, true);\n                        var current = new Date(dt);\n                        if (!start) start = current;\n                        if (!end) end = current;\n                        if (current >= start && current <= end) inRange = true;\n                    } else {\n                        inRange = true;\n                    }\n                    // block predefined dates\n                    if (this.options.blocked && $.inArray(str, this.options.blocked) != -1) inRange = false;\n                }\n            }\n            if (this.type == 'time') {\n                if (this.options.start || this.options.end) {\n                    var tm  = this.toMin(str);\n                    var tm1 = this.toMin(this.options.start);\n                    var tm2 = this.toMin(this.options.end);\n                    if (!tm1) tm1 = tm;\n                    if (!tm2) tm2 = tm;\n                    if (tm >= tm1 && tm <= tm2) inRange = true;\n                } else {\n                    inRange = true;\n                }\n            }\n            return inRange;\n        },\n\n        /*\n        *  INTERNAL FUNCTIONS\n        */\n\n        checkType: function (ch, loose) {\n            var obj = this;\n            switch (obj.type) {\n                case 'int':\n                    if (loose && ['-', obj.options.groupSymbol].indexOf(ch) != -1) return true;\n                    return w2utils.isInt(ch.replace(obj.options.numberRE, ''));\n                case 'percent':\n                    ch = ch.replace(/%/g, '');\n                case 'float':\n                    if (loose && ['-', w2utils.settings.decimalSymbol, obj.options.groupSymbol].indexOf(ch) != -1) return true;\n                    return w2utils.isFloat(ch.replace(obj.options.numberRE, ''));\n                case 'money':\n                case 'currency':\n                    if (loose && ['-', obj.options.decimalSymbol, obj.options.groupSymbol, obj.options.currencyPrefix, obj.options.currencySuffix].indexOf(ch) != -1) return true;\n                    return w2utils.isFloat(ch.replace(obj.options.moneyRE, ''));\n                case 'hex':\n                case 'color':\n                    return w2utils.isHex(ch);\n                case 'alphanumeric':\n                    return w2utils.isAlphaNumeric(ch);\n            }\n            return true;\n        },\n\n        addPrefix: function () {\n            var obj = this;\n            setTimeout(function () {\n                if (obj.type === 'clear') return;\n                var helper;\n                var tmp = $(obj.el).data('tmp') || {};\n                if (tmp['old-padding-left']) $(obj.el).css('padding-left', tmp['old-padding-left']);\n                tmp['old-padding-left'] = $(obj.el).css('padding-left');\n                $(obj.el).data('tmp', tmp);\n                // remove if already displaed\n                if (obj.helpers.prefix) $(obj.helpers.prefix).remove();\n                if (obj.options.prefix !== '') {\n                    // add fresh\n                    $(obj.el).before(\n                        '<div class=\"w2ui-field-helper\">'+\n                            obj.options.prefix +\n                        '</div>'\n                    );\n                    helper = $(obj.el).prev();\n                    helper\n                        .css({\n                            'color'          : $(obj.el).css('color'),\n                            'font-family'    : $(obj.el).css('font-family'),\n                            'font-size'      : $(obj.el).css('font-size'),\n                            'padding-top'    : $(obj.el).css('padding-top'),\n                            'padding-bottom' : $(obj.el).css('padding-bottom'),\n                            'padding-left'   : $(obj.el).css('padding-left'),\n                            'padding-right'  : 0,\n                            'margin-top'     : (parseInt($(obj.el).css('margin-top'), 10) + 2) + 'px',\n                            'margin-bottom'  : (parseInt($(obj.el).css('margin-bottom'), 10) + 1) + 'px',\n                            'margin-left'    : $(obj.el).css('margin-left'),\n                            'margin-right'   : 0\n                        })\n                        .on('click', function (event) {\n                            if (obj.options.icon && typeof obj.onIconClick == 'function') {\n                                // event before\n                                var eventData = obj.trigger({ phase: 'before', type: 'iconClick', target: obj.el, el: $(this).find('span.w2ui-icon')[0] });\n                                if (eventData.isCancelled === true) return;\n                                \n                                // intentionally empty\n\n                                // event after\n                                obj.trigger($.extend(eventData, { phase: 'after' }));                                \n                            } else {\n                                if (obj.type == 'list') {\n                                    $(obj.helpers.focus).find('input').focus();\n                                } else {\n                                    $(obj.el).focus();\n                                }\n                            }\n                        });\n                    $(obj.el).css('padding-left', (helper.width() + parseInt($(obj.el).css('padding-left'), 10)) + 'px');\n                    // remember helper\n                    obj.helpers.prefix = helper;\n                }\n            }, 1);\n        },\n\n        addSuffix: function () {\n            var obj = this;\n            var helper, pr;\n            setTimeout(function () {\n                if (obj.type === 'clear') return;\n                var tmp = $(obj.el).data('tmp') || {};\n                if (tmp['old-padding-right']) $(obj.el).css('padding-right', tmp['old-padding-right']);\n                tmp['old-padding-right'] = $(obj.el).css('padding-right');\n                $(obj.el).data('tmp', tmp);\n                pr = parseInt($(obj.el).css('padding-right'), 10);\n                if (obj.options.arrows) {\n                    // remove if already displaed\n                    if (obj.helpers.arrows) $(obj.helpers.arrows).remove();\n                    // add fresh\n                    $(obj.el).after(\n                        '<div class=\"w2ui-field-helper\" style=\"border: 1px solid transparent\">&nbsp;'+\n                        '    <div class=\"w2ui-field-up\" type=\"up\">'+\n                        '        <div class=\"arrow-up\" type=\"up\"></div>'+\n                        '    </div>'+\n                        '    <div class=\"w2ui-field-down\" type=\"down\">'+\n                        '        <div class=\"arrow-down\" type=\"down\"></div>'+\n                        '    </div>'+\n                        '</div>');\n                    var height = w2utils.getSize(obj.el, 'height');\n                    helper = $(obj.el).next();\n                    helper.css({\n                            'color'         : $(obj.el).css('color'),\n                            'font-family'   : $(obj.el).css('font-family'),\n                            'font-size'     : $(obj.el).css('font-size'),\n                            'height'        : ($(obj.el).height() + parseInt($(obj.el).css('padding-top'), 10) + parseInt($(obj.el).css('padding-bottom'), 10) ) + 'px',\n                            'padding'       : 0,\n                            'margin-top'    : (parseInt($(obj.el).css('margin-top'), 10) + 1) + 'px',\n                            'margin-bottom' : 0,\n                            'border-left'   : '1px solid silver'\n                        })\n                        .css('margin-left', '-'+ (helper.width() + parseInt($(obj.el).css('margin-right'), 10) + 12) + 'px')\n                        .on('mousedown', function (event) {\n                            var body = $('body');\n                            body.on('mouseup', tmp);\n                            body.data('_field_update_timer', setTimeout(update, 700));\n                            update(false);\n                            // timer function\n                            function tmp() {\n                                clearTimeout(body.data('_field_update_timer'));\n                                body.off('mouseup', tmp);\n                            }\n                            // update function\n                            function update(notimer) {\n                                $(obj.el).focus();\n                                obj.keyDown($.Event(\"keydown\"), {\n                                    keyCode : ($(event.target).attr('type') == 'up' ? 38 : 40)\n                                });\n                                if (notimer !== false) $('body').data('_field_update_timer', setTimeout(update, 60));\n                            }\n                        });\n                    pr += helper.width() + 12;\n                    $(obj.el).css('padding-right', pr + 'px');\n                    // remember helper\n                    obj.helpers.arrows = helper;\n                }\n                if (obj.options.suffix !== '') {\n                    // remove if already displaed\n                    if (obj.helpers.suffix) $(obj.helpers.suffix).remove();\n                    // add fresh\n                    $(obj.el).after(\n                        '<div class=\"w2ui-field-helper\">'+\n                            obj.options.suffix +\n                        '</div>');\n                    helper = $(obj.el).next();\n                    helper\n                        .css({\n                            'color'          : $(obj.el).css('color'),\n                            'font-family'    : $(obj.el).css('font-family'),\n                            'font-size'      : $(obj.el).css('font-size'),\n                            'padding-top'    : $(obj.el).css('padding-top'),\n                            'padding-bottom' : $(obj.el).css('padding-bottom'),\n                            'padding-left'   : '3px',\n                            'padding-right'  : $(obj.el).css('padding-right'),\n                            'margin-top'     : (parseInt($(obj.el).css('margin-top'), 10) + 2) + 'px',\n                            'margin-bottom'  : (parseInt($(obj.el).css('margin-bottom'), 10) + 1) + 'px'\n                        })\n                        .on('click', function (event) {\n                            if (obj.type == 'list') {\n                                $(obj.helpers.focus).find('input').focus();\n                            } else {\n                                $(obj.el).focus();\n                            }\n                        });\n\n                    helper.css('margin-left', '-'+ (w2utils.getSize(helper, 'width') + parseInt($(obj.el).css('margin-right'), 10) + 2) + 'px');\n                    pr += helper.width() + 3;\n                    $(obj.el).css('padding-right', pr + 'px');\n                    // remember helper\n                    obj.helpers.suffix = helper;\n                }\n            }, 1);\n        },\n\n        addFocus: function () {\n            var obj      = this;\n            var options  = this.options;\n            var width    = 0; // 11 - show search icon, 0 do not show\n            var pholder;\n            // clean up & init\n            $(obj.helpers.focus).remove();\n            // build helper\n            var html =\n                '<div class=\"w2ui-field-helper\">'+ \n                '    <div class=\"w2ui-icon icon-search\" style=\"opacity: 0\"></div>'+\n                '    <input type=\"text\" autocomplete=\"off\">'+\n                '<div>';\n            $(obj.el).attr('tabindex', -1).before(html);\n            var helper = $(obj.el).prev();\n            obj.helpers.focus = helper;\n            helper.css({\n                    width           : $(obj.el).width(),\n                    \"margin-top\"    : $(obj.el).css('margin-top'),\n                    \"margin-left\"   : (parseInt($(obj.el).css('margin-left')) + parseInt($(obj.el).css('padding-left'))) + 'px',\n                    \"margin-bottom\" : $(obj.el).css('margin-bottom'),\n                    \"margin-right\"  : $(obj.el).css('margin-right')\n                })\n                .find('input')\n                .css({\n                    cursor   : 'default',\n                    width    : '100%',\n                    outline  : 'none',\n                    opacity  : 1,\n                    margin   : 0,\n                    border   : '1px solid transparent',\n                    padding  : $(obj.el).css('padding-top'),\n                    \"padding-left\"     : 0,\n                    \"margin-left\"      : (width > 0 ? width + 6 : 0),\n                    \"background-color\" : 'transparent'\n                });\n            // INPUT events\n            helper.find('input')\n                .on('click', function (event) {\n                    if ($('#w2ui-overlay').length == 0) obj.focus(event);\n                    event.stopPropagation();\n                })\n                .on('focus', function (event) {\n                    pholder = $(obj.el).attr('placeholder');\n                    $(obj.el).css({ 'outline': 'auto 5px #7DB4F3', 'outline-offset': '-2px' });\n                    $(this).val('');\n                    $(obj.el).triggerHandler('focus');\n                    if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                })\n                .on('blur', function (event) {\n                    $(obj.el).css('outline', 'none');\n                    $(this).val('');\n                    obj.refresh(); \n                    $(obj.el).triggerHandler('blur');\n                    if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    if (pholder != null) $(obj.el).attr('placeholder', pholder);\n                })\n                .on('keydown', function (event) {\n                    var el = this;\n                    obj.keyDown(event);\n                    setTimeout(function () { \n                        if (el.value == '') $(obj.el).attr('placeholder', pholder); else $(obj.el).attr('placeholder', '');\n                    }, 10);\n                })\n                .on('keyup', function (event) { obj.keyUp(event) })\n                .on('keypress', function (event) { obj.keyPress(event); });\n            // MAIN div\n            helper.on('click', function (event) { $(this).find('input').focus(); });\n            obj.refresh();\n        },    \n\n        addMulti: function () {\n            var obj         = this;\n            var options     = this.options;\n            // clean up & init\n            $(obj.helpers.multi).remove();\n            // build helper\n            var html   = '';\n            var margin =\n                'margin-top     : 0px; ' +\n                'margin-bottom  : 0px; ' +\n                'margin-left    : ' + $(obj.el).css('margin-left') + '; ' +\n                'margin-right   : ' + $(obj.el).css('margin-right') + '; '+\n                'width          : ' + (w2utils.getSize(obj.el, 'width')\n                                    - parseInt($(obj.el).css('margin-left'), 10)\n                                    - parseInt($(obj.el).css('margin-right'), 10))\n                                    + 'px;';\n            if (obj.type == 'enum') {\n                html =  '<div class=\"w2ui-field-helper w2ui-list\" style=\"'+ margin + '; box-sizing: border-box\">'+\n                        '    <div style=\"padding: 0px; margin: 0px; display: inline-block\" class=\"w2ui-multi-items\">'+\n                        '    <ul>'+\n                        '        <li style=\"padding-left: 0px; padding-right: 0px\" class=\"nomouse\">'+\n                        '            <input type=\"text\" style=\"width: 20px\" autocomplete=\"off\" '+ ($(obj.el).attr('readonly') ? 'readonly': '') + '>'+\n                        '        </li>'+\n                        '    </ul>'+\n                        '    </div>'+\n                        '</div>';\n            }\n            if (obj.type == 'file') {\n                html =  '<div class=\"w2ui-field-helper w2ui-list\" style=\"'+ margin + '; box-sizing: border-box\">'+\n                        '   <div style=\"position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px;\">'+\n                        '       <input class=\"file-input\" type=\"file\" style=\"width: 100%; height: 100%; opacity: 0;\" name=\"attachment\" multiple tabindex=\"-1\">'+\n                        '   </div>'+\n                        '    <div style=\"position: absolute; padding: 0px; margin: 0px; display: inline-block\" class=\"w2ui-multi-items\">'+\n                        '        <ul><li style=\"padding-left: 0px; padding-right: 0px\" class=\"nomouse\"></li></ul>'+                        \n                        '    </div>'+\n                        '</div>';\n            }\n            // old bg and boder\n            var tmp = $(obj.el).data('tmp') || {};\n            tmp['old-background-color'] = $(obj.el).css('background-color');\n            tmp['old-border-color']     = $(obj.el).css('border-color');\n            $(obj.el).data('tmp', tmp);\n\n            $(obj.el)\n                .before(html)\n                .css({\n                    'background-color' : 'transparent',\n                    'border-color'     : 'transparent'\n                });\n\n            var div    = $(obj.el).prev();\n            obj.helpers.multi = div;\n            if (obj.type == 'enum') {\n                $(obj.el).attr('tabindex', -1);\n                // INPUT events\n                div.find('input')\n                    .on('click', function (event) {\n                        if ($('#w2ui-overlay').length == 0) obj.focus(event);\n                        $(obj.el).triggerHandler('click');\n                    })\n                    .on('focus', function (event) {\n                        $(div).css({ 'outline': 'auto 5px #7DB4F3', 'outline-offset': '-2px' });\n                        $(obj.el).triggerHandler('focus');\n                        if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    })\n                    .on('blur', function (event) {\n                        $(div).css('outline', 'none');\n                        $(obj.el).triggerHandler('blur');\n                        if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\n                    })\n                    .on('keyup',    function (event) { obj.keyUp(event) })\n                    .on('keydown',  function (event) { obj.keyDown(event) })\n                    .on('keypress', function (event) { div.find('.w2ui-enum-placeholder').remove(); obj.keyPress(event); });\n                // MAIN div\n                div.on('click', function (event) { $(this).find('input').focus(); });\n            }\n            if (obj.type == 'file') {\n                $(obj.el).css('outline', 'none');\n                div.on('click', function (event) {\n                        $(obj.el).focus();\n                        if ($(obj.el).attr('readonly')) return;\n                        obj.blur(event);\n                        obj.resize();\n                        setTimeout(function () { div.find('input').click(); }, 10); // needed this when clicked on items div\n                    })\n                    .on('dragenter', function (event) {\n                        if ($(obj.el).attr('readonly')) return;\n                        $(div).addClass('w2ui-file-dragover'); \n                    })\n                    .on('dragleave', function (event) {\n                        if ($(obj.el).attr('readonly')) return;\n                        var tmp = $(event.target).parents('.w2ui-field-helper');\n                        if (tmp.length == 0) $(div).removeClass('w2ui-file-dragover');\n                    })\n                    .on('drop', function (event) {\n                        if ($(obj.el).attr('readonly')) return;\n                        $(div).removeClass('w2ui-file-dragover');\n                        var files = event.originalEvent.dataTransfer.files;\n                        for (var i = 0, l = files.length; i < l; i++) obj.addFile.call(obj, files[i]);\n                        // cancel to stop browser behaviour\n                        event.preventDefault();\n                        event.stopPropagation();\n                    })\n                    .on('dragover', function (event) {\n                        // cancel to stop browser behaviour\n                        event.preventDefault();\n                        event.stopPropagation();\n                    });\n                div.find('input')\n                    .on('click', function (event) {\n                        event.stopPropagation();\n                    })\n                    .on('change', function () {\n                        if (typeof this.files !== \"undefined\") {\n                            for (var i = 0, l = this.files.length; i < l; i++) {\n                                obj.addFile.call(obj, this.files[i]);\n                            }\n                        }\n                    });\n            }\n            obj.refresh();\n        },    \n\n        addFile: function (file) {\n            var obj      = this;\n            var options  = this.options;\n            var selected = $(obj.el).data('selected');\n            var newItem  = {\n                name     : file.name,\n                type     : file.type,\n                modified : file.lastModifiedDate,\n                size     : file.size,\n                content  : null,\n                file     : file\n            };\n            var size = 0;\n            var cnt  = 0;\n            var err;\n            for (var s in selected) { \n                // check for dups\n                if (selected[s].name == file.name && selected[s].size == file.size) return;\n                size += selected[s].size; cnt++; \n            }\n            // trigger event\n            var eventData = obj.trigger({ phase: 'before', type: 'add', target: obj.el, file: newItem, total: cnt, totalSize: size });\n            if (eventData.isCancelled === true) return;\n            // check params\n            if (options.maxFileSize !== 0 && newItem.size > options.maxFileSize) {\n                err = 'Maximum file size is '+ w2utils.formatSize(options.maxFileSize);\n                if (options.silent === false) $(obj.el).w2tag(err);\n                console.log('ERROR: '+ err);\n                return;\n            }\n            if (options.maxSize !== 0 && size + newItem.size > options.maxSize) {\n                err = 'Maximum total size is '+ w2utils.formatSize(options.maxSize);\n                if (options.silent === false) $(obj.el).w2tag(err);\n                console.log('ERROR: '+ err);\n                return;\n            }\n            if (options.max !== 0 && cnt >= options.max) {\n                err = 'Maximum number of files is '+ options.max;\n                if (options.silent === false) $(obj.el).w2tag(err);\n                console.log('ERROR: '+ err);\n                return;\n            }\n            selected.push(newItem);\n            // read file as base64\n            if (typeof FileReader !== \"undefined\") {\n                var reader = new FileReader();\n                // need a closure\n                reader.onload = (function () {\n                    return function (event) {\n                        var fl  = event.target.result;\n                        var ind = fl.indexOf(',');\n                        newItem.content = fl.substr(ind+1);\n                        obj.refresh();\n                        $(obj.el).trigger('change');\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                    };\n                })();\n                reader.readAsDataURL(file);\n            } else {\n                obj.refresh();\n                $(obj.el).trigger('change');\n            }\n        },\n\n        normMenu: function (menu) {\n            if ($.isArray(menu)) {\n                for (var m = 0; m < menu.length; m++) {\n                    if (typeof menu[m] == 'string') {\n                        menu[m] = { id: menu[m], text: menu[m] };\n                    } else {\n                        if (typeof menu[m].text != 'undefined' && typeof menu[m].id == 'undefined') menu[m].id = menu[m].text;\n                        if (typeof menu[m].text == 'undefined' && typeof menu[m].id != 'undefined') menu[m].text = menu[m].id;\n                        if (typeof menu[m].caption != 'undefined') menu[m].text = menu[m].caption;\n                    }\n                }\n                return menu;\n            } else if (typeof menu == 'object') {\n                var tmp = [];\n                for (var m in menu) tmp.push({ id: m, text: menu[m] });\n                return tmp;\n            }\n        },\n\n        getColorHTML: function () {\n            var html =  '<div class=\"w2ui-color\">'+\n                        '<table cellspacing=\"5\">';\n            for (var i = 0; i < 8; i++) {\n                html += '<tr>';\n                for (var j = 0; j < 8; j++) {\n                    html += '<td>'+\n                            '    <div class=\"color\" style=\"background-color: #'+ this.pallete[i][j] +';\" name=\"'+ this.pallete[i][j] +'\" index=\"'+ i + ':' + j +'\">'+\n                            '        '+ ($(this.el).val() == this.pallete[i][j] ? '&#149;' : '&nbsp;')+\n                            '    </div>'+\n                            '</td>';\n                }\n                html += '</tr>';\n                if (i < 2) html += '<tr><td style=\"height: 8px\" colspan=\"8\"></td></tr>';\n            }\n            html += '</table></div>';\n            return html;\n        },\n\n        getMonthHTML: function (month, year) {\n            var td          = new Date();\n            var months      = w2utils.settings.fullmonths;\n            var daysCount   = ['31', '28', '31', '30', '31', '30', '31', '31', '30', '31', '30', '31'];\n            var today       = td.getFullYear() + '/' + (Number(td.getMonth()) + 1) + '/' + td.getDate();\n            var days        = w2utils.settings.fulldays.slice();    // creates copy of the array\n            var sdays       = w2utils.settings.shortdays.slice();   // creates copy of the array            \n            if (w2utils.settings.weekStarts != 'M') {\n                days.unshift(days.pop());\n                sdays.unshift(sdays.pop());\n            }\n            // normalize date\n            year  = w2utils.isInt(year)  ? parseInt(year)  : td.getFullYear();\n            month = w2utils.isInt(month) ? parseInt(month) : td.getMonth() + 1;\n            if (month > 12) { month -= 12; year++; }\n            if (month < 1 || month === 0)  { month += 12; year--; }\n            if (year/4 == Math.floor(year/4)) { daysCount[1] = '29'; } else { daysCount[1] = '28'; }\n            this.options.current = month + '/' + year;\n\n            // start with the required date\n            td = new Date(year, month-1, 1);\n            var weekDay = td.getDay();\n            var dayTitle = '';\n            for (var i = 0; i < sdays.length; i++) dayTitle += '<td title=\"'+ days[i] +'\">' + sdays[i] + '</td>';\n\n            var html  =\n                '<div class=\"w2ui-calendar-title title\">'+\n                '    <div class=\"w2ui-calendar-previous previous\"> <div></div> </div>'+\n                '    <div class=\"w2ui-calendar-next next\"> <div></div> </div> '+\n                        months[month-1] +', '+ year +\n                '</div>'+\n                '<table class=\"w2ui-calendar-days\" cellspacing=\"0\">'+\n                '    <tr class=\"w2ui-day-title\">' + dayTitle + '</tr>'+\n                '    <tr>';\n\n            var day = 1;\n            if (w2utils.settings.weekStarts != 'M') weekDay++;\n            for (var ci = 1; ci < 43; ci++) {\n                if (weekDay === 0 && ci == 1) {\n                    for (var ti = 0; ti < 6; ti++) html += '<td class=\"w2ui-day-empty\">&nbsp;</td>';\n                    ci += 6;\n                } else {\n                    if (ci < weekDay || day > daysCount[month-1]) {\n                        html += '<td class=\"w2ui-day-empty\">&nbsp;</td>';\n                        if ((ci) % 7 === 0) html += '</tr><tr>';\n                        continue;\n                    }\n                }\n                var dt  = year + '/' + month + '/' + day;\n                var DT  = new Date(dt);\n                var className = '';\n                if (DT.getDay() == 6) className  = ' w2ui-saturday';\n                if (DT.getDay() == 0) className  = ' w2ui-sunday';\n                if (dt == today) className += ' w2ui-today';\n\n                var dspDay  = day;\n                var col     = '';\n                var bgcol   = '';\n                var tmp_dt  = w2utils.formatDate(dt, this.options.format);\n                if (this.options.colored && this.options.colored[tmp_dt] !== undefined) { // if there is predefined colors for dates\n                    var tmp = this.options.colored[tmp_dt].split(':');\n                    bgcol   = 'background-color: ' + tmp[0] + ';';\n                    col     = 'color: ' + tmp[1] + ';';\n                }\n                html += '<td class=\"'+ (this.inRange(tmp_dt) ? 'w2ui-date ' : 'w2ui-blocked') + className + '\" style=\"'+ col + bgcol + '\" date=\"'+ tmp_dt +'\">'+\n                            dspDay +\n                        '</td>';\n                if (ci % 7 === 0 || (weekDay === 0 && ci == 1)) html += '</tr><tr>';\n                day++;\n            }\n            html += '</tr></table>';\n            return html;\n        },\n\n        getYearHTML: function () {\n            var months = w2utils.settings.shortmonths;\n            var mhtml  = '';\n            var yhtml  = '';\n            for (var m = 0; m < months.length; m++) {\n                mhtml += '<div class=\"w2ui-jump-month\" name=\"'+ m +'\">'+ months[m] + '</div>';\n            }\n            for (var y = 1950; y <= 2020; y++) {\n                yhtml += '<div class=\"w2ui-jump-year\" name=\"'+ y +'\">'+ y + '</div>'\n            }\n            return '<div>'+ mhtml +'</div><div>'+ yhtml +'</div>';\n        },\n\n        getHourHTML: function () {\n            var tmp = [];\n            var h24 = (this.options.format == 'h24');\n            for (var a = 0; a < 24; a++) {\n                var time = (a >= 12 && !h24 ? a - 12 : a) + ':00' + (!h24 ? (a < 12 ? ' am' : ' pm') : '');\n                if (a == 12 && !h24) time = '12:00 pm';\n                if (!tmp[Math.floor(a/8)]) tmp[Math.floor(a/8)] = '';\n                var tm1 = this.fromMin(this.toMin(time));\n                var tm2 = this.fromMin(this.toMin(time) + 59);\n                tmp[Math.floor(a/8)] += '<div class=\"'+ (this.inRange(tm1) || this.inRange(tm2) ? 'w2ui-time ' : 'w2ui-blocked') + '\" hour=\"'+ a +'\">'+ time +'</div>';\n            }\n            var html =\n                '<div class=\"w2ui-calendar-time\"><table><tr>'+\n                '    <td>'+ tmp[0] +'</td>' +\n                '    <td>'+ tmp[1] +'</td>' +\n                '    <td>'+ tmp[2] +'</td>' +\n                '</tr></table></div>';\n            return html;\n        },\n\n        getMinHTML: function (hour) {\n            if (typeof hour == 'undefined') hour = 0;\n            var h24 = (this.options.format == 'h24');\n            var tmp = [];\n            for (var a = 0; a < 60; a += 5) {\n                var time = (hour > 12 && !h24 ? hour - 12 : hour) + ':' + (a < 10 ? 0 : '') + a + ' ' + (!h24 ? (hour < 12 ? 'am' : 'pm') : '');\n                var ind = a < 20 ? 0 : (a < 40 ? 1 : 2);\n                if (!tmp[ind]) tmp[ind] = '';\n                tmp[ind] += '<div class=\"'+ (this.inRange(time) ? 'w2ui-time ' : 'w2ui-blocked') + '\" min=\"'+ a +'\">'+ time +'</div>';\n            }\n            var html =\n                '<div class=\"w2ui-calendar-time\"><table><tr>'+\n                '    <td>'+ tmp[0] +'</td>' +\n                '    <td>'+ tmp[1] +'</td>' +\n                '    <td>'+ tmp[2] +'</td>' +\n                '</tr></table></div>';\n            return html;\n        },\n\n        toMin: function (str) {\n            if (typeof str != 'string') return null;\n            var tmp = str.split(':');\n            if (tmp.length == 2) {\n                tmp[0] = parseInt(tmp[0]);\n                tmp[1] = parseInt(tmp[1]);\n                if (str.indexOf('pm') != -1 && tmp[0] != 12) tmp[0] += 12;\n            } else {\n                return null;\n            }\n            return tmp[0] * 60 + tmp[1];\n        },\n\n        fromMin: function (time) {\n            var ret = '';\n            if (time >= 24 * 60) time = time % (24 * 60);\n            if (time < 0) time = 24 * 60 + time;\n            var hour = Math.floor(time/60);\n            var min  = ((time % 60) < 10 ? '0' : '') + (time % 60);\n            if (this.options.format.indexOf('h24') != -1) {\n                ret = hour + ':' + min;\n            } else {\n                ret = (hour <= 12 ? hour : hour - 12) + ':' + min + ' ' + (hour >= 12 ? 'pm' : 'am');\n            }\n            return ret;\n        }\n    };\n\n    $.extend(w2field.prototype, w2utils.event);\n    w2obj.field = w2field;\n\n}) (jQuery);\n\n/************************************************************************\n*   Library: Web 2.0 UI for jQuery (using prototypical inheritance)\n*   - Following objects defined\n*        - w2form      - form widget\n*        - $().w2form  - jQuery wrapper\n*   - Dependencies: jQuery, w2utils, w2fields, w2tabs, w2toolbar, w2alert\n*\n* == NICE TO HAVE ==\n*   - refresh(field) - would refresh only one field\n*   - include delta on save\n*   - form should read <select> <options> into items\n*   - two way data bindings\n*   - verify validation of fields\n*   - added getChanges() - not complete\n*   - nested record object\n*\n* == 1.5 changes\n*   - $('#form').w2form() - if called w/o argument then it returns form object\n*   - added onProgress\n*   - added field.html.style (for the whole field)\n*   - added enable/disable, show/hide\n*   - added field.disabled, field.hidden\n*   - when field is blank, set record.field = null\n*   - action: { caption: 'Limpiar', style: '', class: '', onClick: function () {} }\n*\n************************************************************************/\n\n\n(function () {\n    var w2form = function(options) {\n        // public properties\n        this.name      = null;\n        this.header    = '';\n        this.box       = null;     // HTML element that hold this element\n        this.url       = '';\n        this.routeData = {};       // data for dynamic routes\n        this.formURL   = '';       // url where to get form HTML\n        this.formHTML  = '';       // form HTML (might be loaded from the url)\n        this.page      = 0;        // current page\n        this.recid     = 0;        // can be null or 0\n        this.fields    = [];\n        this.actions   = {};\n        this.record    = {};\n        this.original  = {};\n        this.postData  = {};\n        this.toolbar   = {};       // if not empty, then it is toolbar\n        this.tabs      = {};       // if not empty, then it is tabs object\n\n        this.style         = '';\n        this.focus         = 0;    // focus first or other element\n        this.msgNotJSON    = w2utils.lang('Return data is not in JSON format.');\n        this.msgAJAXerror  = w2utils.lang('AJAX error. See console for more details.');\n        this.msgRefresh    = w2utils.lang('Refreshing...');\n        this.msgSaving     = w2utils.lang('Saving...');\n\n        // events\n        this.onRequest   = null;\n        this.onLoad      = null;\n        this.onValidate  = null;\n        this.onSubmit    = null;\n        this.onProgress  = null;\n        this.onSave      = null;\n        this.onChange    = null;\n        this.onRender    = null;\n        this.onRefresh   = null;\n        this.onResize    = null;\n        this.onDestroy   = null;\n        this.onAction    = null;\n        this.onToolbar   = null;\n        this.onError     = null;\n\n        // internal\n        this.isGenerated = false;\n        this.last = {\n            xhr: null        // jquery xhr requests\n        };\n\n        $.extend(true, this, w2obj.form, options);\n    };\n\n    // ====================================================\n    // -- Registers as a jQuery plugin\n\n    $.fn.w2form = function(method) {\n        if ($.isPlainObject(method)) {\n            var obj = this;\n            // check name parameter\n            if (!w2utils.checkName(method, 'w2form')) return;\n            // remember items\n            var record   = method.record;\n            var original = method.original;\n            var fields   = method.fields;\n            var toolbar  = method.toolbar;\n            var tabs     = method.tabs;\n            // extend items\n            var object = new w2form(method);\n            $.extend(object, { record: {}, original: {}, fields: [], tabs: {}, toolbar: {}, handlers: [] });\n            if ($.isArray(tabs)) {\n                $.extend(true, object.tabs, { tabs: [] });\n                for (var t = 0; t < tabs.length; t++) {\n                    var tmp = tabs[t];\n                    if (typeof tmp === 'object') object.tabs.tabs.push(tmp); else object.tabs.tabs.push({ id: tmp, caption: tmp });\n                }\n            } else {\n                $.extend(true, object.tabs, tabs);\n            }\n            $.extend(true, object.toolbar, toolbar);\n            // reassign variables\n            if (fields) for (var p = 0; p < fields.length; p++) {\n                var field = $.extend(true, {}, fields[p]);\n                if (typeof field.name == 'undefined' && typeof field.field != 'undefined') field.name = field.field;\n                if (typeof field.field == 'undefined' && typeof field.name != 'undefined') field.field = field.name;\n                object.fields[p] = field;\n            }\n            for (var p in record) { // it is an object\n                if ($.isPlainObject(record[p])) {\n                    object.record[p] = $.extend(true, {}, record[p]);\n                } else {\n                    object.record[p] = record[p];\n                }\n            }\n            for (var p in original) { // it is an object\n                if ($.isPlainObject(original[p])) {\n                    object.original[p] = $.extend(true, {}, original[p]);\n                } else {\n                    object.original[p] = original[p];\n                }\n            }\n            if (obj.length > 0) object.box = obj[0];\n            // render if necessary\n            if (object.formURL != '') {\n                $.get(object.formURL, function (data) { // should always be $.get as it is template\n                    object.formHTML = data;\n                    object.isGenerated = true;\n                    if ($(object.box).length != 0 || data.length != 0) {\n                        $(object.box).html(data);\n                        object.render(object.box);\n                    }\n                });\n            } else if (object.formHTML != '') {\n                // it is already loaded into formHTML\n            } else if ($(this).length != 0 && $.trim($(this).html()) != '') {\n                object.formHTML = $(this).html();\n            }  else { // try to generate it\n                object.formHTML = object.generateHTML();\n            }\n            // register new object\n            w2ui[object.name] = object;\n            // render if not loaded from url\n            if (object.formURL == '') {\n                if (String(object.formHTML).indexOf('w2ui-page') == -1) {\n                    object.formHTML = '<div class=\"w2ui-page page-0\">'+ object.formHTML +'</div>';\n                }\n                $(object.box).html(object.formHTML);\n                object.isGenerated = true;\n                object.render(object.box);\n            }\n            return object;\n\n        } else {\n            var obj = w2ui[$(this).attr('name')];\n            if (!obj) return null;\n            if (arguments.length > 0) {\n                if (obj[method]) obj[method].apply(obj, Array.prototype.slice.call(arguments, 1));\n                return this;\n            } else {\n                return obj;\n            }\n        }\n    };\n\n    // ====================================================\n    // -- Implementation of core functionality\n\n    w2form.prototype = {\n\n        get: function (field, returnIndex) {\n            if (arguments.length === 0) {\n                var all = [];\n                for (var f1 = 0; f1 < this.fields.length; f1++) {\n                    if (this.fields[f1].name != null) all.push(this.fields[f1].name);\n                }\n                return all;\n            } else {\n                for (var f2 = 0; f2 < this.fields.length; f2++) {\n                    if (this.fields[f2].name == field) {\n                        if (returnIndex === true) return f2; else return this.fields[f2];\n                    }\n                }\n                return null;\n            }\n        },\n\n        set: function (field, obj) {\n            for (var f = 0; f < this.fields.length; f++) {\n                if (this.fields[f].name == field) {\n                    $.extend(this.fields[f] , obj);\n                    this.refresh();\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        show: function () {\n            var affected = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var fld = this.get(arguments[a]);\n                if (fld && fld.hidden) { \n                    fld.hidden = false;\n                    affected++;\n                }\n            }\n            if (affected > 0) this.refresh();\n            return affected;\n        },\n\n        hide: function () {\n            var affected = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var fld = this.get(arguments[a]);\n                if (fld && !fld.hidden) { \n                    fld.hidden = true;\n                    affected++;\n                }\n            }\n            if (affected > 0) this.refresh();\n            return affected;\n        },\n\n        enable: function () {\n            var affected = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var fld = this.get(arguments[a]);\n                if (fld && fld.disabled) { \n                    fld.disabled = false;\n                    affected++;\n                }\n            }\n            if (affected > 0) this.refresh();\n            return affected;\n        },\n\n        disable: function () {\n            var affected = 0;\n            for (var a = 0; a < arguments.length; a++) {\n                var fld = this.get(arguments[a]);\n                if (fld && !fld.disabled) { \n                    fld.disabled = true;\n                    affected++;\n                }\n            }\n            if (affected > 0) this.refresh();\n            return affected;\n        },\n\n        reload: function (callBack) {\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url && this.recid != 0 && this.recid != null) {\n                // this.clear();\n                this.request(callBack);\n            } else {\n                // this.refresh(); // no need to refresh\n                if (typeof callBack == 'function') callBack();\n            }\n        },\n\n        clear: function () {\n            this.recid  = 0;\n            this.record = {};\n            $().w2tag();\n            this.refresh();\n        },\n\n        error: function (msg) {\n            var obj = this;\n            // let the management of the error outside of the grid\n            var eventData = this.trigger({ target: this.name, type: 'error', message: msg , xhr: this.last.xhr });\n            if (eventData.isCancelled === true) {\n                if (typeof callBack == 'function') callBack();\n                return;\n            }\n            // need a time out because message might be already up)\n            setTimeout(function () { w2alert(msg, 'Error');    }, 1);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        validate: function (showErrors) {\n            if (typeof showErrors == 'undefined') showErrors = true;\n            $().w2tag(); // hide all tags before validating\n            // validate before saving\n            var errors = [];\n            for (var f = 0; f < this.fields.length; f++) {\n                var field = this.fields[f];\n                if (this.record[field.name] == null) this.record[field.name] = '';\n                switch (field.type) {\n                    case 'int':\n                        if (this.record[field.name] && !w2utils.isInt(this.record[field.name])) {\n                            errors.push({ field: field, error: w2utils.lang('Not an integer') });\n                        }\n                        break;\n                    case 'float':\n                        if (this.record[field.name] && !w2utils.isFloat(this.record[field.name])) {\n                            errors.push({ field: field, error: w2utils.lang('Not a float') });\n                        }\n                        break;\n                    case 'money':\n                        if (this.record[field.name] && !w2utils.isMoney(this.record[field.name])) {\n                            errors.push({ field: field, error: w2utils.lang('Not in money format') });\n                        }\n                        break;\n                    case 'color':\n                    case 'hex':\n                        if (this.record[field.name] && !w2utils.isHex(this.record[field.name])) {\n                            errors.push({ field: field, error: w2utils.lang('Not a hex number') });\n                        }\n                        break;\n                    case 'email':\n                        if (this.record[field.name] && !w2utils.isEmail(this.record[field.name])) {\n                            errors.push({ field: field, error: w2utils.lang('Not a valid email') });\n                        }\n                        break;\n                    case 'checkbox':\n                        // convert true/false\n                        if (this.record[field.name] == true) this.record[field.name] = 1; else this.record[field.name] = 0;\n                        break;\n                    case 'date':\n                        // format date before submit\n                        if (!field.options.format) field.options.format = w2utils.settings.date_format;\n                        if (this.record[field.name] && !w2utils.isDate(this.record[field.name], field.options.format)) {\n                            errors.push({ field: field, error: w2utils.lang('Not a valid date') + ': ' + field.options.format });\n                        } else {\n                        }\n                        break;\n                    case 'list':\n                    case 'combo':\n                        break;\n                    case 'enum':\n                        break;\n                }\n                // === check required - if field is '0' it should be considered not empty\n                var val = this.record[field.name];\n                if (field.required && (val === '' || ($.isArray(val) && val.length == 0) || ($.isPlainObject(val) && $.isEmptyObject(val)))) {\n                    errors.push({ field: field, error: w2utils.lang('Required field') });\n                }\n                if (field.equalto && this.record[field.name] != this.record[field.equalto]) {\n                    errors.push({ field: field, error: w2utils.lang('Field should be equal to ') + field.equalto });\n                }\n            }\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'validate', errors: errors });\n            if (eventData.isCancelled === true) return;\n            // show error\n            if (showErrors) for (var e in eventData.errors) {\n                var err = eventData.errors[e];\n                if (err.field.type == 'radio') { // for radio and checkboxes\n                    $($(err.field.el).parents('div')[0]).w2tag(err.error, { \"class\": 'w2ui-error' });\n                } else if (['enum', 'file'].indexOf(err.field.type) != -1) {\n                    (function (err) {\n                        setTimeout(function () {\n                            var fld = $(err.field.el).data('w2field').helpers.multi;\n                            $(err.field.el).w2tag(err.error);\n                            $(fld).addClass('w2ui-error');\n                        }, 1);\n                    })(err);\n                } else {\n                    $(err.field.el).w2tag(err.error, { \"class\": 'w2ui-error' });\n                }\n                this.goto(errors[0].field.page);                \n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            return errors;\n        },\n\n        getChanges: function () {\n            var differ = function(record, original, result) {\n                for (var i in record) {\n                    if (typeof record[i] == \"object\") {\n                        result[i] = differ(record[i], original[i] || {}, {});\n                        if (!result[i] || $.isEmptyObject(result[i])) delete result[i];\n                    } else if (record[i] != original[i]) {\n                        result[i] = record[i];\n                    }\n                }\n                return result;\n            };\n            return differ(this.record, this.original, {});\n        },\n\n        request: function (postData, callBack) { // if (1) param then it is call back if (2) then postData and callBack\n            var obj = this;\n            // check for multiple params\n            if (typeof postData == 'function') {\n                callBack = postData;\n                postData = null;\n            }\n            if (typeof postData == 'undefined' || postData == null) postData = {};\n            if (!this.url || (typeof this.url == 'object' && !this.url.get)) return;\n            if (this.recid == null || typeof this.recid == 'undefined') this.recid = 0;\n            // build parameters list\n            var params = {};\n            // add list params\n            params['cmd']   = 'get-record';\n            params['recid'] = this.recid;\n            // append other params\n            $.extend(params, this.postData);\n            $.extend(params, postData);\n            // event before\n            var eventData = this.trigger({ phase: 'before', type: 'request', target: this.name, url: this.url, postData: params });\n            if (eventData.isCancelled === true) { if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' }); return; }\n            // default action\n            this.record   = {};\n            this.original = {};\n            // call server to get data\n            this.lock(this.msgRefresh);\n            var url = eventData.url;\n            if (typeof eventData.url == 'object' && eventData.url.get) url = eventData.url.get;\n            if (this.last.xhr) try { this.last.xhr.abort(); } catch (e) {}\n            // process url with routeData\n            if (!$.isEmptyObject(obj.routeData)) {\n                var info  = w2utils.parseRoute(url);\n                if (info.keys.length > 0) {\n                    for (var k = 0; k < info.keys.length; k++) {\n                        if (obj.routeData[info.keys[k].name] == null) continue;\n                        url = url.replace((new RegExp(':'+ info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n                    }\n                }\n            }\n            var ajaxOptions = {\n                type     : 'POST',\n                url      : url,\n                data     : eventData.postData, \n                dataType : 'text'   // expected from server\n            };\n            if (w2utils.settings.dataType == 'HTTP') {\n                ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n            }\n            if (w2utils.settings.dataType == 'RESTFULL') {\n                ajaxOptions.type = 'GET';\n                ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n            }\n            if (w2utils.settings.dataType == 'JSON') {\n                ajaxOptions.type        = 'POST';\n                ajaxOptions.data        = JSON.stringify(ajaxOptions.data);\n                ajaxOptions.contentType = 'application/json';\n            }\n            this.last.xhr = $.ajax(ajaxOptions)\n                .done(function (data, status, xhr) {\n                    obj.unlock();\n                    // event before\n                    var eventData = obj.trigger({ phase: 'before', target: obj.name, type: 'load', xhr: xhr });\n                    if (eventData.isCancelled === true) {\n                        if (typeof callBack == 'function') callBack({ status: 'error', message: 'Request aborted.' });\n                        return;\n                    }\n                    // parse server response\n                    var data;\n                    var responseText = obj.last.xhr.responseText;\n                    if (status != 'error') {\n                        // default action\n                        if (typeof responseText != 'undefined' && responseText != '') {\n                            // check if the onLoad handler has not already parsed the data\n                            if (typeof responseText == \"object\") {\n                                data = responseText;\n                            } else {\n                                // $.parseJSON or $.getJSON did not work because those expect perfect JSON data - where everything is in double quotes\n                                //\n                                // TODO: avoid (potentially malicious) code injection from the response.\n                                try { eval('data = '+ responseText); } catch (e) { }\n                            }\n                            if (typeof data == 'undefined') {\n                                data = {\n                                    status       : 'error',\n                                    message      : obj.msgNotJSON,\n                                    responseText : responseText\n                                }\n                            }\n                            if (data['status'] == 'error') {\n                                obj.error(data['message']);\n                            } else {\n                                obj.record   = $.extend({}, data.record);\n                                obj.original = $.extend({}, data.record);\n                            }\n                        }\n                    } else {\n                        obj.error('AJAX Error ' + xhr.status + ': '+ xhr.statusText);\n                        data = {\n                            status       : 'error',\n                            message      : obj.msgAJAXerror,\n                            responseText : responseText\n                        };\n                    }\n                    // event after\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                    obj.refresh();\n                    // call back\n                    if (typeof callBack == 'function') callBack(data);\n                })\n                .fail(function (xhr, status, error) {\n                    // trigger event\n                    var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n                    var eventData2 = obj.trigger({ phase: 'before', type: 'error', error: errorObj, xhr: xhr });\n                    if (eventData2.isCancelled === true) return;\n                    // default behavior\n                    if (status != 'abort') {\n                        var data;\n                        try { data = $.parseJSON(xhr.responseText) } catch (e) {}\n                        console.log('ERROR: Server communication failed.', \n                            '\\n   EXPECTED:', { status: 'success', items: [{ id: 1, text: 'item' }] }, \n                            '\\n         OR:', { status: 'error', message: 'error message' },\n                            '\\n   RECEIVED:', typeof data == 'object' ? data : xhr.responseText);\n                    }\n                    // event after\n                    obj.trigger($.extend(eventData2, { phase: 'after' }));\n                });\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        submit: function (postData, callBack) {\n            return this.save(postData, callBack);\n        },\n\n        save: function (postData, callBack) {\n            var obj = this;\n            $(this.box).find(':focus').change(); // trigger onchange\n            // check for multiple params\n            if (typeof postData == 'function') {\n                callBack = postData;\n                postData = null;\n            }\n            // validation\n            var errors = obj.validate(true);\n            if (errors.length !== 0) return;\n            // submit save\n            if (typeof postData == 'undefined' || postData == null) postData = {};\n            if (!obj.url || (typeof obj.url == 'object' && !obj.url.save)) {\n                console.log(\"ERROR: Form cannot be saved because no url is defined.\");\n                return;\n            }\n            obj.lock(obj.msgSaving + ' <span id=\"'+ obj.name +'_progress\"></span>');\n            // need timer to allow to lock\n            setTimeout(function () {\n                // build parameters list\n                var params = {};\n                // add list params\n                params['cmd']   = 'save-record';\n                params['recid'] = obj.recid;\n                // append other params\n                $.extend(params, obj.postData);\n                $.extend(params, postData);\n                params.record = $.extend(true, {}, obj.record);\n                // event before\n                var eventData = obj.trigger({ phase: 'before', type: 'submit', target: obj.name, url: obj.url, postData: params });\n                if (eventData.isCancelled === true) return;\n                // default action\n                var url = eventData.url;\n                if (typeof eventData.url == 'object' && eventData.url.save) url = eventData.url.save;\n                if (obj.last.xhr) try { obj.last.xhr.abort(); } catch (e) {}\n                // process url with routeData\n                if (!$.isEmptyObject(obj.routeData)) {\n                    var info  = w2utils.parseRoute(url);\n                    if (info.keys.length > 0) {\n                        for (var k = 0; k < info.keys.length; k++) {\n                            if (obj.routeData[info.keys[k].name] == null) continue;\n                            url = url.replace((new RegExp(':'+ info.keys[k].name, 'g')), obj.routeData[info.keys[k].name]);\n                        }\n                    }\n                }\n                var ajaxOptions = {\n                    type     : 'POST',\n                    url      : url,\n                    data     : eventData.postData, \n                    dataType : 'text',   // expected from server\n                    xhr : function() {\n                        var xhr = new window.XMLHttpRequest();\n                        // upload\n                        xhr.upload.addEventListener(\"progress\", function(evt) {\n                            if (evt.lengthComputable) {\n                                var eventData3 = obj.trigger({ phase: 'before', type: 'progress', total: evt.total, loaded: evt.loaded, originalEvent: evt });\n                                if (eventData3.isCancelled === true) return;\n                                // default behavior\n                                var percent = Math.round(evt.loaded / evt.total * 100);\n                                $('#'+ obj.name + '_progress').text(''+ percent + '%');\n                                // event after\n                                obj.trigger($.extend(eventData3, { phase: 'after' }));\n                            }\n                        }, false);\n                        return xhr;\n                    }\n                };\n                if (w2utils.settings.dataType == 'HTTP') {\n                    ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n                }\n                if (w2utils.settings.dataType == 'RESTFULL') {\n                    if (obj.recid != 0 && obj.recid != null) ajaxOptions.type = 'PUT';\n                    ajaxOptions.data = String($.param(ajaxOptions.data, false)).replace(/%5B/g, '[').replace(/%5D/g, ']');\n                }\n                if (w2utils.settings.dataType == 'JSON') {\n                    ajaxOptions.type        = 'POST';\n                    ajaxOptions.data        = JSON.stringify(ajaxOptions.data);\n                    ajaxOptions.contentType = 'application/json';\n                }\n\n                obj.last.xhr = $.ajax(ajaxOptions)\n                    .done(function (data, status, xhr) {\n                        obj.unlock();\n                        // event before\n                        var eventData = obj.trigger({ phase: 'before', target: obj.name, type: 'save', xhr: xhr, status: status });\n                        if (eventData.isCancelled === true) return;\n                        // parse server response\n                        var data;\n                        var responseText = xhr.responseText;\n                        if (status != 'error') {\n                            // default action\n                            if (typeof responseText != 'undefined' && responseText != '') {\n                                // check if the onLoad handler has not already parsed the data\n                                if (typeof responseText == \"object\") {\n                                    data = responseText;\n                                } else {\n                                    // $.parseJSON or $.getJSON did not work because those expect perfect JSON data - where everything is in double quotes\n                                    //\n                                    // TODO: avoid (potentially malicious) code injection from the response.\n                                    try { eval('data = '+ responseText); } catch (e) { }\n                                }\n                                if (typeof data == 'undefined') {\n                                    data = {\n                                        status       : 'error',\n                                        message      : obj.msgNotJSON,\n                                        responseText : responseText\n                                    }\n                                }\n                                if (data['status'] == 'error') {\n                                    obj.error(data['message']);\n                                } else {\n                                    obj.original = $.extend({}, obj.record);\n                                }\n                            }\n                        } else {\n                            obj.error('AJAX Error ' + xhr.status + ': '+ xhr.statusText);\n                            data = {\n                                status       : 'error',\n                                message      : obj.msgAJAXerror,\n                                responseText : responseText\n                            };\n                        }\n                        // event after\n                        obj.trigger($.extend(eventData, { phase: 'after' }));\n                        obj.refresh();\n                        // call back\n                        if (data.status == 'success' && typeof callBack == 'function') callBack(data);\n                    })\n                    .fail(function (xhr, status, error) {\n                        // trigger event\n                        var errorObj = { status: status, error: error, rawResponseText: xhr.responseText };\n                        var eventData2 = obj.trigger({ phase: 'before', type: 'error', error: errorObj, xhr: xhr });\n                        if (eventData2.isCancelled === true) return;\n                        // default behavior\n                        console.log('ERROR: server communication failed. The server should return', \n                            { status: 'success' }, 'OR', { status: 'error', message: 'error message' }, \n                            ', instead the AJAX request produced this: ', errorObj);\n                        // event after\n                        obj.trigger($.extend(eventData2, { phase: 'after' }));\n                    });\n                // event after\n                obj.trigger($.extend(eventData, { phase: 'after' }));\n            }, 50);\n        },\n\n        lock: function (msg, showSpinner) {\n            var box = $(this.box).find('> div:first-child');\n            var args = Array.prototype.slice.call(arguments, 0);\n            args.unshift(box);\n            w2utils.lock.apply(window, args);\n        },\n\n        unlock: function (speed) {\n            var obj = this;\n            setTimeout(function () { w2utils.unlock(obj.box, speed); }, 25); // needed timer so if server fast, it will not flash\n        },\n\n        goto: function (page) {\n            if (typeof page != 'undefined') this.page = page;\n            // if it was auto size, resize it\n            if ($(this.box).data('auto-size') === true) $(this.box).height(0);\n            this.refresh();\n        },\n\n        generateHTML: function () {\n            var pages = []; // array for each page\n            var group = '';\n            var page;\n            for (var f = 0; f < this.fields.length; f++) {\n                var html = '';\n                var field = this.fields[f];\n                if (typeof field.html == 'undefined') field.html = {};\n                field.html = $.extend(true, { caption: '', span: 6, attr: '', text: '', style: '', page: 0 }, field.html);\n                if (typeof page == 'undefined') page = field.html.page;\n                if (field.html.caption == '') field.html.caption = field.name;\n                var input = '<input name=\"'+ field.name +'\" type=\"text\" '+ field.html.attr +'/>';\n                if ((field.type === 'pass') || (field.type === 'password')){\n                    input = '<input name=\"' + field.name + '\" type = \"password\" ' + field.html.attr + '/>';\n                }\n                if (field.type == 'checkbox') input = '<input name=\"'+ field.name +'\" type=\"checkbox\" '+ field.html.attr +'/>';\n                if (field.type == 'textarea') input = '<textarea name=\"'+ field.name +'\" '+ field.html.attr +'></textarea>';\n                if (field.type == 'toggle')   input = '<input name=\"'+ field.name +'\" type=\"checkbox\" '+ field.html.attr +' class=\"w2ui-toggle\"/><div><div></div></div>';\n                if (field.html.group) {\n                    if (group != '') html += '\\n   </div>';\n                    html += '\\n   <div class=\"w2ui-group-title\">'+ field.html.group + '</div>\\n   <div class=\"w2ui-group\">';\n                    group = field.html.group;\n                }\n                if (field.html.page != page && group != '') {\n                    pages[pages.length-1] += '\\n   </div>';\n                    group = '';\n                }\n                html += '\\n      <div class=\"w2ui-field '+ (typeof field.html.span != 'undefined' ? 'w2ui-span'+ field.html.span : '') +'\" style=\"'+ field.html.style +'\">'+ \n                        '\\n         <label>' + w2utils.lang(field.html.caption) +'</label>'+\n                        '\\n         <div>'+ input + w2utils.lang(field.html.text) + '</div>'+\n                        '\\n      </div>';\n                if (typeof pages[field.html.page] == 'undefined') pages[field.html.page] = '';\n                pages[field.html.page] += html;\n                page = field.html.page;\n            }\n            if (group != '') pages[pages.length-1] += '\\n   </div>';\n            if (this.tabs.tabs) {\n                for (var i = 0; i < this.tabs.tabs.length; i++) if (typeof pages[i] == 'undefined') pages[i] = '';\n            }\n            for (var p = 0; p < pages.length; p++) pages[p] = '<div class=\"w2ui-page page-'+ p +'\">' + pages[p] + '\\n</div>';\n            // buttons if any\n            var buttons = '';\n            if (!$.isEmptyObject(this.actions)) {\n                var addClass = '';\n                buttons += '\\n<div class=\"w2ui-buttons\">';\n                for (var a in this.actions) { // it is an object\n                    var act  = this.actions[a];\n                    var info = { caption: '', style: '', \"class\": '' };\n                    if ($.isPlainObject(act)) {\n                        if (act.caption) info.caption = act.caption;\n                        if (act.style) info.style = act.style;\n                        if (act[\"class\"]) info['class'] = act['class'];\n                    } else {\n                        info.caption = a;\n                        if (['save', 'update', 'create'].indexOf(a.toLowerCase()) != -1) info['class'] = 'w2ui-btn-green'; else info['class'] = '';\n                    }\n                    buttons += '\\n    <button name=\"'+ a +'\" class=\"w2ui-btn '+ info['class'] +'\" style=\"'+ info.style +'\">'+ \n                                            w2utils.lang(info.caption) +'</button>';\n                }\n                buttons += '\\n</div>';\n            }\n            return pages.join('') + buttons;\n        },\n\n        action: function (action, event) {\n            var click = null;\n            var act   = this.actions[action];\n            var click = act;\n            if ($.isPlainObject(act) && act.onClick) click = act.onClick;\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: action, type: 'action', click: click, originalEvent: event });\n            if (eventData.isCancelled === true) return;\n            // default actions\n            if (typeof click == 'function') click.call(this, event);\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n        },\n\n        resize: function () {\n            var obj = this;\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'resize' });\n            if (eventData.isCancelled === true) return;\n            // default behaviour\n            var main    = $(this.box).find('> div');\n            var header  = $(this.box).find('> div .w2ui-form-header');\n            var toolbar = $(this.box).find('> div .w2ui-form-toolbar');\n            var tabs    = $(this.box).find('> div .w2ui-form-tabs');\n            var page    = $(this.box).find('> div .w2ui-page');\n            var cpage   = $(this.box).find('> div .w2ui-page.page-'+ this.page);\n            var dpage   = $(this.box).find('> div .w2ui-page.page-'+ this.page + ' > div');\n            var buttons = $(this.box).find('> div .w2ui-buttons');\n            // if no height, calculate it\n            resizeElements();\n            if (parseInt($(this.box).height()) == 0 || $(this.box).data('auto-size') === true) {\n                $(this.box).height(\n                    (header.length > 0 ? w2utils.getSize(header, 'height') : 0) +\n                    ((typeof this.tabs === 'object' && $.isArray(this.tabs.tabs) && this.tabs.tabs.length > 0) ? w2utils.getSize(tabs, 'height') : 0) +\n                    ((typeof this.toolbar == 'object' && $.isArray(this.toolbar.items) && this.toolbar.items.length > 0) ? w2utils.getSize(toolbar, 'height') : 0) +\n                    (page.length > 0 ? w2utils.getSize(dpage, 'height') + w2utils.getSize(cpage, '+height') + 12 : 0) +  // why 12 ???\n                    (buttons.length > 0 ? w2utils.getSize(buttons, 'height') : 0)\n                );\n                $(this.box).data('auto-size', true);\n            }\n            resizeElements();\n            // event after\n            obj.trigger($.extend(eventData, { phase: 'after' }));\n\n            function resizeElements() {\n                // resize elements\n                main.width($(obj.box).width()).height($(obj.box).height());\n                toolbar.css('top', (obj.header != '' ? w2utils.getSize(header, 'height') : 0));\n                tabs.css('top', (obj.header != '' ? w2utils.getSize(header, 'height') : 0)\n                              + ((typeof obj.toolbar == 'object' && $.isArray(obj.toolbar.items) && obj.toolbar.items.length > 0) ? w2utils.getSize(toolbar, 'height') : 0));\n                page.css('top', (obj.header != '' ? w2utils.getSize(header, 'height') : 0)\n                              + ((typeof obj.toolbar == 'object' && $.isArray(obj.toolbar.items) && obj.toolbar.items.length > 0) ? w2utils.getSize(toolbar, 'height') + 5 : 0)\n                              + ((typeof obj.tabs === 'object' && $.isArray(obj.tabs.tabs) && obj.tabs.tabs.length > 0) ? w2utils.getSize(tabs, 'height') + 5 : 0));\n                page.css('bottom', (buttons.length > 0 ? w2utils.getSize(buttons, 'height') : 0));\n            }\n        },\n\n        refresh: function () {\n            var time = (new Date()).getTime();\n            var obj = this;\n            if (!this.box) return;\n            if (!this.isGenerated || typeof $(this.box).html() == 'undefined') return;\n            // update what page field belongs\n            $(this.box).find('input, textarea, select').each(function (index, el) {\n                var name  = (typeof $(el).attr('name') != 'undefined' ? $(el).attr('name') : $(el).attr('id'));\n                var field = obj.get(name);\n                if (field) {\n                    // find page\n                    var div = $(el).parents('.w2ui-page');\n                    if (div.length > 0) {\n                        for (var i = 0; i < 100; i++) {\n                            if (div.hasClass('page-'+i)) { field.page = i; break; }\n                        }\n                    }\n                }\n            });\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'refresh', page: this.page })\n            if (eventData.isCancelled === true) return;\n            // default action\n            $(this.box).find('.w2ui-page').hide();\n            $(this.box).find('.w2ui-page.page-' + this.page).show();\n            $(this.box).find('.w2ui-form-header').html(this.header);\n            // refresh tabs if needed\n            if (typeof this.tabs === 'object' && $.isArray(this.tabs.tabs) && this.tabs.tabs.length > 0) {\n                $('#form_'+ this.name +'_tabs').show();\n                this.tabs.active = this.tabs.tabs[this.page].id;\n                this.tabs.refresh();\n            } else {\n                $('#form_'+ this.name +'_tabs').hide();\n            }\n            // refresh tabs if needed\n            if (typeof this.toolbar == 'object' && $.isArray(this.toolbar.items) && this.toolbar.items.length > 0) {\n                $('#form_'+ this.name +'_toolbar').show();\n                this.toolbar.refresh();\n            } else {\n                $('#form_'+ this.name +'_toolbar').hide();\n            }\n            // refresh values of all fields\n            for (var f = 0; f < this.fields.length; f++) {\n                var field = this.fields[f];\n                if (typeof field.name == 'undefined' && typeof field.field != 'undefined') field.name = field.field;\n                if (typeof field.field == 'undefined' && typeof field.name != 'undefined') field.field = field.name;\n                field.$el = $(this.box).find('[name=\"'+ String(field.name).replace(/\\\\/g, '\\\\\\\\') +'\"]');\n                field.el  = field.$el[0];\n                if (typeof field.el == 'undefined') {\n                    console.log('ERROR: Cannot associate field \"'+ field.name + '\" with html control. Make sure html control exists with the same name.');\n                    //return;\n                }\n                if (field.el) field.el.id = field.name;\n                var tmp = $(field).data('w2field');\n                if (tmp) tmp.clear();\n                $(field.$el).off('change').on('change', function () {\n                    var value_new      = this.value;\n                    var value_previous = obj.record[this.name] ? obj.record[this.name] : '';\n                    var field          = obj.get(this.name);\n                    if (['list', 'enum', 'file'].indexOf(field.type) != -1 && $(this).data('selected')) {\n                        var nv = $(this).data('selected');\n                        var cv = obj.record[this.name];\n                        if ($.isArray(nv)) {\n                            value_new = [];\n                            for (var i = 0; i < nv.length; i++) value_new[i] = $.extend(true, {}, nv[i]); // clone array\n                        }\n                        if ($.isPlainObject(nv)) {\n                            value_new = $.extend(true, {}, nv); // clone object\n                        }\n                        if ($.isArray(cv)) {\n                            value_previous = [];\n                            for (var i = 0; i < cv.length; i++) value_previous[i] = $.extend(true, {}, cv[i]); // clone array\n                        }\n                        if ($.isPlainObject(cv)) {\n                            value_previous = $.extend(true, {}, cv); // clone object\n                        }\n                    }\n                    if (field.type == 'toggle') value_new = ($(this).prop('checked') ? 1 : 0);\n                    // clean extra chars\n                    if (['int', 'float', 'percent', 'money', 'currency'].indexOf(field.type) != -1) {\n                        value_new = $(this).data('w2field').clean(value_new);\n                    }\n                    if (value_new === value_previous) return;\n                    // event before\n                    var eventData = obj.trigger({ phase: 'before', target: this.name, type: 'change', value_new: value_new, value_previous: value_previous });\n                    if (eventData.isCancelled === true) {\n                        $(this).val(obj.record[this.name]); // return previous value\n                        return;\n                    }\n                    // default action\n                    var val = this.value;\n                    if (this.type == 'select')   val = this.value;\n                    if (this.type == 'checkbox') val = this.checked ? true : false;\n                    if (this.type == 'radio') {\n                        field.$el.each(function (index, el) {\n                            if (el.checked) val = el.value;\n                        });\n                    }\n                    if (['int', 'float', 'percent', 'money', 'currency', 'list', 'combo', 'enum', 'file', 'toggle'].indexOf(field.type) != -1) {\n                        val = value_new;\n                    }\n                    if (['enum', 'file'].indexOf(field.type) != -1) {\n                        if (val.length > 0) {\n                            var fld = $(field.el).data('w2field').helpers.multi;\n                            $(fld).removeClass('w2ui-error');\n                        }\n                    }\n                    if (val == '' || ($.isArray(val) && val.length == 0) || ($.isPlainObject(val) && $.isEmptyObject(val))) val = null;\n                    obj.record[this.name] = val;\n                    // event after\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                });\n                // required\n                if (field.required) {\n                    $(field.el).parent().parent().addClass('w2ui-required');\n                } else {\n                    $(field.el).parent().parent().removeClass('w2ui-required');\n                }\n                // disabled\n                if (field.disabled) {\n                    $(field.el).prop('readonly', true);\n                } else {\n                    $(field.el).prop('readonly', false);\n                }\n                // hidden\n                if (field.hidden) {\n                    $(field.el).parent().parent().hide();\n                } else {\n                    $(field.el).parent().parent().show();\n                }\n            }\n            // attach actions on buttons\n            $(this.box).find('button, input[type=button]').each(function (index, el) {\n                $(el).off('click').on('click', function (event) {\n                    var action = this.value;\n                    if (this.id)   action = this.id;\n                    if (this.name) action = this.name;\n                    obj.action(action, event);\n                });\n            });\n            // init controls with record\n            for (var f = 0; f < this.fields.length; f++) {\n                var field = this.fields[f];\n                var value = (typeof this.record[field.name] != 'undefined' ? this.record[field.name] : '');\n                if (!field.el) continue;\n                field.type = String(field.type).toLowerCase();\n                if (!field.options) field.options = {};\n                switch (field.type) {\n                    case 'text':\n                    case 'textarea':\n                    case 'email':\n                    case 'pass':\n                    case 'password':\n                        field.el.value = value;\n                        break;\n                    case 'int':\n                    case 'float':\n                    case 'money':\n                    case 'currency':\n                    case 'percent':\n                        //issue #499\n                        if(typeof value == 'number'){\n                             field.el.value = w2utils.formatNumber(value,field.options.groupSymbol,field.options.decimalSymbol);\n                         } else {\n                             field.el.value = value;\n                         }\n                         $(field.el).w2field($.extend({}, field.options, { type: field.type }));\n                         break;\n                    case 'hex':\n                    case 'alphanumeric':\n                    case 'color':\n                    case 'date':\n                    case 'time':\n                        field.el.value = value;\n                        $(field.el).w2field($.extend({}, field.options, { type: field.type }));\n                        break;\n                    case 'toggle':\n                        if (w2utils.isFloat(value)) value = parseFloat(value);\n                        $(field.el).prop('checked', (value ? true : false));\n                        this.record[field.name] = (value ? 1 : 0);\n                        break;\n                    // enums\n                    case 'list':\n                    case 'combo':\n                        if (field.type == 'list') {\n                            var tmp_value = ($.isPlainObject(value) ? value.id : value);\n                            // normalized options\n                            var items = field.options.items;\n                            if ($.isArray(items) && items.length > 0 && !$.isPlainObject(items[0])) {\n                                field.options.items = w2obj.field.prototype.normMenu(items);\n                            }\n                            // find value from items \n                            for (var i = 0; i < field.options.items.length; i++) {\n                                var item = field.options.items[i];\n                                if (item.id == tmp_value) {\n                                    value = $.extend(true, {}, item);\n                                    obj.record[field.name] = value;\n                                    break;\n                                }\n                            }\n                        } else if (field.type == 'combo' && !$.isPlainObject(value)) {\n                            field.el.value = value;\n                        } else if ($.isPlainObject(value) && typeof value.text != 'undefined') {\n                            field.el.value = value.text;\n                        } else {\n                            field.el.value = '';\n                        }\n                        if (!$.isPlainObject(value)) value = {};\n                        $(field.el).w2field($.extend({}, field.options, { type: field.type, selected: value }));\n                        break;\n                    case 'enum':\n                    case 'file':\n                        if (!$.isArray(value)) value = [];\n                        $(field.el).w2field($.extend({}, field.options, { type: field.type, selected: value }));\n                        break;\n\n                    // standard HTML\n                    case 'select':\n                        // generate options\n                        var items = field.options.items;\n                        if (typeof items != 'undefined' && items.length > 0) {\n                            items = w2obj.field.prototype.normMenu(items);\n                            $(field.el).html('');\n                            for (var it = 0; it < items.length; it++) {\n                                $(field.el).append('<option value=\"'+ items[it].id +'\">' + items[it].text + '</option');\n                            }\n                        }\n                        $(field.el).val(value);\n                        break;\n                    case 'radio':\n                        $(field.$el).prop('checked', false).each(function (index, el) {\n                            if ($(el).val() == value) $(el).prop('checked', true);\n                        });\n                        break;\n                    case 'checkbox':\n                        $(field.el).prop('checked', value ? true : false);\n                        break;\n                    default:\n                        $(field.el).w2field($.extend({}, field.options, { type: field.type }));\n                        break;\n                }\n            }\n            // wrap pages in div\n            var tmp = $(this.box).find('.w2ui-page');\n            for (var i = 0; i < tmp.length; i++) {\n                if ($(tmp[i]).find('> *').length > 1) $(tmp[i]).wrapInner('<div></div>');\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            this.resize();\n            return (new Date()).getTime() - time;\n        },\n\n        render: function (box) {\n            var time = (new Date()).getTime();\n            var obj = this;\n            if (typeof box == 'object') {\n                // remove from previous box\n                if ($(this.box).find('#form_'+ this.name +'_tabs').length > 0) {\n                    $(this.box).removeAttr('name')\n                        .removeClass('w2ui-reset w2ui-form')\n                        .html('');\n                }\n                this.box = box;\n            }\n            if (!this.isGenerated) return;\n            if (!this.box) return;\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'render', box: (typeof box != 'undefined' ? box : this.box) });\n            if (eventData.isCancelled === true) return;\n            // default actions\n            if ($.isEmptyObject(this.original) && !$.isEmptyObject(this.record)) {\n                this.original = $.extend(true, {}, this.record);\n            }\n            var html =  '<div>' +\n                        (this.header != '' ? '<div class=\"w2ui-form-header\">' + this.header + '</div>' : '') +\n                        '    <div id=\"form_'+ this.name +'_toolbar\" class=\"w2ui-form-toolbar\"></div>' +\n                        '    <div id=\"form_'+ this.name +'_tabs\" class=\"w2ui-form-tabs\"></div>' +\n                            this.formHTML +\n                        '</div>';\n            $(this.box).attr('name', this.name)\n                .addClass('w2ui-reset w2ui-form')\n                .html(html);\n            if ($(this.box).length > 0) $(this.box)[0].style.cssText += this.style;\n\n            // init toolbar regardless it is defined or not\n            if (typeof this.toolbar.render !== 'function') {\n                this.toolbar = $().w2toolbar($.extend({}, this.toolbar, { name: this.name +'_toolbar', owner: this }));\n                this.toolbar.on('click', function (event) {\n                    var eventData = obj.trigger({ phase: 'before', type: 'toolbar', target: event.target, originalEvent: event });\n                    if (eventData.isCancelled === true) return;\n                    // no default action\n                    obj.trigger($.extend(eventData, { phase: 'after' }));\n                });\n            }\n            if (typeof this.toolbar == 'object' && typeof this.toolbar.render == 'function') {\n                this.toolbar.render($('#form_'+ this.name +'_toolbar')[0]);\n            }\n            // init tabs regardless it is defined or not\n            if (typeof this.tabs.render !== 'function') {\n                this.tabs = $().w2tabs($.extend({}, this.tabs, { name: this.name +'_tabs', owner: this }));\n                this.tabs.on('click', function (event) {\n                    obj.goto(this.get(event.target, true));\n                });\n            }\n            if (typeof this.tabs == 'object' && typeof this.tabs.render == 'function') {\n                this.tabs.render($('#form_'+ this.name +'_tabs')[0]);\n            }\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            // after render actions\n            this.resize();\n            var url = (typeof this.url != 'object' ? this.url : this.url.get);\n            if (url && this.recid != 0 && this.recid != null) {\n                this.request();\n            } else {\n                this.refresh();\n            }\n            // attach to resize event\n            if ($('.w2ui-layout').length == 0) { // if there is layout, it will send a resize event\n                this.tmp_resize = function (event) { w2ui[obj.name].resize(); }\n                $(window).off('resize', 'body').on('resize', 'body', this.tmp_resize);\n            }\n            setTimeout(function () { obj.resize(); obj.refresh(); }, 150); // need timer because resize is on timer\n            // focus on load\n            function focusEl() {\n                var inputs = $(obj.box).find('input, select, textarea');\n                if (inputs.length > obj.focus) inputs[obj.focus].focus();\n            }\n            if (this.focus >= 0) setTimeout(focusEl, 500); // need timeout to allow form to render\n            return (new Date()).getTime() - time;\n        },\n\n        destroy: function () {\n            // event before\n            var eventData = this.trigger({ phase: 'before', target: this.name, type: 'destroy' });\n            if (eventData.isCancelled === true) return;\n            // clean up\n            if (typeof this.toolbar == 'object' && this.toolbar.destroy) this.toolbar.destroy();\n            if (typeof this.tabs == 'object' && this.tabs.destroy) this.tabs.destroy();\n            if ($(this.box).find('#form_'+ this.name +'_tabs').length > 0) {\n                $(this.box)\n                    .removeAttr('name')\n                    .removeClass('w2ui-reset w2ui-form')\n                    .html('');\n            }\n            delete w2ui[this.name];\n            // event after\n            this.trigger($.extend(eventData, { phase: 'after' }));\n            $(window).off('resize', 'body')\n        }\n    };\n\n    $.extend(w2form.prototype, w2utils.event);\n    w2obj.form = w2form;\n})();\n"
},function(e){e.exports="/* w2ui 1.5.x (nightly) (c) http://w2ui.com, vitmalina@gmail.com */\n@font-face{font-family:w2ui-font;src:url(\"data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAWIAAoAAAAACAgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAEMAAABWQLxMsmNtYXAAAAE4AAAAOgAAAUriGRC2Z2x5ZgAAAXQAAAH9AAACgLu4vTRoZWFkAAADdAAAADAAAAA2AOYXBGhoZWEAAAOkAAAAIAAAACQD8wHHaG10eAAAA8QAAAAWAAAAIA7dAABsb2NhAAAD3AAAABIAAAASAngBuG1heHAAAAPwAAAAHwAAACABFQA2bmFtZQAABBAAAAEtAAACIsTQ/zJwb3N0AAAFQAAAAEgAAABi4/7ZEHicY2BkvMM4gYGVgYPRhTGNgYHBHUp/ZZBkaGFgYGJgZWbACgLSXFMYHD4yfmRnPPD/AIMe4wEGR6AwI0gOANHZC/IAeJxjYGBgZoBgGQZGBhBwAfIYwXwWBg0gzQakGRmYGBg+sv//D1LwkRFE8zNA1QMBIxvDiAcAddwGvgAAeJxFkLFv01AQxu97LrHdRImjpnaS1gnEia3IoqAktkkiEhaEOiCsDkEo8dyBDkytKpYKVWwssKKKAYmBREKMLJSFoRJ/AGJhY0NZGFgSzrUinvR+d++7T+/ePQLRci4IJ3SFCLIjG8CH+ZPwHHdwkkSS2PMXP3DGmUxpoo123lrt5nj8fjyejsc4W0zwNtl8FfHCKV5QnaOhF3IJUrUbkGPYnSGcGH6risBvGQhdVY0iVXXVkhJN1JL6/6xOIqWk4tRlJiVFiSJFSUrsZ+tkoqpEgt/6Hb/wjtZog2gonBx24AyFJUuNwMvha+/CvLi3vq1f785GsxGuTqfWc5O1N/r2+lNrOl38ZHnWpdUMr/CaLKLGZiHl4hI1+zasGB2/Dy9GSzfRbul4qaWPtHSQ0Y7SWpxmgnSc/mblMKNpmcOVEhfj+5d/8BGfqMl9bKuWFYWKaLf8YIAq9IKc5TY7ojNgTTcC7iEjaN4yPdswbM+81t8UimRLojq66YbdWq0bus375t21bwgcw/H6nmNUyhIkR/DsTasXPgx7VtV8oDx6XIxHE8vl8rMAzqlEDZ7QseUBPP6tLOQKDH5HqooKfLvB2gABa1lgflzI60VxsLd3IJj1YRn5/Wx9Syy++LvArn/JzH4e5WE98TCLer5wnBNb9WcrB5PoH084dg8AAAB4nGNgZGBgAOKMsPib8fw2Xxm4mRhA4PzjbBcY/f////1MjIwHgFwOBrA0AFcuDPF4nGNgZGBgPPD/AIMeEwMDw/9/TEwMQBEUwAEAe34EvHicY2JgYGCCYsbJCJpxO4QNABdTAesAAAAAAAAAEgAsAGgAjgC+AP4BQAAAeJxjYGRgYOBg0GJgZgABJiDmAkIGhv9gPgMADYEBTAB4nG2PTW7CMBCFXyBQFaQKtVKl7qwuuqkIPwsWHAD2LNiH4ARQEkeOQeICPUHP0DP0BF32DD1KX8IoixZbHn/z5o1/AAzwBQ/V8HBbx2q0cMPswm3SQNgnPwl30MezcJf6ULiHV8yE+3hAyBM8vzrtHk64hTu8Cbepvwv75A/hDh7xKdyl/i3cwxo/wn28eLN9ZPJhbHK30skxDW2TN7DWttybXE2CcaMtda5t6PRWbc6qPCVT52IVW5OpBas6TY0qrDnoyAU754r5aBSLHkQmwx4RDHL+Oq53hxU0EhyR8sf2Sv2/smaHRclKlStMEGB8xbekL6+9ITONLb0bnBlLnHjnlKqjW3FZ9mSkhfRqviclKxR17UAloh5gV3cVmGPEGf/xB/Ursl9uDmByAAAAeJxtwUEOgCAMBMAu0sI3SdMEIwKh8n8PXp2hQB+mf5kIAQciGIKEzFpNr6Sj7bs76xruMq3r2eJs22XZtPKIW1laiV6rCBDA\") format(\"woff\");font-weight:400;font-style:normal}[class^=w2ui-icon-]:before,[class*=\" w2ui-icon-\"]:before{font-family:w2ui-font;display:inline-block;vertical-align:middle;line-height:1;font-weight:400;font-style:normal;speak:none;text-decoration:inherit;text-transform:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.w2ui-icon-check:before{content:\"\\f101\"}.w2ui-icon-columns:before{content:\"\\f102\"}.w2ui-icon-cross:before{content:\"\\f103\"}.w2ui-icon-pencil:before{content:\"\\f104\"}.w2ui-icon-plus:before{content:\"\\f105\"}.w2ui-icon-reload:before{content:\"\\f106\"}.w2ui-icon-search:before{content:\"\\f107\"}.w2ui-reset{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;font-family:Verdana,Arial,sans-serif;font-size:11px}.w2ui-reset *{color:default;line-height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}.w2ui-reset table{font-family:Verdana,Arial,sans-serif;font-size:11px;max-width:none;background-color:transparent;border-collapse:separate;border-spacing:0}.w2ui-reset input,.w2ui-reset textarea{width:auto;height:auto;vertical-align:baseline;padding:4px}.w2ui-reset select{padding:1px;height:23px}.w2ui-centered{position:absolute;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);max-height:100%;margin:0;padding:0 10px;text-align:center}.w2ui-disabled,.w2ui-readonly{background-color:#f1f1f1!important;color:#777!important}input:not([type=button]),select,textarea{padding:4px;border:1px solid #bbb;border-radius:3px;color:#000;background-color:#fff;line-height:normal}input:not([type=button]):focus,select:focus,textarea:focus{outline-color:#72b2ff}input:not([type=button]):disabled,select:disabled,textarea:disabled,input:not([type=button])[readonly],select[readonly],textarea[readonly]{background-color:#f1f1f1;color:#777}input::-ms-clear{display:none}input:-ms-input-placeholder{color:#aaa!important}select{padding:2px}input[type=checkbox].w2ui-toggle{position:absolute;opacity:0;width:46px;height:22px;padding:0;margin:0;margin-left:2px}input[type=checkbox].w2ui-toggle+div{display:inline-block;width:46px;height:22px;border:1px solid #bbb;border-radius:30px;background-color:#eee;-webkit-transition-duration:.3s;-webkit-transition-property:background-color,box-shadow;-moz-transition-duration:.3s;-moz-transition-property:background-color,box-shadow;box-shadow:inset 0 0 0 0 rgba(0,0,0,.4);margin-left:2px}input[type=checkbox].w2ui-toggle:disabled+div{opacity:.3}input[type=checkbox].w2ui-toggle+div>div{float:left;width:22px;height:22px;border-radius:inherit;background:#f5f5f5;-webkit-transition-duration:.3s;-webkit-transition-property:transform,background-color,box-shadow;-moz-transition-duration:.3s;-moz-transition-property:transform,background-color;box-shadow:0 0 1px #323232,0 0 0 1px rgba(200,200,200,.6);pointer-events:none;margin-top:-1px;margin-left:-1px}input[type=checkbox].w2ui-toggle:checked+div{border:1px solid #00a23f;box-shadow:inset 0 0 0 12px #54B350}input[type=checkbox].w2ui-toggle:checked+div>div{-webkit-transform:translate3d(24px,0,0);-moz-transform:translate3d(24px,0,0);background-color:#fff;box-shadow:0 2px 5px rgba(0,0,0,.3),0 0 0 1px #00a23f}input[type=checkbox].w2ui-toggle.blue:checked+div{border:1px solid #206FAD;box-shadow:inset 0 0 0 12px #35A6EB}input[type=checkbox].w2ui-toggle.blue:checked+div>div{box-shadow:0 2px 5px rgba(0,0,0,.3),0 0 0 1px #206fad}input[type=checkbox].w2ui-toggle:focus{outline:0}.w2ui-overlay{position:absolute;margin-top:6px;margin-left:-17px;display:none;z-index:1300;color:inherit;background-color:#fbfbfb;border:3px solid #777;box-shadow:0 2px 10px #999;border-radius:4px;text-align:left}.w2ui-overlay table td{color:inherit}.w2ui-overlay:before{content:\"\";position:absolute;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg);width:12px;height:12px;border:3px solid #777;border-color:inherit;background-color:inherit;border-left:1px solid transparent;border-bottom:1px solid transparent;border-bottom-left-radius:50px;margin:-9px 0 0 30px}.w2ui-overlay:after{display:none;content:\"\";position:absolute;-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg);transform:rotate(135deg);width:12px;height:12px;border:3px solid #777;border-color:inherit;background-color:inherit;border-left:1px solid transparent;border-bottom:1px solid transparent;border-bottom-left-radius:50px;margin:-7px 0 0 30px}.w2ui-overlay.w2ui-overlay-popup{z-index:1700}.w2ui-tag{position:absolute;z-index:1300;opacity:0;-webkit-transition:opacity .3s;-moz-transition:opacity .3s;-ms-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s}.w2ui-tag .w2ui-tag-body{background-color:rgba(60,60,60,.9);display:inline-block;position:absolute;border-radius:3px;padding:6px 10px;margin-left:10px;margin-top:0;color:#fff!important;line-height:100%;font-size:11px;font-family:Verdana,Arial,sans-serif}.w2ui-tag .w2ui-tag-body:before{content:\"\";position:absolute;width:0;height:0;border-top:6px solid transparent;border-right:6px solid rgba(60,60,60,.9);border-bottom:6px solid transparent;margin:0 0 0 -16px}.w2ui-tag.w2ui-tag-popup{z-index:1700}.w2ui-overlay table.w2ui-drop-menu{width:100%;color:#000;background-color:#fff;padding:5px 0;cursor:default}.w2ui-overlay table.w2ui-drop-menu td{white-space:nowrap}.w2ui-overlay table.w2ui-drop-menu .w2ui-item-even{color:inherit;background-color:#fff}.w2ui-overlay table.w2ui-drop-menu .w2ui-item-odd{color:inherit;background-color:#f3f6fa}.w2ui-overlay table.w2ui-drop-menu .w2ui-item-group{color:#444;font-weight:700;background-color:#ECEDF0;border-bottom:1px solid #D3D2D4}.w2ui-overlay table.w2ui-drop-menu td.menu-icon{padding:3px 0 4px 6px;width:20px}.w2ui-overlay table.w2ui-drop-menu td.menu-icon>span{height:20px}.w2ui-overlay table.w2ui-drop-menu td.menu-text{padding:8px 10px 8px 5px;width:auto}.w2ui-overlay table.w2ui-drop-menu td.menu-count{text-align:right}.w2ui-overlay table.w2ui-drop-menu td.menu-count>span{border:1px solid #f6fcf4;border-radius:20px;width:auto;height:18px;padding:2px 7px;margin:3px 5px 0;background-color:#f2f8f0;color:#666;box-shadow:0 0 2px #474545;text-shadow:1px 1px 0 #fff}.w2ui-overlay table.w2ui-drop-menu tr:hover{color:inherit;background-color:#e6f0ff}.w2ui-overlay table.w2ui-drop-menu tr.w2ui-selected{background-color:#b6d5fb}.w2ui-overlay table.w2ui-drop-menu tr.w2ui-selected td{color:inherit}.w2ui-overlay table.w2ui-drop-menu tr.w2ui-disabled{opacity:.4;background-color:#fff!important}.w2ui-overlay table.w2ui-drop-menu .w2ui-icon{font-size:14px;color:#8d99a7;display:inline-block;padding-top:4px}.w2ui-marker{color:#444;background-color:rgba(252,244,161,.48)}.w2ui-spinner{display:inline-block;background-size:100%;background-repeat:no-repeat;background-image:url(data:image/gif;base64,R0lGODlhgACAAKIAAP///93d3bu7u5mZmQAA/wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAEACwCAAIAfAB8AAAD/0i63P4wygYqmDjrzbtflvWNZGliYXiubKuloivPLlzReD7al+7/Eh5wSFQIi8hHYBkwHUmD6CD5YTJLz49USuVYraRsZ7vtar7XnQ1Kjpoz6LRHvGlz35O4nEPP2O94EnpNc2sef1OBGIOFMId/inB6jSmPdpGScR19EoiYmZobnBCIiZ95k6KGGp6ni4wvqxilrqBfqo6skLW2YBmjDa28r6Eosp27w8Rov8ekycqoqUHODrTRvXsQwArC2NLF29UM19/LtxO5yJd4Au4CK7DUNxPebG4e7+8n8iv2WmQ66BtoYpo/dvfacBjIkITBE9DGlMvAsOIIZjIUAixliv9ixYZVtLUos5GjwI8gzc3iCGghypQqrbFsme8lwZgLZtIcYfNmTJ34WPTUZw5oRxdD9w0z6iOpO15MgTh1BTTJUKos39jE+o/KS64IFVmsFfYT0aU7capdy7at27dw48qdS7eu3bt480I02vUbX2F/JxYNDImw4GiGE/P9qbhxVpWOI/eFKtlNZbWXuzlmG1mv58+gQ4seTbq06dOoU6vGQZJy0FNlMcV+czhQ7SQmYd8eMhPs5BxVdfcGEtV3buDBXQ+fURxx8oM6MT9P+Fh6dOrH2zavc13u9JXVJb520Vp8dvC76wXMuN5Sepm/1WtkEZHDefnzR9Qvsd9+/wi8+en3X0ntYVcSdAE+UN4zs7ln24CaLagghIxBaGF8kFGoIYV+Ybghh841GIyI5ICIFoklJsigihmimJOLEbLYIYwxSgigiZ+8l2KB+Ml4oo/w8dijjcrouCORKwIpnJIjMnkkksalNeR4fuBIm5UEYImhIlsGCeWNNJphpJdSTlkml1jWeOY6TnaRpppUctcmFW9mGSaZceYopH9zkjnjUe59iR5pdapWaGqHopboaYua1qije67GJ6CuJAAAIfkEBQUABAAsCgACAFcAMAAAA/9Iutz+ML5Ag7w46z0r5WAoSp43nihXVmnrdusrv+s332dt4Tyo9yOBUJD6oQBIQGs4RBlHySSKyczVTtHoidocPUNZaZAr9F5FYbGI3PWdQWn1mi36buLKFJvojsHjLnshdhl4L4IqbxqGh4gahBJ4eY1kiX6LgDN7fBmQEJI4jhieD4yhdJ2KkZk8oiSqEaatqBekDLKztBG2CqBACq4wJRi4PZu1sA2+v8C6EJexrBAD1AOBzsLE0g/V1UvYR9sN3eR6lTLi4+TlY1wz6Qzr8u1t6FkY8vNzZTxaGfn6mAkEGFDgL4LrDDJDyE4hEIbdHB6ESE1iD4oVLfLAqPETIsOODwmCDJlv5MSGJklaS6khAQAh+QQFBQAEACwfAAIAVwAwAAAD/0i63P5LSAGrvTjrNuf+YKh1nWieIumhbFupkivPBEzR+GnnfLj3ooFwwPqdAshAazhEGUXJJIrJ1MGOUamJ2jQ9QVltkCv0XqFh5IncBX01afGYnDqD40u2z76JK/N0bnxweC5sRB9vF34zh4gjg4uMjXobihWTlJUZlw9+fzSHlpGYhTminKSepqebF50NmTyor6qxrLO0L7YLn0ALuhCwCrJAjrUqkrjGrsIkGMW/BMEPJcphLgDaABjUKNEh29vdgTLLIOLpF80s5xrp8ORVONgi8PcZ8zlRJvf40tL8/QPYQ+BAgjgMxkPIQ6E6hgkdjoNIQ+JEijMsasNY0RQix4gKP+YIKXKkwJIFF6JMudFEAgAh+QQFBQAEACw8AAIAQgBCAAAD/kg0PPowykmrna3dzXvNmSeOFqiRaGoyaTuujitv8Gx/661HtSv8gt2jlwIChYtc0XjcEUnMpu4pikpv1I71astytkGh9wJGJk3QrXlcKa+VWjeSPZHP4Rtw+I2OW81DeBZ2fCB+UYCBfWRqiQp0CnqOj4J1jZOQkpOUIYx/m4oxg5cuAaYBO4Qop6c6pKusrDevIrG2rkwptrupXB67vKAbwMHCFcTFxhLIt8oUzLHOE9Cy0hHUrdbX2KjaENzey9Dh08jkz8Tnx83q66bt8PHy8/T19vf4+fr6AP3+/wADAjQmsKDBf6AOKjS4aaHDgZMeSgTQcKLDhBYPEswoA1BBAgAh+QQFBQAEACxOAAoAMABXAAAD7Ei6vPOjyUkrhdDqfXHm4OZ9YSmNpKmiqVqykbuysgvX5o2HcLxzup8oKLQQix0UcqhcVo5ORi+aHFEn02sDeuWqBGCBkbYLh5/NmnldxajX7LbPBK+PH7K6narfO/t+SIBwfINmUYaHf4lghYyOhlqJWgqDlAuAlwyBmpVnnaChoqOkpaanqKmqKgGtrq+wsbA1srW2ry63urasu764Jr/CAb3Du7nGt7TJsqvOz9DR0tPU1TIA2ACl2dyi3N/aneDf4uPklObj6OngWuzt7u/d8fLY9PXr9eFX+vv8+PnYlUsXiqC3c6PmUUgAACH5BAUFAAQALE4AHwAwAFcAAAPpSLrc/m7IAau9bU7MO9GgJ0ZgOI5leoqpumKt+1axPJO1dtO5vuM9yi8TlAyBvSMxqES2mo8cFFKb8kzWqzDL7Xq/4LB4TC6bz1yBes1uu9uzt3zOXtHv8xN+Dx/x/wJ6gHt2g3Rxhm9oi4yNjo+QkZKTCgGWAWaXmmOanZhgnp2goaJdpKGmp55cqqusrZuvsJays6mzn1m4uRAAvgAvuBW/v8GwvcTFxqfIycA3zA/OytCl0tPPO7HD2GLYvt7dYd/ZX99j5+Pi6tPh6+bvXuTuzujxXens9fr7YPn+7egRI9PPHrgpCQAAIfkEBQUABAAsPAA8AEIAQgAAA/lIutz+UI1Jq7026h2x/xUncmD5jehjrlnqSmz8vrE8u7V5z/m5/8CgcEgsGo/IpHLJbDqf0Kh0ShBYBdTXdZsdbb/Yrgb8FUfIYLMDTVYz2G13FV6Wz+lX+x0fdvPzdn9WeoJGAYcBN39EiIiKeEONjTt0kZKHQGyWl4mZdREAoQAcnJhBXBqioqSlT6qqG6WmTK+rsa1NtaGsuEu6o7yXubojsrTEIsa+yMm9SL8osp3PzM2cStDRykfZ2tfUtS/bRd3ewtzV5pLo4eLjQuUp70Hx8t9E9eqO5Oku5/ztdkxi90qPg3x2EMpR6IahGocPCxp8AGtigwQAIfkEBQUABAAsHwBOAFcAMAAAA/9Iutz+MMo36pg4682J/V0ojs1nXmSqSqe5vrDXunEdzq2ta3i+/5DeCUh0CGnF5BGULC4tTeUTFQVONYAs4CfoCkZPjFar83rBx8l4XDObSUL1Ott2d1U4yZwcs5/xSBB7dBMBhgEYfncrTBGDW4WHhomKUY+QEZKSE4qLRY8YmoeUfkmXoaKInJ2fgxmpqqulQKCvqRqsP7WooriVO7u8mhu5NacasMTFMMHCm8qzzM2RvdDRK9PUwxzLKdnaz9y/Kt8SyR3dIuXmtyHpHMcd5+jvWK4i8/TXHff47SLjQvQLkU+fG29rUhQ06IkEG4X/Rryp4mwUxSgLL/7IqFETB8eONT6ChCFy5ItqJomES6kgAQAh+QQFBQAEACwKAE4AVwAwAAAD/0i63A4QuEmrvTi3yLX/4MeNUmieITmibEuppCu3sDrfYG3jPKbHveDktxIaF8TOcZmMLI9NyBPanFKJp4A2IBx4B5lkdqvtfb8+HYpMxp3Pl1qLvXW/vWkli16/3dFxTi58ZRcChwIYf3hWBIRchoiHiotWj5AVkpIXi4xLjxiaiJR/T5ehoomcnZ+EGamqq6VGoK+pGqxCtaiiuJVBu7yaHrk4pxqwxMUzwcKbyrPMzZG90NGDrh/JH8t72dq3IN1jfCHb3L/e5ebh4ukmxyDn6O8g08jt7tf26ybz+m/W9GNXzUQ9fm1Q/APoSWAhhfkMAmpEbRhFKwsvCsmosRIHx444PoKcIXKkjIImjTzjkQAAIfkEBQUABAAsAgA8AEIAQgAAA/VIBNz+8KlJq72Yxs1d/uDVjVxogmQqnaylvkArT7A63/V47/m2/8CgcEgsGo/IpHLJbDqf0Kh0Sj0FroGqDMvVmrjgrDcTBo8v5fCZki6vCW33Oq4+0832O/at3+f7fICBdzsChgJGeoWHhkV0P4yMRG1BkYeOeECWl5hXQ5uNIAOjA1KgiKKko1CnqBmqqk+nIbCkTq20taVNs7m1vKAnurtLvb6wTMbHsUq4wrrFwSzDzcrLtknW16tI2tvERt6pv0fi48jh5h/U6Zs77EXSN/BE8jP09ZFA+PmhP/xvJgAMSGBgQINvEK5ReIZhQ3QEMTBLAAAh+QQFBQAEACwCAB8AMABXAAAD50i6DA4syklre87qTbHn4OaNYSmNqKmiqVqyrcvBsazRpH3jmC7yD98OCBF2iEXjBKmsAJsWHDQKmw571l8my+16v+CweEwum8+hgHrNbrvbtrd8znbR73MVfg838f8BeoB7doN0cYZvaIuMjY6PkJGSk2gClgJml5pjmp2YYJ6dX6GeXaShWaeoVqqlU62ir7CXqbOWrLafsrNctjIDwAMWvC7BwRWtNsbGFKc+y8fNsTrQ0dK3QtXAYtrCYd3eYN3c49/a5NVj5eLn5u3s6e7x8NDo9fbL+Mzy9/T5+tvUzdN3Zp+GBAAh+QQJBQAEACwCAAIAfAB8AAAD/0i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdArcQK2TOL7/nl4PSMwIfcUk5YhUOh3M5nNKiOaoWCuWqt1Ou16l9RpOgsvEMdocXbOZ7nQ7DjzTaeq7zq6P5fszfIASAYUBIYKDDoaGIImKC4ySH3OQEJKYHZWWi5iZG0ecEZ6eHEOio6SfqCaqpaytrpOwJLKztCO2jLi1uoW8Ir6/wCHCxMG2x7muysukzb230M6H09bX2Nna29zd3t/g4cAC5OXm5+jn3Ons7eba7vHt2fL16tj2+QL0+vXw/e7WAUwnrqDBgwgTKlzIsKHDh2gGSBwAccHEixAvaqTYcFCjRoYeNyoM6REhyZIHT4o0qPIjy5YTTcKUmHImx5cwE85cmJPnSYckK66sSAAj0aNIkypdyrSp06dQo0qdSrWq1atYs2rdyrWr169gwxZJAAA7)}.w2ui-icon{background-repeat:no-repeat;height:16px;width:16px;overflow:hidden;margin:2px;display:inline-block}.w2ui-icon.icon-search,.w2ui-icon.icon-search-down{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAACuElEQVRYw9WXSWhTQRjHR0UKLqhFaV0OUih68GAOWjyJKypCpAoV8aIiioIICiKiB1GMtE3MYmry2moXDz1UDx7sUXHBhQpSaRVxrYpWcMO9avx/8AJh/CbznHkxdeB3Cd/8589kvuUJkWcdjCTHghUgAi6DJ+AVeAqugSQIggniXywcNBJsB70g44EHYBcYXUhTM8EFj4ZkboKqQpiqAv2GprK8o7/f75t6pjn0M3gNPmri3vtycxAZA64qDvkJ2kENqAQTQQWoBg74qth3B4y3NbZDIX4fzNfsnQtuK/YfsjFVCh4pMq3Co0Y5uMVoUGkpy8aFT5xaeSzVEo45bXdBt4LeaLq1k0RXMYJfdDfFmAuAD4zWlty4UNyZEkm19MUb2zMw8Sfp1u+IWSrcIimLnTG8/SijdU6OO5poDESdtgHZVBzUHm/amhW7zoitMTS2mNHqASPk2FDCCcLMYK6p+obmulyxfiYLA4bGKFvfSnrUvkq5+Lpk8z4yRH8r3l/X4WiqJFfspSQ0CGYZGpsMnkt6L+h31Z76hpMdeOwPQ7H0NFnssST0C8wxNDaDKb6kP06150gsHahNNlVzYheZd7HJ0BiX4VRGhpmIhRixKyZilM2M1mnTArtIUbU3/qVO0H0GvmQ4CY4C3YopYYlHjXlggNG4R33Ypi2tVtwaPeTdNMkq9pVQZQdvFPs32zbx4aAjzxhDRfIAWAeWg7VgrzsY5ht/zoNJtubKwA3LITGjSKRyW3NTwaUCmKOSMd3WHH0ZJRQZZkOP1zFKZ3CB++4+aQ6kEeksWAb2a2L7qDv49S1Q6T72MOgEXa6RGFhP3wpS/B6NOWpRs0UxFg7eqTFHjX1hscxtAz/ymEuIYi0cvgF8Y0w5Ro3dZ3M1boJkTaXEUFlug6fsdsRQWzTj0cey+N/Xb2sj5lTh2M6OAAAAAElFTkSuQmCC) no-repeat center!important;background-size:14px 12px!important;opacity:.9}.w2ui-icon.icon-folder{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGrSURBVDjLxZO7ihRBFIa/6u0ZW7GHBUV0UQQTZzd3QdhMQxOfwMRXEANBMNQX0MzAzFAwEzHwARbNFDdwEd31Mj3X7a6uOr9BtzNjYjKBJ6nicP7v3KqcJFaxhBVtZUAK8OHlld2st7Xl3DJPVONP+zEUV4HqL5UDYHr5xvuQAjgl/Qs7TzvOOVAjxjlC+ePSwe6DfbVegLVuT4r14eTr6zvA8xSAoBLzx6pvj4l+DZIezuVkG9fY2H7YRQIMZIBwycmzH1/s3F8AapfIPNF3kQk7+kw9PWBy+IZOdg5Ug3mkAATy/t0usovzGeCUWTjCz0B+Sj0ekfdvkZ3abBv+U4GaCtJ1iEm6ANQJ6fEzrG/engcKw/wXQvEKxSEKQxRGKE7Izt+DSiwBJMUSm71rguMYhQKrBygOIRStf4TiFFRBvbRGKiQLWP29yRSHKBTtfdBmHs0BUpgvtgF4yRFR+NUKi0XZcYjCeCG2smkzLAHkbRBmP0/Uk26O5YnUActBp1GsAI+S5nRJJJal5K1aAMrq0d6Tm9uI6zjyf75dAe6tx/SsWeD//o2/Ab6IH3/h25pOAAAAAElFTkSuQmCC) no-repeat center!important}.w2ui-icon.icon-page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAINSURBVBgZBcG/r55zGAfg6/4+z3va01NHlYgzEfE7MdCIGISFgS4Gk8ViYyM2Mdlsko4GSf8Do0FLRCIkghhYJA3aVBtEz3nP89wf11VJvPDepdd390+8Nso5nESBQoq0pfvXm9fzWf19453LF85vASqJlz748vInb517dIw6EyYBIIG49u+xi9/c9MdvR//99MPPZ7+4cP4IZhhTPbwzT2d+vGoaVRRp1rRliVvHq+cfvM3TD82+7mun0o/ceO7NT+/4/KOXjwZU1ekk0840bAZzMQ2mooqh0A72d5x/6sB9D5zYnff3PoYBoWBgFKPKqDKqjCpjKr//dcu9p489dra88cydps30KswACfNEKanSaxhlntjJ8Mv12Paie+vZ+0+oeSwwQ0Iw1xAR1CiFNJkGO4wu3ZMY1AAzBI0qSgmCNJsJUEOtJSMaCTBDLyQ0CknAGOgyTyFFiLI2awMzdEcSQgSAAKVUmAeNkxvWJWCGtVlDmgYQ0GFtgg4pNtOwbBcwQy/Rife/2yrRRVI0qYCEBly8Z+P4qMEMy7JaVw72N568e+iwhrXoECQkfH91kY7jwwXMsBx1L93ZruqrK6uuiAIdSnTIKKPLPFcvay8ww/Hh+ufeznTXu49v95IMoQG3784gYXdTqvRmqn/Wpa/ADFX58MW3L71SVU9ETgEIQQQIOOzub+fhIvwPRDgeVjWDahIAAAAASUVORK5CYII=) no-repeat center!important}.w2ui-lock{display:none;position:absolute;z-index:1400;top:0;left:0;width:100%;height:100%;opacity:.15;filter:alpha(opacity=15);background-color:#333}.w2ui-lock-msg{display:none;position:absolute;z-index:1400;top:45%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-moz-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);-o-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:200px;height:80px;padding:30px 8px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:13px;font-family:Verdana,Arial,sans-serif;opacity:.8;filter:alpha(opacity=80);background-color:#555;color:#fff;text-align:center;border-radius:5px;border:2px solid #444}.w2ui-lock-msg .w2ui-spinner{display:inline-block;width:24px;height:24px;margin:-3px 8px -7px -10px}button.w2ui-btn{display:inline-block;border-radius:4px;margin:0 5px;padding:7px 12px 6px!important;color:#666;font-size:12px!important;border:1px solid #B6B6B6;background-image:-webkit-linear-gradient(#fff 0,#e7e7e7 100%);background-image:-moz-linear-gradient(#fff 0,#e7e7e7 100%);background-image:-ms-linear-gradient(#fff 0,#e7e7e7 100%);background-image:-o-linear-gradient(#fff 0,#e7e7e7 100%);background-image:linear-gradient(#fff 0,#e7e7e7 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffe7e7e7', endColorstr='#ffffffff', GradientType=0);outline:0;box-shadow:0 1px 0 #fff;cursor:default;min-width:75px;line-height:100%!important;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}button.w2ui-btn:hover{text-decoration:none;border:1px solid #bbb;background-image:-webkit-linear-gradient(#f7f7f7 0,#ddd 100%);background-image:-moz-linear-gradient(#f7f7f7 0,#ddd 100%);background-image:-ms-linear-gradient(#f7f7f7 0,#ddd 100%);background-image:-o-linear-gradient(#f7f7f7 0,#ddd 100%);background-image:linear-gradient(#f7f7f7 0,#ddd 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdddddd', endColorstr='#fff7f7f7', GradientType=0);color:#333}button.w2ui-btn:active,button.w2ui-btn.clicked{border:1px solid #999;background-image:-webkit-linear-gradient(#ccc 0,#ccc 100%);background-image:-moz-linear-gradient(#ccc 0,#ccc 100%);background-image:-ms-linear-gradient(#ccc 0,#ccc 100%);background-image:-o-linear-gradient(#ccc 0,#ccc 100%);background-image:linear-gradient(#ccc 0,#ccc 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffcccccc', endColorstr='#ffcccccc', GradientType=0);text-shadow:1px 1px 1px #eee}button.w2ui-btn:disabled{border:1px solid #bbb!important;background:#f7f7f7!important;color:#bdbcbc!important;text-shadow:none!important}button.w2ui-btn-blue{color:#fff;background-image:-webkit-linear-gradient(#80c0f7 0,#269df0 100%);background-image:-moz-linear-gradient(#80c0f7 0,#269df0 100%);background-image:-ms-linear-gradient(#80c0f7 0,#269df0 100%);background-image:-o-linear-gradient(#80c0f7 0,#269df0 100%);background-image:linear-gradient(#80c0f7 0,#269df0 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff269df0', endColorstr='#ff80c0f7', GradientType=0);border:1px solid #538AB7;text-shadow:1px 1px 1px #777}button.w2ui-btn-blue:hover{color:#fff;background-image:-webkit-linear-gradient(#73b6f0 0,#2391dd 100%);background-image:-moz-linear-gradient(#73b6f0 0,#2391dd 100%);background-image:-ms-linear-gradient(#73b6f0 0,#2391dd 100%);background-image:-o-linear-gradient(#73b6f0 0,#2391dd 100%);background-image:linear-gradient(#73b6f0 0,#2391dd 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff2391dd', endColorstr='#ff73b6f0', GradientType=0);border:1px solid #497BA3;text-shadow:1px 1px 1px #777}button.w2ui-btn-blue:active,button.w2ui-btn-blue.clicked{color:#fff;background-image:-webkit-linear-gradient(#1e83c9 0,#1e83c9 100%);background-image:-moz-linear-gradient(#1e83c9 0,#1e83c9 100%);background-image:-ms-linear-gradient(#1e83c9 0,#1e83c9 100%);background-image:-o-linear-gradient(#1e83c9 0,#1e83c9 100%);background-image:linear-gradient(#1e83c9 0,#1e83c9 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff1e83c9', endColorstr='#ff1e83c9', GradientType=0);border:1px solid #1268A6;text-shadow:1px 1px 1px #777}button.w2ui-btn-green{color:#fff;background-image:-webkit-linear-gradient(#81cf81 0,#52a452 100%);background-image:-moz-linear-gradient(#81cf81 0,#52a452 100%);background-image:-ms-linear-gradient(#81cf81 0,#52a452 100%);background-image:-o-linear-gradient(#81cf81 0,#52a452 100%);background-image:linear-gradient(#81cf81 0,#52a452 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff52a452', endColorstr='#ff81cf81', GradientType=0);border:1px solid #479247;text-shadow:1px 1px 1px #777}button.w2ui-btn-green:hover{color:#fff;background-image:-webkit-linear-gradient(#6abe68 0,#3f8f3d 100%);background-image:-moz-linear-gradient(#6abe68 0,#3f8f3d 100%);background-image:-ms-linear-gradient(#6abe68 0,#3f8f3d 100%);background-image:-o-linear-gradient(#6abe68 0,#3f8f3d 100%);background-image:linear-gradient(#6abe68 0,#3f8f3d 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff3f8f3d', endColorstr='#ff6abe68', GradientType=0);border:1px solid #479247;text-shadow:1px 1px 1px #777}button.w2ui-btn-green:active,button.w2ui-btn-green.clicked{color:#fff;background-image:-webkit-linear-gradient(#377d36 0,#377d36 100%);background-image:-moz-linear-gradient(#377d36 0,#377d36 100%);background-image:-ms-linear-gradient(#377d36 0,#377d36 100%);background-image:-o-linear-gradient(#377d36 0,#377d36 100%);background-image:linear-gradient(#377d36 0,#377d36 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff377d36', endColorstr='#ff377d36', GradientType=0);border:1px solid #555!important;text-shadow:1px 1px 1px #777}button.w2ui-btn-orange{color:#fff;background-image:-webkit-linear-gradient(#fcc272 0,#fb8822 100%);background-image:-moz-linear-gradient(#fcc272 0,#fb8822 100%);background-image:-ms-linear-gradient(#fcc272 0,#fb8822 100%);background-image:-o-linear-gradient(#fcc272 0,#fb8822 100%);background-image:linear-gradient(#fcc272 0,#fb8822 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fffb8822', endColorstr='#fffcc272', GradientType=0);border:1px solid #B68B4C;text-shadow:1px 1px 1px #777}button.w2ui-btn-orange:hover{color:#fff;background-image:-webkit-linear-gradient(#f4ad59 0,#f1731f 100%);background-image:-moz-linear-gradient(#f4ad59 0,#f1731f 100%);background-image:-ms-linear-gradient(#f4ad59 0,#f1731f 100%);background-image:-o-linear-gradient(#f4ad59 0,#f1731f 100%);background-image:linear-gradient(#f4ad59 0,#f1731f 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fff1731f', endColorstr='#fff4ad59', GradientType=0);border:1px solid #B68B4C;text-shadow:1px 1px 1px #777}button.w2ui-btn-orange:active,button.w2ui-btn-orange.clicked{color:#fff;border:1px solid #666;background-image:-webkit-linear-gradient(#b98747 0,#b98747 100%);background-image:-moz-linear-gradient(#b98747 0,#b98747 100%);background-image:-ms-linear-gradient(#b98747 0,#b98747 100%);background-image:-o-linear-gradient(#b98747 0,#b98747 100%);background-image:linear-gradient(#b98747 0,#b98747 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffb98747', endColorstr='#ffb98747', GradientType=0);text-shadow:1px 1px 1px #777}button.w2ui-btn-red{color:#fff;background-image:-webkit-linear-gradient(#ff6e70 0,#c72d2d 100%);background-image:-moz-linear-gradient(#ff6e70 0,#c72d2d 100%);background-image:-ms-linear-gradient(#ff6e70 0,#c72d2d 100%);background-image:-o-linear-gradient(#ff6e70 0,#c72d2d 100%);background-image:linear-gradient(#ff6e70 0,#c72d2d 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffc72d2d', endColorstr='#ffff6e70', GradientType=0);border:1px solid #BB3C3E;text-shadow:1px 1px 1px #777}button.w2ui-btn-red:hover{color:#fff;background-image:-webkit-linear-gradient(#ee696c 0,#ae2527 100%);background-image:-moz-linear-gradient(#ee696c 0,#ae2527 100%);background-image:-ms-linear-gradient(#ee696c 0,#ae2527 100%);background-image:-o-linear-gradient(#ee696c 0,#ae2527 100%);background-image:linear-gradient(#ee696c 0,#ae2527 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffae2527', endColorstr='#ffee696c', GradientType=0);border:1px solid #BB3C3E;text-shadow:1px 1px 1px #777}button.w2ui-btn-red:active,button.w2ui-btn-red.clicked{color:#fff;border:1px solid #861C1E;background-image:-webkit-linear-gradient(#9c2123 0,#9c2123 100%);background-image:-moz-linear-gradient(#9c2123 0,#9c2123 100%);background-image:-ms-linear-gradient(#9c2123 0,#9c2123 100%);background-image:-o-linear-gradient(#9c2123 0,#9c2123 100%);background-image:linear-gradient(#9c2123 0,#9c2123 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff9c2123', endColorstr='#ff9c2123', GradientType=0);text-shadow:1px 1px 1px #777}.w2ui-form{position:relative;color:#000;background-color:#f5f6f7;border:1px solid silver;border-radius:3px;padding:0;overflow:hidden!important}.w2ui-form>div{position:absolute;overflow:hidden}.w2ui-form .w2ui-form-header{position:absolute;left:0;right:0;border-bottom:1px solid #99bbe8!important;overflow:hidden;color:#444;font-size:13px;text-align:center;padding:8px;background-image:-webkit-linear-gradient(#dae6f3,#c2d5ed);background-image:-moz-linear-gradient(#dae6f3,#c2d5ed);background-image:-ms-linear-gradient(#dae6f3,#c2d5ed);background-image:-o-linear-gradient(#dae6f3,#c2d5ed);background-image:linear-gradient(#dae6f3,#c2d5ed);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3', endColorstr='#ffc2d5ed', GradientType=0);border-top-left-radius:3px;border-top-right-radius:3px}.w2ui-form .w2ui-form-toolbar{position:absolute;left:0;right:0;margin:0;padding:6px 3px;border-bottom:1px solid #d5d8d8}.w2ui-form .w2ui-form-tabs{margin:0;padding:0}.w2ui-form .w2ui-tabs{position:absolute;left:0;right:0;border-top-left-radius:3px;border-top-right-radius:3px;padding-top:5px!important;background-color:#fafafa}.w2ui-form .w2ui-tabs .w2ui-tab.active{background-color:#f5f6f7}.w2ui-form .w2ui-page{position:absolute;left:0;right:0;overflow:auto;padding:10px;border-left:1px solid inherit;border-right:1px solid inherit;background-color:inherit;border-radius:3px}.w2ui-form .w2ui-buttons{position:absolute;left:0;right:0;bottom:0;text-align:center;border-top:1px solid #d5d8d8;border-bottom:0 solid #d5d8d8;background-color:#fafafa;padding:15px 0!important;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.w2ui-form .w2ui-buttons input[type=button],.w2ui-form .w2ui-buttons button{min-width:80px;margin-right:5px}.w2ui-form input[type=checkbox],.w2ui-form input[type=radio]{margin-top:4px;margin-bottom:4px}.w2ui-form input[type=checkbox].w2ui-toggle{margin:0}.w2ui-group-title{padding:5px 2px;color:#8D96A2;text-shadow:1px 1px 2px #fdfdfd;font-size:120%}.w2ui-group{background-color:#ebecef;margin:5px 0 10px;padding:10px 5px;border-top:1px solid #cedcea;border-bottom:1px solid #cedcea}.w2ui-field>label{display:block;float:left;margin-top:7px;margin-bottom:3px;width:120px;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:right;min-height:20px;color:#666}.w2ui-field>div{margin-bottom:3px;margin-left:128px;padding:3px;min-height:28px;float:none}.w2ui-field.w2ui-required>div{position:relative}.w2ui-field.w2ui-required>div::before{content:'*';position:absolute;margin-top:5px;margin-left:-9px;color:red}.w2ui-field.w2ui-span1>label{width:20px}.w2ui-field.w2ui-span1>div{margin-left:28px}.w2ui-field.w2ui-span2>label{width:40px}.w2ui-field.w2ui-span2>div{margin-left:48px}.w2ui-field.w2ui-span3>label{width:60px}.w2ui-field.w2ui-span3>div{margin-left:68px}.w2ui-field.w2ui-span4>label{width:80px}.w2ui-field.w2ui-span4>div{margin-left:88px}.w2ui-field.w2ui-span5>label{width:100px}.w2ui-field.w2ui-span5>div{margin-left:108px}.w2ui-field.w2ui-span6>label{width:120px}.w2ui-field.w2ui-span6>div{margin-left:128px}.w2ui-field.w2ui-span7>label{width:140px}.w2ui-field.w2ui-span7>div{margin-left:148px}.w2ui-field.w2ui-span8>label{width:160px}.w2ui-field.w2ui-span8>div{margin-left:168px}.w2ui-field.w2ui-span9>label{width:180px}.w2ui-field.w2ui-span9>div{margin-left:188px}.w2ui-field.w2ui-span10>label{width:200px}.w2ui-field.w2ui-span10>div{margin-left:208px}.w2ui-error{border:1px solid #ffa8a8!important;background-color:#fff4eb!important}.w2field{padding:3px;border-radius:3px;border:1px solid silver}.w2ui-field-helper{position:absolute;display:inline-block;line-height:100%;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none}.w2ui-field-helper .w2ui-field-up{position:absolute;top:0;padding:2px 3px}.w2ui-field-helper .w2ui-field-down{position:absolute;bottom:0;padding:2px 3px}.w2ui-field-helper .arrow-up:hover{border-bottom-color:#81C6FF}.w2ui-field-helper .arrow-down:hover{border-top-color:#81C6FF}.arrow-up{background:0 0;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:5px solid #777;font-size:0;line-height:0}.arrow-down{background:0 0;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:5px solid #777;font-size:0;line-height:0}.arrow-left{background:0 0;width:0;height:0;border-bottom:4px solid transparent;border-top:4px solid transparent;border-right:5px solid #777;font-size:0;line-height:0}.arrow-right{background:0 0;width:0;height:0;border-bottom:4px solid transparent;border-top:4px solid transparent;border-left:5px solid #777;font-size:0;line-height:0}.w2ui-color{padding:5px;padding-top:8px;background-color:#fff;border-radius:3px}.w2ui-color>table{table-layout:fixed;width:160px}.w2ui-color>table td{width:20px;height:20px;text-align:center}.w2ui-color>table td div{cursor:pointer;display:inline-block;width:16px;height:17px;padding:1px 4px;border:1px solid transparent;color:#fff;text-shadow:0 0 2px #000}.w2ui-color>table td div:hover{outline:1px solid #666;border:1px solid #fff}.w2ui-calendar{margin:0;padding:1px;line-height:108%}.w2ui-calendar .w2ui-calendar-title{margin:0 -1px;padding:7px 2px;background-image:-webkit-linear-gradient(#f6f6f6,#d9d9d9);background-image:-moz-linear-gradient(#f6f6f6,#d9d9d9);background-image:-ms-linear-gradient(#f6f6f6,#d9d9d9);background-image:-o-linear-gradient(#f6f6f6,#d9d9d9);background-image:linear-gradient(#f6f6f6,#d9d9d9);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fff6f6f6', endColorstr='#ffd9d9d9', GradientType=0);border-bottom:1px solid #bbb;color:#555;text-align:center;text-shadow:1px 1px 1px #eee;cursor:pointer}.w2ui-calendar .w2ui-calendar-jump{position:absolute;top:27px;left:0;right:0;bottom:0;background-color:#FaFaFa}.w2ui-calendar .w2ui-calendar-jump>:first-child{position:absolute;top:0;left:0;bottom:0;width:110px;overflow:hidden;padding-top:5px;border-right:1px solid silver}.w2ui-calendar .w2ui-calendar-jump>:last-child{position:absolute;top:0;right:0;bottom:0;width:88px;overflow-x:hidden;overflow-y:auto;padding-top:5px;text-align:center}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month,.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year{display:inline-block;padding:5px 0;text-align:center;float:left;margin:2px;width:50px;cursor:default;border:1px solid transparent;border-radius:2px}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year{float:none;width:95%}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month:hover,.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year:hover{border:1px solid #ccc;color:#000;background-color:#efefef}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month.selected,.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year.selected{border:1px solid #ccc;color:#000;background-color:#dadada}.w2ui-calendar .w2ui-calendar-previous,.w2ui-calendar .w2ui-calendar-next{width:24px;height:20px;color:#666;border:1px solid transparent;border-radius:3px;padding:2px 3px 1px 2px;margin:-4px 0 0 0;cursor:default}.w2ui-calendar .w2ui-calendar-previous:hover,.w2ui-calendar .w2ui-calendar-next:hover{border:1px solid silver;background-color:#efefef}.w2ui-calendar .w2ui-calendar-previous>div,.w2ui-calendar .w2ui-calendar-next>div{position:absolute;border-left:4px solid #888;border-top:4px solid #888;border-right:4px solid transparent;border-bottom:4px solid transparent;width:0;height:0;padding:0;margin:3px 0 0}.w2ui-calendar .w2ui-calendar-previous{float:left}.w2ui-calendar .w2ui-calendar-previous>div{-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-o-transform:rotate(-45deg);transform:rotate(-45deg);margin-left:6px}.w2ui-calendar .w2ui-calendar-next{float:right}.w2ui-calendar .w2ui-calendar-next>div{-webkit-transform:rotate(135deg);-moz-transform:rotate(135deg);-ms-transform:rotate(135deg);-o-transform:rotate(135deg);transform:rotate(135deg);margin-left:2px;margin-right:2px}.w2ui-calendar table.w2ui-calendar-days{padding:0}.w2ui-calendar table.w2ui-calendar-days td{border:1px solid #fff;color:#000;background-color:#f9f9f9;padding:6px;cursor:default;text-align:right}.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday,.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday{border:1px solid #fff;color:#c8493b;background-color:#f9f9f9}.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday:hover,.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday:hover{border:1px solid #ccc;color:#000;background-color:#e9e9e9}.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday.w2ui-blocked,.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday.w2ui-blocked{text-decoration:line-through;border:1px solid #fff;color:#ccc;background-color:#fff}.w2ui-calendar table.w2ui-calendar-days td.w2ui-today{border:1px solid #8cb067;color:#000;background-color:#e2f7cd}.w2ui-calendar table.w2ui-calendar-days td:hover{border:1px solid #ccc;color:#000;background-color:#e9e9e9}.w2ui-calendar table.w2ui-calendar-days td.w2ui-blocked{text-decoration:line-through;border:1px solid #fff;color:#ccc;background-color:#fff}.w2ui-calendar table.w2ui-calendar-days td.w2ui-day-empty{border:1px solid #fff;background-color:#fdfdfd}.w2ui-calendar table.w2ui-calendar-days tr.w2ui-day-title td{border:1px solid #fff;color:gray;background-color:#fff;text-align:center;padding:6px}.w2ui-calendar-time{padding:5px;cursor:default}.w2ui-calendar-time td div{padding:7px 10px;text-align:center;border:1px solid transparent;white-space:nowrap}.w2ui-calendar-time td:nth-child(even){background-color:#f6f6f6}.w2ui-calendar-time td div:hover{border:1px solid #ccc;color:#000;background-color:#e9e9e9}.w2ui-calendar-time td div.w2ui-blocked{text-decoration:line-through;border:1px solid #fff;color:#ccc;background-color:#fff}.w2ui-select{cursor:default;color:#000!important;background-image:-webkit-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:-moz-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:-ms-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:-o-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%)}.w2ui-select[readonly],.w2ui-select[disabled]{background-image:none;background-color:#f1f1f1!importan;color:#777!important}.w2ui-list{color:inherit;position:absolute;padding:0;margin:0;min-height:25px;overflow:auto;border:1px solid silver;border-radius:3px;font-size:6px;line-height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;background-color:#fff}.w2ui-list input[type=text]{-webkit-box-shadow:none;-moz-box-shadow:none;-ms-box-shadow:none;-o-box-shadow:none;box-shadow:none}.w2ui-list ul{list-style-type:none;background-color:#000;margin:0;padding:0}.w2ui-list ul li{float:left;margin:2px 1px 0 2px;border-radius:3px;width:auto;padding:3px 10px 1px 7px;border:1px solid #88b0d6;background-color:#eff3f5;white-space:nowrap;cursor:default;font-family:verdana;font-size:11px;line-height:100%;height:20px;overflow:hidden;text-overflow:ellipsis;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-list ul li:hover{background-color:#d0dbe1}.w2ui-list ul li:last-child{border-radius:0;border:1px solid transparent;background-color:transparent}.w2ui-list ul li:last-child input{padding:1px;padding-top:0;margin:0;border:0;outline:0;height:auto;line-height:100%;font-size:inherit;font-family:inherit;background-color:transparent}.w2ui-list ul li .w2ui-list-remove{float:right;width:15px;height:14px;margin:-1px -9px 0 3px;border-radius:15px}.w2ui-list ul li .w2ui-list-remove:hover{background-color:#D77F7F;color:#fff}.w2ui-list ul li .w2ui-list-remove:before{position:relative;top:0;padding:0;margin:0;left:5px;color:inherit;opacity:.7;text-shadow:inherit;font-size:inherit;font-variant:small-caps;content:'x';line-height:100%}.w2ui-list ul li>span.file-size{pointer-events:none;color:#777}.w2ui-list .w2ui-enum-placeholder{display:inline;position:absolute;pointer-events:none;color:#999;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-list.w2ui-file-dragover{background-color:#E4FFDA;border:1px solid #93E07D}.w2ui-layout{overflow:hidden!important;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-layout *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-layout>div{position:absolute;overflow:hidden;border:0;margin:0;padding:0;outline:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-layout>div .w2ui-panel{display:none;position:absolute;z-index:120}.w2ui-layout>div .w2ui-panel .w2ui-panel-title{padding:5px;background-image:-webkit-linear-gradient(#dae6f3,#c2d5ed);background-image:-moz-linear-gradient(#dae6f3,#c2d5ed);background-image:-ms-linear-gradient(#dae6f3,#c2d5ed);background-image:-o-linear-gradient(#dae6f3,#c2d5ed);background-image:linear-gradient(#dae6f3,#c2d5ed);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3', endColorstr='#ffc2d5ed', GradientType=0);border:1px solid #b9cee9;border-bottom:1px solid #99bbe8}.w2ui-layout>div .w2ui-panel .w2ui-panel-tabs{position:absolute;left:0;top:0;right:0;z-index:2;display:none;overflow:hidden;background-color:#fafafa;padding:4px 0}.w2ui-layout>div .w2ui-panel .w2ui-panel-tabs>.w2ui-tab.active{background-color:#f5f6f7}.w2ui-layout>div .w2ui-panel .w2ui-panel-toolbar{position:absolute;left:0;top:0;right:0;z-index:2;display:none;overflow:hidden;background-color:#fafafa;border-bottom:1px solid silver;padding:4px}.w2ui-layout>div .w2ui-panel .w2ui-panel-content{position:absolute;left:0;top:0;right:0;bottom:0;z-index:1;color:inherit;background-color:#f5f6f7}.w2ui-layout>div .w2ui-resizer{display:none;position:absolute;z-index:121;background-color:transparent}.w2ui-layout>div .w2ui-resizer:hover,.w2ui-layout>div .w2ui-resizer.active{background-color:#c8cad1}.w2ui-grid{position:relative;border:1px solid silver;border-radius:2px;overflow:hidden!important}.w2ui-grid>div{position:absolute;overflow:hidden}.w2ui-grid .w2ui-grid-header{position:absolute;border-bottom:1px solid #99bbe8!important;height:28px;overflow:hidden;color:#444;font-size:13px;text-align:center;padding:7px;background-image:-webkit-linear-gradient(#dae6f3,#c2d5ed);background-image:-moz-linear-gradient(#dae6f3,#c2d5ed);background-image:-ms-linear-gradient(#dae6f3,#c2d5ed);background-image:-o-linear-gradient(#dae6f3,#c2d5ed);background-image:linear-gradient(#dae6f3,#c2d5ed);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3', endColorstr='#ffc2d5ed', GradientType=0);border-top-left-radius:2px;border-top-right-radius:2px}.w2ui-grid .w2ui-grid-toolbar{position:absolute;border-bottom:1px solid silver;background-color:#eaeaea;height:38px;padding:7px 3px 4px;margin:0;box-shadow:0 1px 2px #ddd}.w2ui-grid .w2ui-toolbar-search{width:160px;margin-right:3px}.w2ui-grid .w2ui-toolbar-search .w2ui-search-all{outline:0!important;width:160px;border-radius:10px;line-height:normal;height:22px;border:1px solid #b9b9b9;color:#000;background-color:#fff;padding:3px 18px 3px 23px;margin:0}.w2ui-grid .w2ui-toolbar-search .w2ui-search-down{position:absolute;margin-top:-7px;margin-left:6px}.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear{position:absolute;width:16px;height:16px;margin-top:-8px;margin-left:-20px;border-radius:15px;cursor:default}.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear:hover{background-color:#D77F7F;color:#fff}.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear:before{position:relative;top:1px;left:5px;opacity:.6;color:inherit;text-shadow:inherit;content:'x';cursor:default}.w2ui-grid .w2ui-grid-body{position:absolute;overflow:hidden;padding:0;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.w2ui-grid .w2ui-grid-body input,.w2ui-grid .w2ui-grid-body select,.w2ui-grid .w2ui-grid-body textarea{user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text}.w2ui-grid .w2ui-grid-body .w2ui-grid-columns{overflow:hidden;position:absolute;left:0;top:0;right:0;box-shadow:0 1px 4px #ddd;height:auto}.w2ui-grid .w2ui-grid-body .w2ui-grid-columns table{height:auto}.w2ui-grid .w2ui-grid-body .w2ui-grid-columns .w2ui-resizer{position:absolute;z-index:1000;display:block;background-image:none;background-color:rgba(0,0,0,0);padding:0;margin:0;width:6px;height:12px;cursor:col-resize}.w2ui-grid .w2ui-grid-body .w2ui-grid-records,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords{position:absolute;left:0;right:0;top:0;bottom:0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-odd{color:inherit;background-color:#fff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-odd:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd.w2ui-record-hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-odd.w2ui-record-hover{color:inherit;background-color:#e6f0ff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd.w2ui-empty-record:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-odd.w2ui-empty-record:hover{background-color:#fff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-even{color:inherit;background-color:#f3f6fa}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-even:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even.w2ui-record-hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-even.w2ui-record-hover{color:inherit;background-color:#e6f0ff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even.w2ui-empty-record:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-even.w2ui-empty-record:hover{background-color:#f3f6fa}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-selected,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-selected,.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-selected,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr td.w2ui-selected{color:#000!important;background-color:#b6d5ff!important}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-inactive,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-inactive,.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-inactive,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords table tr td.w2ui-inactive{background-color:#d8dee7!important}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-expanded{background-color:#CCDCF0!important}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded1,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-expanded1{height:0;border-bottom:1px solid #b2bac0;background-color:#CCDCF0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded1>div,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-expanded1>div{height:100%;margin:0;padding:0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded2,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-expanded2{height:0;border-radius:0;border-bottom:1px solid #b2bac0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded2>div,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-expanded2>div{height:0;border:0;transition:height .3s,opacity .3s}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-load-more{border-top:1px solid #d6d5d7;cursor:pointer}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more>div,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-load-more>div{text-align:center;color:#777;background-color:rgba(233,237,243,.5);padding:10px 0 15px;border-top:1px solid #fff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more>div:hover,.w2ui-grid .w2ui-grid-body .w2ui-grid-frecords .w2ui-load-more>div:hover{color:inherit;background-color:#e6f0ff}.w2ui-grid .w2ui-grid-body table{border-spacing:0;border-collapse:collapse;table-layout:fixed;width:1px}.w2ui-grid .w2ui-grid-body table .w2ui-head{margin:0;padding:0;border-right:1px solid #c5c5c5;border-bottom:1px solid #c5c5c5;color:#000;background-image:-webkit-linear-gradient(#f9f9f9,#e4e4e4);background-image:-moz-linear-gradient(#f9f9f9,#e4e4e4);background-image:-ms-linear-gradient(#f9f9f9,#e4e4e4);background-image:-o-linear-gradient(#f9f9f9,#e4e4e4);background-image:linear-gradient(#f9f9f9,#e4e4e4);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fff9f9f9', endColorstr='#ffe4e4e4', GradientType=0)}.w2ui-grid .w2ui-grid-body table .w2ui-head>div{padding:7px 3px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;position:relative}.w2ui-grid .w2ui-grid-body table .w2ui-head.w2ui-col-intersection{border-right-color:#72b2ff}.w2ui-grid .w2ui-grid-body table .w2ui-head.w2ui-reorder-cols-head:hover{cursor:move}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker{padding:0;position:absolute;height:100%;top:0}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker.left{left:0;margin-left:-5px}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker.right{right:0;margin-right:-5px}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker .top-marker{position:absolute;top:0;height:0;width:0;border-top:5px solid #72b2ff;border-left:5px solid transparent;border-right:5px solid transparent}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker .bottom-marker{position:absolute;bottom:0;height:0;width:0;border-bottom:5px solid #72b2ff;border-left:5px solid transparent;border-right:5px solid transparent}.w2ui-grid .w2ui-grid-body table td{border-right:1px solid #d6d5d7;border-bottom:0 solid #d6d5d7;cursor:default;overflow:hidden}.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data{margin:0;padding:0}.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data>div{padding:3px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data>div.flexible-record{height:auto;overflow:visible;white-space:normal}.w2ui-grid .w2ui-grid-body table td:last-child{border-right:0}.w2ui-grid .w2ui-grid-body table .w2ui-col-number{width:34px;color:#777;background-color:rgba(233,237,243,.5)}.w2ui-grid .w2ui-grid-body table .w2ui-col-number div{padding:0 7px 0 3px;text-align:right}.w2ui-grid .w2ui-grid-body table .w2ui-col-select{width:26px}.w2ui-grid .w2ui-grid-body table .w2ui-col-select div{padding:0;text-align:center;overflow:hidden}.w2ui-grid .w2ui-grid-body table .w2ui-col-select div input[type=checkbox]{margin-top:2px;position:relative}.w2ui-grid .w2ui-grid-body table .w2ui-col-expand{width:26px}.w2ui-grid .w2ui-grid-body table .w2ui-col-expand div{padding:0;text-align:center;font-weight:700}.w2ui-grid .w2ui-grid-body div.w2ui-col-header{height:auto!important;width:100%;overflow:hidden;padding-right:10px!important}.w2ui-grid .w2ui-grid-body div.w2ui-col-header>div.w2ui-sort-up{border:4px solid transparent;border-bottom:5px solid #8D99A7;margin-top:-2px;margin-right:-7px;float:right}.w2ui-grid .w2ui-grid-body div.w2ui-col-header>div.w2ui-sort-down{border:4px solid transparent;border-top:5px solid #8D99A7;margin-top:2px;margin-right:-7px;float:right}.w2ui-grid .w2ui-grid-body .w2ui-col-group{text-align:center}.w2ui-grid .w2ui-grid-body .w2ui-grid-scroll1{position:absolute;left:0;bottom:0;border-top:1px solid #ddd;border-right:1px solid #ddd;background-color:#FAFAFA}.w2ui-grid .w2ui-changed{background:url(data:image/gif;base64,R0lGODlhCgAKAJEAALAABf///wAAAAAAACH5BAEAAAIALAAAAAAKAAoAAAIPlI8Hy8mbxIsSUnup3rQAADs=) no-repeat top right}.w2ui-grid .w2ui-editable{overflow:hidden;height:100%!important;margin:0!important;padding:0!important}.w2ui-grid .w2ui-editable input{border:0;border-radius:0;margin:0;padding:4px 3px;width:100%;height:100%}.w2ui-grid .w2ui-editable input.w2ui-select{outline:0!important;background:#fff}.w2ui-grid .w2ui-grid-summary{position:absolute;box-shadow:0 -1px 4px #aaa}.w2ui-grid .w2ui-grid-summary table{color:inherit}.w2ui-grid .w2ui-grid-summary table .w2ui-odd{background-color:#eef5eb}.w2ui-grid .w2ui-grid-summary table .w2ui-even{background-color:#f8fff5}.w2ui-grid .w2ui-grid-footer{position:absolute;margin:0;padding:0;text-align:center;height:24px;overflow:hidden;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;box-shadow:0 -1px 4px #eee;color:#444;background-color:#f8f8f8;border-top:1px solid #ddd;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.w2ui-grid .w2ui-grid-footer .w2ui-footer-left{float:left;padding-top:5px;padding-left:5px}.w2ui-grid .w2ui-grid-footer .w2ui-footer-right{float:right;padding-top:5px;padding-right:5px}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center{padding:2px;text-align:center}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav{width:110px;margin:0 auto;padding:0;text-align:center}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav input[type=text]{padding:1px 2px 2px;border-radius:3px;width:40px;text-align:center}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav a.w2ui-footer-btn{display:inline-block;border-radius:3px;cursor:pointer;font-size:11px;line-height:16px;padding:1px 5px;width:30px;height:18px;margin-top:-1px;color:#000;background-color:transparent}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav a.w2ui-footer-btn:hover{color:#000;background-color:#aec8ff}.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd:hover,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even:hover,.w2ui-ss .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-odd,.w2ui-ss .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-even,.w2ui-ss .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-odd:hover,.w2ui-ss .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-even:hover{background-color:inherit}.w2ui-ss .w2ui-grid-records table td,.w2ui-ss .w2ui-grid-frecords table td{border-right-width:1px;border-bottom:1px solid #efefef}.w2ui-ss .w2ui-grid-records table tr:first-child td,.w2ui-ss .w2ui-grid-frecords table tr:first-child td{border-bottom:0}.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-selected,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-selected,.w2ui-ss .w2ui-grid-body .w2ui-grid-frecords table tr.w2ui-selected,.w2ui-ss .w2ui-grid-body .w2ui-grid-frecords table tr td.w2ui-selected{background-color:#EEF4FE!important}.w2ui-ss .w2ui-changed{background:inherit}.w2ui-ss .w2ui-grid-body .w2ui-selection{position:absolute;border:2px solid #6299DA;pointer-events:none}.w2ui-ss .w2ui-grid-body .w2ui-selection .w2ui-selection-resizer{cursor:crosshair;position:absolute;bottom:0;right:0;width:6px;height:6px;margin-right:-3px;margin-bottom:-3px;background-color:#457FC2;border:.5px solid #fff;outline:1px solid #fff;pointer-events:auto}.w2ui-overlay .w2ui-select-field{padding:8px 5px;cursor:default}.w2ui-overlay .w2ui-select-field table{font-size:11px;font-family:Verdana,Arial,sans-serif;border-spacing:0;border-collapse:border-collapse}.w2ui-overlay .w2ui-select-field table tr:hover{background-color:#b6d5ff}.w2ui-overlay .w2ui-select-field table td:nth-child(1){padding:3px 3px 3px 6px}.w2ui-overlay .w2ui-select-field table td:nth-child(1) input{margin:3px 2px 2px}.w2ui-overlay .w2ui-select-field table td:nth-child(2){padding:3px 15px 3px 3px}.w2ui-overlay .w2ui-col-on-off{padding:4px 0}.w2ui-overlay .w2ui-col-on-off table{border-spacing:0;border-collapse:border-collapse}.w2ui-overlay .w2ui-col-on-off table tr:hover{background-color:#b6d5ff}.w2ui-overlay .w2ui-col-on-off table td input[type=checkbox]{margin:3px 2px 2px}.w2ui-overlay .w2ui-col-on-off table td label{display:block;padding:3px 0;padding-right:10px}.w2ui-overlay .w2ui-col-on-off table td:first-child{padding:4px 0 4px 6px}.w2ui-overlay .w2ui-col-on-off table td:last-child{padding:4px 6px 4px 0}.w2ui-overlay .w2ui-grid-searches{text-align:left;padding:0;border-top:0;background-color:#f7f6f0}.w2ui-overlay .w2ui-grid-searches table{padding:4px;padding-top:12px;border-collapse:border-collapse}.w2ui-overlay .w2ui-grid-searches table td{padding:4px}.w2ui-overlay .w2ui-grid-searches table td.close-btn{width:20px;padding-right:20px}.w2ui-overlay .w2ui-grid-searches table td.close-btn button{min-width:24px;height:24px;padding-top:6px!important}.w2ui-overlay .w2ui-grid-searches table td.caption{text-align:right;padding-right:5px;border-right:1px solid #e8e8e3}.w2ui-overlay .w2ui-grid-searches table td.operator{text-align:left;padding:0 10px;padding-right:5px;border-right:1px solid #e8e8e3}.w2ui-overlay .w2ui-grid-searches table td.operator select{width:100%;color:#000;padding:0 15px 0 5px;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;background-image:-webkit-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:-moz-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:-ms-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:-o-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%)}.w2ui-overlay .w2ui-grid-searches table td.operator select::-ms-expand{display:none}.w2ui-overlay .w2ui-grid-searches table td.value{padding-right:5px;padding-left:5px}.w2ui-overlay .w2ui-grid-searches table td.value input[type=text]{border-radius:3px;padding:3px;margin-right:3px;height:23px}.w2ui-overlay .w2ui-grid-searches table td.value select{padding:3px;margin-right:3px;height:23px}.w2ui-overlay .w2ui-grid-searches table td.actions{border-right:0}.w2ui-overlay .w2ui-grid-searches table td.actions>div{margin:-7px;margin-top:15px;padding:13px 0;text-align:center;background-color:#efefe9;border-top:1px solid #e8e8e3}.w2ui-popup{position:fixed;z-index:1600;overflow:hidden;font-family:Verdana,Arial,sans-serif;border-radius:6px;padding:0;margin:0;border:1px solid #777;background-color:#eee;box-shadow:0 0 25px #555}.w2ui-popup,.w2ui-popup *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-popup .w2ui-msg-title{padding:6px;border-radius:6px 6px 0 0;background-image:-webkit-linear-gradient(#ececec,#dfdfdf);background-image:-moz-linear-gradient(#ececec,#dfdfdf);background-image:-ms-linear-gradient(#ececec,#dfdfdf);background-image:-o-linear-gradient(#ececec,#dfdfdf);background-image:linear-gradient(#ececec,#dfdfdf);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffececec', endColorstr='#ffdfdfdf', GradientType=0);border-bottom:2px solid #bfbfbf;position:absolute;overflow:hidden;height:32px;left:0;right:0;top:0;text-overflow:ellipsis;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:move;font-size:15px;color:#555;z-index:300}.w2ui-popup .w2ui-msg-button{float:right;width:18px;height:18px;cursor:pointer;overflow:hidden;padding:0;margin:0 3px 0 0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAj1JREFUeNrslr9rFFEQxz/zZi/qxSgW2lsqkiYoBku5Ro1o4UFKEYkgSaxSCLYqdv5IEVPYCMJJwERWrK0CKhoQ8hdobQTjXW7njcXlYnLunQQu0YDTLOy+Nzvfme98Z8Td2ckW2OGWdMvRvYfT/RGfBPoBBVpLK0AEPgVkdGL06vt/CoB5nBaRE8AXYKXNsQIwaB4fAwOtH+88mn4m7ifN4vUYebWBKkFKqjIV3N9NjI2Uuw5ARI45fBanH+F77iFnN8JHETmS68P9NHBQNTwHL8foaSN4SqoyA/SZyL4tqQAQBVYCLOFYlNxmq0WorVLpN9Oe5LKt1CsgRVWpAOfB66phBuhTkepSdfnKVjaxNJMSWn/iawmTtpeDp6pWBpaBoqrMqoYU6AOqIbFhxGa3R4V8nfNNKLUESzXJhoCvQC+wF/gW1C5IiC+2XUbD5jA3rd4C26NR3945IA2iRzqRJgdElJJlSQocAKrAD2A/6Ev3cLajjN59MDWHyKl2voOI1zKbv3Xj2lCHJFoz+LXuBoIAjnUklEvJrDDT5LwmdhG8blkyBxRjXSu4loE0X4VEznXKV3SnoOFMB7YUolBcbcKNdxuPXUBPu8pbLXsK0ghebVjEXgNoYmXLtGLuxd6ePU+AQ20AaIrb4DpFycmSv81/7YsiMgAstB1kQgE47O4LuQmCNwGOB7VxCb/URsRSTbhkmU4ifGiZHd1Z5m7fnxoIQSaBo39YJRZj9LGb4yPzXWm1/9voX7afAwAC5tacDTA2XgAAAABJRU5ErkJggg==) no-repeat center left;background-position:0 0;color:transparent!important;border-radius:3px;border:1px solid transparent}.w2ui-popup .w2ui-msg-close{margin-top:0;background-position:-32px 0}.w2ui-popup .w2ui-msg-close:hover{background-color:#ccc;border:1px solid #aaa}.w2ui-popup .w2ui-msg-max{background-position:-16px 0}.w2ui-popup .w2ui-msg-max:hover{background-color:#ccc;border:1px solid #aaa}.w2ui-popup .w2ui-box1,.w2ui-popup .w2ui-box2{position:absolute;left:0;right:0;top:32px;bottom:52px;z-index:100}.w2ui-popup .w2ui-msg-body{font-size:12px;line-height:130%;padding:0 7px 7px;color:#000;background-color:#eee;position:absolute;overflow:auto;width:100%;height:100%}.w2ui-popup .w2ui-popup-message{font-size:12px;position:absolute;z-index:250;background-color:#f9f9f9;border:1px solid #999;box-shadow:0 0 15px #aaa;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;border-top:0;border-radius:0 0 6px 6px;overflow:auto}.w2ui-popup .w2ui-popup-message .w2ui-popup-message-body{position:absolute;top:0;bottom:45px;left:0;right:0;overflow:auto}.w2ui-popup .w2ui-popup-message .w2ui-popup-message-buttons{position:absolute;height:45px;bottom:0;left:0;right:0;border-top:1px solid #e5e5e5;text-align:center;padding:8px}.w2ui-popup .w2ui-msg-buttons{padding:12px;border-radius:0 0 6px 6px;border-top:1px solid #d5d8d8;background-color:#f1f1f1;text-align:center;position:absolute;overflow:hidden;height:52px;left:0;right:0;bottom:0;z-index:200}.w2ui-popup .w2ui-msg-no-title{border-top-left-radius:6px;border-top-right-radius:6px;top:0!important}.w2ui-popup .w2ui-msg-no-buttons{border-bottom-left-radius:6px;border-bottom-right-radius:6px;bottom:0!important}.w2ui-sidebar{cursor:default;overflow:hidden!important;background-color:#edf1f6!important;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-sidebar *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-sidebar>div{position:relative;overflow:hidden}.w2ui-sidebar .w2ui-sidebar-top{position:absolute;z-index:2;top:0;left:0;right:0}.w2ui-sidebar .w2ui-sidebar-bottom{position:absolute;z-index:2;bottom:0;left:0;right:0}.w2ui-sidebar .w2ui-sidebar-div{position:absolute;z-index:1;overflow:auto;top:0;bottom:0;left:0;right:0;padding:2px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.w2ui-sidebar .w2ui-sidebar-div table{width:100%}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node{background-color:#edf1f6;border-top:1px solid transparent;border-bottom:1px solid transparent;margin:0;padding:1px 0}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node table{pointer-events:none}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node td.w2ui-node-dots{color:#000;text-shadow:0 0 0 #fff;pointer-events:none}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-caption:hover,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image:hover,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image>span:hover,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node td.w2ui-node-dots:hover{color:inherit}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node:hover{border-top:1px solid #f9f9f9;border-bottom:1px solid #f9f9f9;background-color:#d7e1ef}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image{width:22px;text-align:center;pointer-events:none}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image>span{color:#516173!important}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node input,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node button{pointer-events:auto}.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover{background-image:-webkit-linear-gradient(#69b1e0,#4a96d3);background-image:-moz-linear-gradient(#69b1e0,#4a96d3);background-image:-ms-linear-gradient(#69b1e0,#4a96d3);background-image:-o-linear-gradient(#69b1e0,#4a96d3);background-image:linear-gradient(#69b1e0,#4a96d3);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0', endColorstr='#ff4a96d3', GradientType=0);border-top:1px solid #5295cd;border-bottom:1px solid #2661a6}.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected td.w2ui-node-dots,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover td.w2ui-node-dots{color:#fff!important;text-shadow:1px 1px 2px #666!important}.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover{background:transparent!important;border-top:1px solid transparent;border-bottom:1px solid transparent}.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled td.w2ui-node-dots,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover td.w2ui-node-dots{opacity:.4;filter:alpha(opacity=40);color:#000!important;text-shadow:0 0 0 #fff!important}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-caption{white-space:nowrap;padding:5px 0 5px 3px;margin:1px 0 1px 22px;position:relative;z-index:1;font-size:12px}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group{white-space:nowrap;overflow:hidden;padding:10px 0 10px 10px;margin:0;cursor:default;color:#868b92;background-color:transparent}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group :nth-child(1){margin-right:10px;float:right;color:transparent}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group :nth-child(2){font-weight:400;text-transform:uppercase}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-sub{overflow:hidden}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-flat{padding:6px 0;text-align:center}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-flat .w2ui-node-image{text-align:center;width:auto}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-flat .w2ui-node-image>span{font-size:16px;color:#000;text-shadow:0 0 0 #fff}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-flat .w2ui-node-image.w2ui-icon{width:21px}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-dots{width:18px;padding:0 0 1px 7px;text-align:center}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-dots .w2ui-expand{width:16px;margin-top:-3px;pointer-events:auto}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data{padding:1px 1px 3px}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image{padding:3px 0 0;float:left}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image>span{font-size:16px;color:#000;text-shadow:0 0 0 #fff}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image.w2ui-icon{margin-top:3px}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-count{float:right;border:1px solid #6f9dc7;border-radius:20px;width:auto;height:18px;padding:2px 7px;margin:3px 4px -2px 0;background-color:#e7f0fc;color:#667274;box-shadow:0 0 0 #fff;text-shadow:1px 1px 1px #e6e6e6;position:relative;z-index:2}.w2ui-tabs{cursor:default;overflow:hidden!important;background-color:#fafafa;padding:3px 0}.w2ui-tabs:not(.w2ui-tabs-up){padding-bottom:0!important}.w2ui-tabs.w2ui-tabs-up{padding-top:0!important}.w2ui-tabs table{border-bottom:1px solid silver;padding:0 7px}.w2ui-tabs .w2ui-tab{padding:6px 20px;text-align:center;color:#000;background-color:transparent;border:1px solid silver;border-bottom:1px solid silver;white-space:nowrap;margin:1px 1px -1px 0;border-top-left-radius:4px;border-top-right-radius:4px;cursor:default}.w2ui-tabs .w2ui-tab.active{color:#000;background-color:#fff;border:1px solid silver;border-bottom:1px solid transparent}.w2ui-tabs .w2ui-tab.closable{padding:6px 28px 6px 20px}.w2ui-tabs .w2ui-tab-close{color:#555;text-shadow:1px 1px 1px #bbb;float:right;margin:6px 4px 0 0;padding:0 0 0 5px;width:16px;height:16px;opacity:.9;border:0;border-top:3px solid transparent;border-radius:9px}.w2ui-tabs .w2ui-tab-close:hover{background-color:#D77F7F;color:#fff}.w2ui-tabs .w2ui-tab-close:before{position:relative;top:-2px;left:0;opacity:.6;color:inherit;text-shadow:inherit;content:'x'}.w2ui-tabs.w2ui-tabs-up table{border-top:1px solid silver;border-bottom:0}.w2ui-tabs.w2ui-tabs-up .w2ui-tab{border-top:1px solid silver;margin:-1px 1px 0 0;border-radius:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.w2ui-tabs.w2ui-tabs-up .w2ui-tab.active{border:1px solid silver;border-top:1px solid transparent}.w2ui-tabs.w2ui-tabs-up .w2ui-tab-close{margin-top:4px}.w2ui-toolbar{margin:0;padding:2px;outline:0;background-color:#efefef;overflow:hidden!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.w2ui-toolbar .disabled{opacity:.3;filter:alpha(opacity=30)}.w2ui-toolbar table{table-layout:auto!important}.w2ui-toolbar table td{border:0!important}.w2ui-toolbar table.w2ui-button{margin:0 1px;border-radius:4px;height:24px;border:1px solid transparent;background-color:transparent}.w2ui-toolbar table.w2ui-button .w2ui-tb-image{width:16px;height:16px;padding:0;margin:5px 4px 3px 3px!important;border:0!important;text-align:center}.w2ui-toolbar table.w2ui-button .w2ui-tb-image>span{font-size:15px;display:block;color:#8d99a7}.w2ui-toolbar table.w2ui-button .w2ui-tb-image>span:before{vertical-align:top!important}.w2ui-toolbar table.w2ui-button .w2ui-tb-caption{color:#000;padding:0 4px 0 2px}.w2ui-toolbar table.w2ui-button .w2ui-tb-count{padding:0 3px 0 1px}.w2ui-toolbar table.w2ui-button .w2ui-tb-count>span{border:1px solid #f6fcf4;border-radius:11px;width:auto;height:18px;padding:0 6px 1px;background-color:#f2f8f0;color:#666;box-shadow:0 0 2px #474545;text-shadow:1px 1px 0 #fff}.w2ui-toolbar table.w2ui-button .w2ui-tb-down{padding:1px 3px 1px 1px}.w2ui-toolbar table.w2ui-button .w2ui-tb-down>div{border:4px solid transparent;border-top:5px solid #8D99A7;margin-top:5px}.w2ui-toolbar table.w2ui-button.over{border:1px solid #ccc;background-color:#eee}.w2ui-toolbar table.w2ui-button.over .w2ui-tb-caption{color:#000}.w2ui-toolbar table.w2ui-button.down{border:1px solid #aaa;background-color:#ddd}.w2ui-toolbar table.w2ui-button.down .w2ui-tb-caption{color:#666}.w2ui-toolbar table.w2ui-button.checked{border:1px solid #aaa;background-color:#fff}.w2ui-toolbar table.w2ui-button.checked .w2ui-tb-caption{color:#000}.w2ui-toolbar table.w2ui-button table{height:17px;border-radius:4px;cursor:default}.w2ui-toolbar .w2ui-break{background-image:-webkit-linear-gradient(top,rgba(153,153,153,.1) 0,#999 40%,#999 60%,rgba(153,153,153,.1) 100%);background-image:-moz-linear-gradient(top,rgba(153,153,153,.1) 0,#999 40%,#999 60%,rgba(153,153,153,.1) 100%);background-image:-ms-linear-gradient(top,rgba(153,153,153,.1) 0,#999 40%,#999 60%,rgba(153,153,153,.1) 100%);background-image:-o-linear-gradient(top,rgba(153,153,153,.1) 0,#999 40%,#999 60%,rgba(153,153,153,.1) 100%);background-image:linear-gradient(top,rgba(153,153,153,.1) 0,#999 40%,#999 60%,rgba(153,153,153,.1) 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff999999', endColorstr='#ff999999', GradientType=0);width:1px!important;height:22px;padding:0;margin:0 6px}.w2ui-listview{overflow:auto!important;background-color:#fff!important;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-listview *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-listview>ul{list-style-type:none;margin:0;cursor:default}.w2ui-listview>ul>li{display:inline-block;vertical-align:top;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;border:1px solid transparent;border-radius:4px}.w2ui-listview>ul>li.w2ui-focused{border:1px solid #2661a6}.w2ui-listview>ul>li.w2ui-selected{border:1px solid #2661a6}.w2ui-listview>ul>li.w2ui-selected,.w2ui-listview>ul>li.w2ui-selected.hover{background-image:-webkit-linear-gradient(#69b1e0,#4a96d3);background-image:-moz-linear-gradient(#69b1e0,#4a96d3);background-image:-ms-linear-gradient(#69b1e0,#4a96d3);background-image:-o-linear-gradient(#69b1e0,#4a96d3);background-image:linear-gradient(#69b1e0,#4a96d3);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0', endColorstr='#ff4a96d3', GradientType=0)}.w2ui-listview>ul>li.w2ui-selected>div>div.caption,.w2ui-listview>ul>li.w2ui-selected.hover>div>div.caption{color:#fff}.w2ui-listview>ul>li.w2ui-selected>div>div.description,.w2ui-listview>ul>li.w2ui-selected.hover>div>div.description{color:#ddd}.w2ui-listview>ul>li.w2ui-selected>div>div.extra>div>div,.w2ui-listview>ul>li.w2ui-selected.hover>div>div.extra>div>div{color:#ddd}.w2ui-listview>ul>li.hover{background-color:#d7e1ef;border:1px solid #2661a6}.w2ui-listview>ul>li div{vertical-align:middle}.w2ui-listview>ul>li>div>div.caption{display:block;text-align:center;word-wrap:break-word;max-height:50px;color:#000;font-size:12px}.w2ui-listview>ul>li>div>div.description{display:none;text-align:left;color:#777;font-size:12px}.w2ui-listview>ul>li>div>div.extra{display:none}.w2ui-listview>ul>li>div>div.extra>div>div{color:#777}.w2ui-icon-small>ul{padding:1px 0 0 1px}.w2ui-icon-small>ul>li{margin:0 1px 1px 0;padding:2px;width:250px;white-space:nowrap}.w2ui-icon-small>ul>li>div>div.w2ui-listview-img{display:inline-block;width:26px;height:22px;font-size:21px;margin-right:2px}.w2ui-icon-small>ul>li>div>div.caption{display:inline-block}.w2ui-icon-medium>ul{padding:4px 0 0 4px}.w2ui-icon-medium>ul>li{margin:0 4px 4px 0;padding:4px;width:100px}.w2ui-icon-medium>ul>li>div>div.w2ui-listview-img{display:block;width:92px;height:60px;font-size:57px;margin-left:auto;margin-right:auto;background-position:center}.w2ui-icon-large>ul{padding:4px 0 0 4px}.w2ui-icon-large>ul>li{margin:0 4px 4px 0;padding:4px;width:160px}.w2ui-icon-large>ul>li>div>div.w2ui-listview-img{display:block;width:152px;height:120px;font-size:114px;margin-left:auto;margin-right:auto;background-position:center}.w2ui-icon-tile>ul{padding:1px 0 0 1px}.w2ui-icon-tile>ul>li{margin:0 1px 1px 0;padding:4px;width:250px;white-space:nowrap}.w2ui-icon-tile>ul>li>div>div.w2ui-listview-img{display:inline-block;width:72px;height:60px;font-size:57px;float:left;margin-right:4px}.w2ui-icon-tile>ul>li>div>div.caption{text-align:left}.w2ui-icon-tile>ul>li>div>div.description{display:block}.w2ui-table>ul{padding:0}.w2ui-table>ul>li{width:100%;padding:2px;border-radius:0;border-bottom:1px dotted #d3d3d3}.w2ui-table>ul>li>div{display:inline-block;position:relative;width:100%;white-space:nowrap;overflow:hidden}.w2ui-table>ul>li>div>div.w2ui-listview-img{display:inline-block;width:38px;height:32px;font-size:31px;margin-right:2px}.w2ui-table>ul>li>div>div.caption{display:inline-block}.w2ui-table>ul>li>div>div.extra{display:inline-block;position:absolute;right:0;height:100%;background-color:#fff}.w2ui-table>ul>li>div>div.extra>div:before{display:inline-block;height:100%;width:0;content:'';vertical-align:middle}.w2ui-table>ul>li>div>div.extra>div{display:inline}.w2ui-table>ul>li>div>div.extra>div>div{display:inline-block;font-size:12px}.w2ui-table>ul>li.w2ui-selected div.extra,.w2ui-table>ul>li.w2ui-selected.hover div.extra{background-image:-webkit-linear-gradient(#69b1e0,#4a96d3);background-image:-moz-linear-gradient(#69b1e0,#4a96d3);background-image:-ms-linear-gradient(#69b1e0,#4a96d3);background-image:-o-linear-gradient(#69b1e0,#4a96d3);background-image:linear-gradient(#69b1e0,#4a96d3);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0', endColorstr='#ff4a96d3', GradientType=0)}.w2ui-table>ul>li.hover div.extra{background-color:#d7e1ef}.w2ui-listview>ul>li div.icon-none{border:1px solid rgba(102,102,102,.35)}"
},function(e,t){var n,i,r;!function(o,s){i=[],n=s,r="function"==typeof n?n.apply(t,i):n,!(void 0!==r&&(e.exports=r))}(this,function(){"use strict";var e=[],t=[];return{componentDidMount:function(){if(!this.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");var n=function(e,t){return function(n){for(var i=n.target,r=!1;i.parentNode;){if(r=i===e)return;i=i.parentNode}t(n)}}(this.getDOMNode(),this.handleClickOutside);document.addEventListener("mousedown",n),document.addEventListener("touchstart",n);var i=e.length;e.push(this),t[i]=n},componentWillUnmount:function(){var n=e.indexOf(this);if(n>-1){var i=t[n];i&&(document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i))}}}})},function(e,t,n){var i=n(1),r=i.createClass({displayName:"Icon",render:function(){var e={cursor:"pointer"},t=this.props.toggled?this.props.toggledClassName:this.props.untoggledClassName;return i.createElement("i",{className:t,onMouseMove:this.props.onMouseEnter,style:e,onClick:this.props.onClickRating})}}),o=i.createClass({displayName:"IconRating",getInitialState:function(){return{currentRating:this.props.currentRating||0,max:this.props.max||5,currentRating_hover:0,hovering:!1}},onMouseEnter:function(e,t){var n=e;t.nativeEvent.clientX<t.target.offsetLeft+t.target.offsetWidth/2&&(n-=.5),this.setState({currentRating_hover:n,hovering:!0})},onMouseLeave:function(){this.setState({hovering:!1})},onClickRating:function(e){this.setState({currentRating:this.state.currentRating_hover}),this.props.onChange&&this.props.onChange(e)},render:function(){for(var e,t,n=[],o=!1,s=function(){},a=this.props.viewOnly?s:this.onMouseEnter,l=this.props.viewOnly?s:this.onClickRating,c=1;c<=this.state.max;++c)e=this.state["currentRating"+(this.state.hovering?"_hover":"")],o=c<=Math.round(e)?!0:!1,t=null,this.props.halfClassName&&Math.round(e)==c&&Math.floor(e)!=e&&(t=this.props.halfClassName),n.push(i.createElement(r,{key:c,toggledClassName:t||this.props.toggledClassName,untoggledClassName:this.props.untoggledClassName,onMouseEnter:a.bind(this,c),onClickRating:l.bind(this,c),toggled:o}));return i.createElement("div",{className:this.props.className,onMouseLeave:this.onMouseLeave},n)}});e.exports=o},function(e){var t="placeholder"in document.createElement("input"),n=function(e,n,i){return e.createClass({displayName:i,componentWillMount:function(){this.needsPlaceholding=this.props.placeholder&&!t},componentWillReceiveProps:function(e){this.needsPlaceholding=e.placeholder&&!t},getValue:function(){return this.props.valueLink?this.props.valueLink.value:this.props.value},getOnChange:function(){return this.props.valueLink?this._handleLinkedValueChange:this.props.onChange},_handleLinkedValueChange:function(e){this.props.valueLink.requestChange(e.target.value)},onFocus:function(e){return this.hasFocus=!0,this.setSelectionIfNeeded(e.target),this.props.onFocus?this.props.onFocus(e):void 0},onBlur:function(e){return this.hasFocus=!1,this.props.onBlur?this.props.onBlur(e):void 0},setSelectionIfNeeded:function(e){return this.needsPlaceholding&&this.hasFocus&&this.isPlaceholding&&(0!==e.selectionStart||0!==e.selectionEnd)?(e.setSelectionRange(0,0),!0):!1},onChange:function(e){if(this.isPlaceholding){var t=e.target.value,n=t.indexOf(this.props.placeholder);-1!==n&&(e.target.value=t.slice(0,n))}var i=this.getOnChange();return i?i(e):void 0},onSelect:function(e){return this.isPlaceholding?(this.setSelectionIfNeeded(e.target),!1):this.props.onSelect?this.props.onSelect(e):void 0},componentDidUpdate:function(){this.setSelectionIfNeeded(this.getDOMNode())},render:function(){var e=this.transferPropsTo(n());if(this.needsPlaceholding){e.props.onFocus=this.onFocus,e.props.onBlur=this.onBlur,e.props.onChange=this.onChange,e.props.onSelect=this.onSelect,e.props.valueLink=void 0;var t=this.getValue();t?this.isPlaceholding=!1:(this.isPlaceholding=!0,t=this.props.placeholder,e.props.type="text",e.props.className+=" placeholder"),e.props.value=t}return e}})};e.exports=function(e){return{Input:n(e,e.DOM.input,"Input"),Textarea:n(e,e.DOM.textarea,"Textarea")}}},function(e){var t={updateScrollPosition:function(){window.scrollTo(0,0)}};e.exports=t},function(e,t,n){function i(e){return 0===e.button}function r(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var o=n(1),s=n(116),a=n(7),l=n(254),c=n(255),u=o.createClass({displayName:"Link",mixins:[l,c],propTypes:{activeClassName:o.PropTypes.string.isRequired,to:o.PropTypes.string.isRequired,params:o.PropTypes.object,query:o.PropTypes.object,onClick:o.PropTypes.func},getDefaultProps:function(){return{activeClassName:"active"}},handleClick:function(e){var t,n=!0;this.props.onClick&&(t=this.props.onClick(e)),!r(e)&&i(e)&&((t===!1||e.defaultPrevented===!0)&&(n=!1),e.preventDefault(),n&&this.transitionTo(this.props.to,this.props.params,this.props.query))},getHref:function(){return this.makeHref(this.props.to,this.props.params,this.props.query)},getClassName:function(){var e={};return this.props.className&&(e[this.props.className]=!0),this.isActive(this.props.to,this.props.params,this.props.query)&&(e[this.props.activeClassName]=!0),s(e)},render:function(){var e=a({},this.props,{href:this.getHref(),className:this.getClassName(),onClick:this.handleClick});return o.DOM.a(e,this.props.children)}});e.exports=u},function(e,t,n){var i=n(1),r={childContextTypes:{makePath:i.PropTypes.func.isRequired,makeHref:i.PropTypes.func.isRequired,transitionTo:i.PropTypes.func.isRequired,replaceWith:i.PropTypes.func.isRequired,goBack:i.PropTypes.func.isRequired},getChildContext:function(){return{makePath:this.constructor.makePath,makeHref:this.constructor.makeHref,transitionTo:this.constructor.transitionTo,replaceWith:this.constructor.replaceWith,goBack:this.constructor.goBack}}};e.exports=r},function(e,t,n){var i=n(1);e.exports={contextTypes:{getRouteAtDepth:i.PropTypes.func.isRequired,getRouteComponents:i.PropTypes.func.isRequired,routeHandlers:i.PropTypes.array.isRequired},childContextTypes:{routeHandlers:i.PropTypes.array.isRequired},getChildContext:function(){return{routeHandlers:this.context.routeHandlers.concat([this])}},getRouteDepth:function(){return this.context.routeHandlers.length-1},componentDidMount:function(){this._updateRouteComponent()},componentDidUpdate:function(){this._updateRouteComponent()},_updateRouteComponent:function(){var e=this.getRouteDepth(),t=this.context.getRouteComponents();t[e]=this.refs[this.props.ref||"__routeHandler__"]},getRouteHandler:function(e){var t=this.context.getRouteAtDepth(this.getRouteDepth());return t?i.createElement(t.handler,e||this.props):null}}},function(e,t,n){function i(e,t){if(!t)return!0;if(e.pathname===t.pathname)return!1;var n=e.routes,i=t.routes,r=n.filter(function(e){return-1!==i.indexOf(e)});return!r.some(function(e){return e.ignoreScrollBehavior})}var r=n(3),o=n(10).canUseDOM,s=n(445),a={statics:{recordScrollPosition:function(e){this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[e]=s()},getScrollPosition:function(e){return this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[e]||null}},componentWillMount:function(){r(null==this.getScrollBehavior()||o,"Cannot use scroll behavior without a DOM")},componentDidMount:function(){this._updateScroll()},componentDidUpdate:function(e,t){this._updateScroll(t)},_updateScroll:function(e){if(i(this.state,e)){var t=this.getScrollBehavior();t&&t.updateScrollPosition(this.constructor.getScrollPosition(this.state.path),this.state.action)}}};e.exports=a},function(e,t,n){function i(e,t){return e.some(function(e){return e.name===t})}function r(e,t){for(var n in t)if(String(e[n])!==String(t[n]))return!1;return!0}function o(e,t){for(var n in t)if(String(e[n])!==String(t[n]))return!1;return!0}var s=n(1),a=n(7),l=n(50),c={getCurrentPath:function(){return this.state.path},getCurrentRoutes:function(){return this.state.routes.slice(0)},getCurrentPathname:function(){return this.state.pathname},getCurrentParams:function(){return a({},this.state.params)},getCurrentQuery:function(){return a({},this.state.query)},isActive:function(e,t,n){return l.isAbsolute(e)?e===this.state.path:i(this.state.routes,e)&&r(this.state.params,t)&&(null==n||o(this.state.query,n))},childContextTypes:{getCurrentPath:s.PropTypes.func.isRequired,getCurrentRoutes:s.PropTypes.func.isRequired,getCurrentPathname:s.PropTypes.func.isRequired,getCurrentParams:s.PropTypes.func.isRequired,getCurrentQuery:s.PropTypes.func.isRequired,isActive:s.PropTypes.func.isRequired},getChildContext:function(){return{getCurrentPath:this.getCurrentPath,getCurrentRoutes:this.getCurrentRoutes,getCurrentPathname:this.getCurrentPathname,getCurrentParams:this.getCurrentParams,getCurrentQuery:this.getCurrentQuery,isActive:this.isActive}}};e.exports=c},function(e){function t(){}e.exports=t},function(e,t,n){var i=n(453);e.exports=i},function(e,t,n){function i(e,t){var n;try{n=e.reduce(function(e,t){return e?e.then(t):t()},null)}catch(i){return t(i)}n?n.then(function(){setTimeout(t)},function(e){setTimeout(function(){t(e)})}):t()}function r(e,t,n,r){n=l(n);var o=l(t).map(function(t,i){return function(){var r=t.handler;if(!e.isAborted&&r.willTransitionFrom)return r.willTransitionFrom(e,n[i]);var o=e._promise;return e._promise=null,o}});i(o,r)}function o(e,t,n,r,o){var s=t.map(function(t){return function(){var i=t.handler;!e.isAborted&&i.willTransitionTo&&i.willTransitionTo(e,n,r);var o=e._promise;return e._promise=null,o}});i(s,o)}function s(e,t){this.path=e,this.abortReason=null,this.isAborted=!1,this.retry=t.bind(this),this._promise=null}var a=n(7),l=n(446),c=n(256),u=n(442);a(s.prototype,{abort:function(e){this.isAborted||(this.abortReason=e,this.isAborted=!0)},redirect:function(e,t,n){this.abort(new c(e,t,n))},wait:function(e){this._promise=u.resolve(e)},from:function(e,t,n){return r(this,e,t,n)},to:function(e,t,n,i){return o(this,e,t,n,i)}}),e.exports=s},function(e,t,n){function i(e,t,n){return a.createClass({statics:{willTransitionTo:function(i,r,o){i.redirect(e,t||r,n||o)}},render:function(){return null}})}function r(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i](n,i,e);r instanceof Error&&l(!1,r.message)}}function o(e,t,n){var o=e.type,a=e.props,l=o&&o.displayName||"UnknownComponent";c(-1!==m.indexOf(o),'Unrecognized route configuration element "<%s>"',l),o.propTypes&&r(l,o.propTypes,a);var h={name:a.name};a.ignoreScrollBehavior&&(h.ignoreScrollBehavior=!0),o===p.type?(h.handler=i(a.to,a.params,a.query),a.path=a.path||a.from||"*"):h.handler=a.handler;var g=t&&t.path||"/";if((a.path||a.name)&&o!==u.type&&o!==d.type){var v=a.path||a.name;f.isAbsolute(v)||(v=f.join(g,v)),h.path=f.normalize(v)}else h.path=g,o===d.type&&(h.path+="*");return h.paramNames=f.extractParamNames(h.path),t&&Array.isArray(t.paramNames)&&t.paramNames.forEach(function(e){c(-1!==h.paramNames.indexOf(e),'The nested route path "%s" is missing the "%s" parameter of its parent path "%s"',h.path,e,t.path)}),a.name&&(c(null==n[a.name],'You cannot use the name "%s" for more than one route',a.name),n[a.name]=h),o===d.type?(c(t,"<NotFoundRoute> must have a parent <Route>"),c(null==t.notFoundRoute,"You may not have more than one <NotFoundRoute> per <Route>"),t.notFoundRoute=h,null):o===u.type?(c(t,"<DefaultRoute> must have a parent <Route>"),c(null==t.defaultRoute,"You may not have more than one <DefaultRoute> per <Route>"),t.defaultRoute=h,null):(h.childRoutes=s(a.children,h,n),h)}function s(e,t,n){var i=[];return a.Children.forEach(e,function(e){(e=o(e,t,n))&&i.push(e)}),i}var a=n(1),l=n(11),c=n(3),u=n(247),d=n(248),p=n(249),h=n(250),f=n(50),m=[u.type,d.type,p.type,h.type];e.exports=s},function(e,t,n){function i(){return r(o,"Cannot get current scroll position without a DOM"),{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}var r=n(3),o=n(10).canUseDOM;e.exports=i},function(e){function t(e){return e.slice(0).reverse()}e.exports=t},function(e,t,n){function i(e,t,n){"function"==typeof t&&(n=t,t=null);var i=r({routes:e,location:t});return i.run(n),i}var r=n(257);e.exports=i},function(e){function t(){/*! taken from modernizr
	   * https://github.com/Modernizr/Modernizr/blob/master/LICENSE
	   * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js
	   * changed to avoid false negatives for Windows Phones: https://github.com/rackt/react-router/issues/586
	   */
var e=navigator.userAgent;return-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}e.exports=t},function(e,t,n){e.exports=n(450)},function(e,t,n){var i=n(452),r=n(451);e.exports={stringify:i,parse:r}},function(e,t,n){var i=n(107),r={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};r.parseValues=function(e,t){for(var n={},r=e.split(t.delimiter,1/0===t.parameterLimit?void 0:t.parameterLimit),o=0,s=r.length;s>o;++o){var a=r[o],l=-1===a.indexOf("]=")?a.indexOf("="):a.indexOf("]=")+1;if(-1===l)n[i.decode(a)]="";else{var c=i.decode(a.slice(0,l)),u=i.decode(a.slice(l+1));n[c]=n[c]?[].concat(n[c]).concat(u):u}}return n},r.parseObject=function(e,t,n){if(!e.length)return t;var i=e.shift(),o={};if("[]"===i)o=[],o=o.concat(r.parseObject(e,t,n));else{var s="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,a=parseInt(s,10);!isNaN(a)&&i!==s&&a<=n.arrayLimit?(o=[],o[a]=r.parseObject(e,t,n)):o[s]=r.parseObject(e,t,n)}return o},r.parseKeys=function(e,t,n){if(e){var i=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,s=i.exec(e);if(!Object.prototype.hasOwnProperty(s[1])){var a=[];s[1]&&a.push(s[1]);for(var l=0;null!==(s=o.exec(e))&&l<n.depth;)++l,Object.prototype.hasOwnProperty(s[1].replace(/\[|\]/g,""))||a.push(s[1]);return s&&a.push("["+e.slice(s.index)+"]"),r.parseObject(a,t,n)}}},e.exports=function(e,t){if(""===e||null===e||"undefined"==typeof e)return{};t=t||{},t.delimiter="string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:r.delimiter,t.depth="number"==typeof t.depth?t.depth:r.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:r.arrayLimit,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:r.parameterLimit;for(var n="string"==typeof e?r.parseValues(e,t):e,o={},s=Object.keys(n),a=0,l=s.length;l>a;++a){var c=s[a],u=r.parseKeys(c,n[c],t);o=i.merge(o,u)}return i.compact(o)}},function(e,t,n){var i=n(107),r={delimiter:"&"};r.stringify=function(e,t){if(i.isBuffer(e)?e=e.toString():e instanceof Date?e=e.toISOString():null===e&&(e=""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return[encodeURIComponent(t)+"="+encodeURIComponent(e)];var n=[];for(var o in e)e.hasOwnProperty(o)&&(n=n.concat(r.stringify(e[o],t+"["+o+"]")));return n},e.exports=function(e,t){t=t||{};var n="undefined"==typeof t.delimiter?r.delimiter:t.delimiter,i=[];for(var o in e)e.hasOwnProperty(o)&&(i=i.concat(r.stringify(e[o],o)));return i.join(n)}},function(e,t,n){var i;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(){"use strict";i=function(){var e=n(457),t=n(455),i=n(456);return e({scheduler:new t(i)})}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(n(64))},function(e,t,n){var i;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(){"use strict";i=function(){function e(e){this.head=this.tail=this.length=0,this.buffer=new Array(1<<e)}return e.prototype.push=function(e){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=e,this.tail=this.tail+1&this.buffer.length-1,++this.length,this.length},e.prototype.shift=function(){var e=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,e},e.prototype._ensureCapacity=function(e){var t,n=this.head,i=this.buffer,r=new Array(e),o=0;if(0===n)for(t=this.length;t>o;++o)r[o]=i[o];else{for(e=i.length,t=this.tail;e>n;++o,++n)r[o]=i[n];for(n=0;t>n;++o,++n)r[o]=i[n]}this.buffer=r,this.head=0,this.tail=this.length},e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(n(64))},function(e,t,n){var i;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(){"use strict";i=function(){function e(e){this._async=e,this._queue=new i(15),this._afterQueue=new i(5),this._running=!1;var t=this;this.drain=function(){t._drain()}}function t(e){for(;e.length>0;)e.shift().run()}var i=n(454);return e.prototype.enqueue=function(e){this._add(this._queue,e)},e.prototype.afterQueue=function(e){this._add(this._afterQueue,e)},e.prototype._drain=function(){t(this._queue),this._running=!1,t(this._afterQueue)},e.prototype._add=function(e,t){e.push(t),this._running||(this._running=!0,this._async(this.drain))},e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(n(64))},function(e,t,n){var i;(function(r){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(){"use strict";i=function(e){var t,i;return t="undefined"!=typeof r&&null!==r&&"function"==typeof r.nextTick?function(e){r.nextTick(e)}:(i="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)?function(e,t){function n(){var e=i;i=void 0,e()}var i,r=e.createElement("div"),o=new t(n);return o.observe(r,{attributes:!0}),function(e){i=e,r.setAttribute("class","x")}}(document,i):function(){var e;try{e=n(552)}catch(t){}if(e){if("function"==typeof e.runOnLoop)return e.runOnLoop;if("function"==typeof e.runOnContext)return e.runOnContext}var i=setTimeout;return function(e){i(e,0)}}(e)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(n(64))}).call(t,n(551))},function(e,t,n){var i;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(){"use strict";i=function(){return function(e){function t(e,t){this._handler=e===h?t:n(e)}function n(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}function i(e){r.notify(e)}var r=new m;try{e(t,n,i)}catch(o){n(o)}return r}function i(e){return E(e)?e:new t(h,new g(u(e)))}function r(e){return new t(h,new g(new y(e)))}function o(){return U}function s(){return new t(h,new m)}function a(e){function n(e,t,n){this[e]=t,0===--c&&n.become(new b(this))}var i,r,o,s,a=new m,c=e.length>>>0,u=new Array(c);for(i=0;i<e.length;++i)if(o=e[i],void 0!==o||i in e)if(M(o))if(r=d(o),s=r.state(),0===s)r.fold(n,i,u,a);else{if(!(s>0)){l(e,i+1,r),a.become(r);break}u[i]=r.value,--c}else u[i]=o,--c;else--c;return 0===c&&a.become(new b(u)),new t(h,a)}function l(e,t,n){var i,r,o;for(i=t;i<e.length;++i)o=e[i],M(o)&&(r=d(o),r!==n&&r.visit(r,void 0,r._unreport))}function c(e){if(Object(e)===e&&0===e.length)return o();var n,i,r=new m;for(n=0;n<e.length;++n)i=e[n],void 0!==i&&n in e&&u(i).visit(r,r.resolve,r.reject);return new t(h,r)}function u(e){return E(e)?e._handler.join():M(e)?p(e):new b(e)}function d(e){return E(e)?e._handler.join():p(e)}function p(e){try{var t=e.then;return"function"==typeof t?new v(t,e):new b(e)}catch(n){return new y(n)}}function h(){}function f(){}function m(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function g(e){this.handler=e}function v(e,t){m.call(this),R.enqueue(new C(e,t,this))}function b(e){t.createContext(this),this.value=e}function y(e){t.createContext(this),this.id=++z,this.value=e,this.handled=!1,this.reported=!1,this._report()}function w(e,t){this.rejection=e,this.context=t}function _(e){this.rejection=e}function x(){return new y(new TypeError("Promise cycle"))}function k(e,t){this.continuation=e,this.handler=t}function T(e,t){this.handler=t,this.value=e}function C(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function D(e,t,n,i,r){try{e.call(t,n,i,r)}catch(o){i(o)}}function E(e){return e instanceof t}function M(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function L(e,n,i,r){return"function"!=typeof e?r.become(n):(t.enterContext(n),N(e,n.value,i,r),void t.exitContext())}function j(e,n,i,r,o){return"function"!=typeof e?o.become(i):(t.enterContext(i),A(e,n,i.value,r,o),void t.exitContext())}function S(e,n,i,r,o){return"function"!=typeof e?o.notify(n):(t.enterContext(i),$(e,n,r,o),void t.exitContext())}function N(e,t,n,i){try{i.become(u(e.call(n,t)))}catch(r){i.become(new y(r))}}function A(e,t,n,i,r){try{e.call(i,t,n,r)}catch(o){r.become(new y(o))}}function $(e,t,n,i){try{i.notify(e.call(n,t))}catch(r){i.notify(r)}}function I(e,t){t.prototype=P(e.prototype),t.prototype.constructor=t}function O(){}var R=e.scheduler,P=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=i,t.reject=r,t.never=o,t._defer=s,t._handler=u,t.prototype.then=function(e,t){var n=this._handler,i=n.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&0>i)return new this.constructor(h,n);var r=this._beget(),o=r._handler;return n.chain(o,n.receiver,e,t,arguments.length>2?arguments[2]:void 0),r},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){var e=this._handler,t=new m(e.receiver,e.join().context);return new this.constructor(h,t)},t.all=a,t.race=c,h.prototype.when=h.prototype.become=h.prototype.notify=h.prototype.fail=h.prototype._unreport=h.prototype._report=O,h.prototype._state=0,h.prototype.state=function(){return this._state},h.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},h.prototype.chain=function(e,t,n,i,r){this.when({resolver:e,receiver:t,fulfilled:n,rejected:i,progress:r})},h.prototype.visit=function(e,t,n,i){this.chain(Y,e,t,n,i)},h.prototype.fold=function(e,t,n,i){this.visit(i,function(i){e.call(n,t,i,this)},i.reject,i.notify)},I(h,f),f.prototype.become=function(e){e.fail()};var Y=new f;I(h,m),m.prototype._state=0,m.prototype.resolve=function(e){this.become(u(e))},m.prototype.reject=function(e){this.resolved||this.become(new y(e))},m.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=x();return e},m.prototype.run=function(){var e=this.consumers,t=this.join();this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},m.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&R.enqueue(this),void 0!==this.context&&e._report(this.context))},m.prototype.when=function(e){this.resolved?R.enqueue(new k(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},m.prototype.notify=function(e){this.resolved||R.enqueue(new T(e,this))},m.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},m.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},m.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},I(h,g),g.prototype.when=function(e){R.enqueue(new k(e,this))},g.prototype._report=function(e){this.join()._report(e)},g.prototype._unreport=function(){this.join()._unreport()},I(m,v),I(h,b),b.prototype._state=1,b.prototype.fold=function(e,t,n,i){j(e,t,this,n,i)},b.prototype.when=function(e){L(e.fulfilled,this,e.receiver,e.resolver)};var z=0;I(h,y),y.prototype._state=-1,y.prototype.fold=function(e,t,n,i){i.become(this)},y.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),L(e.rejected,this,e.receiver,e.resolver)},y.prototype._report=function(e){R.afterQueue(new w(this,e))},y.prototype._unreport=function(){this.handled=!0,R.afterQueue(new _(this))},y.prototype.fail=function(e){t.onFatalRejection(this,void 0===e?this.context:e)},w.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,t.onPotentiallyUnhandledRejection(this.rejection,this.context))},_.prototype.run=function(){this.rejection.reported&&t.onPotentiallyUnhandledRejectionHandled(this.rejection)},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=O;var F=new h,U=new t(h,F);return k.prototype.run=function(){this.handler.join().when(this.continuation)},T.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],S(t.progress,this.value,this.handler,t.receiver,t.resolver)},C.prototype.run=function(){function e(e){i.resolve(e)}function t(e){i.reject(e)}function n(e){i.notify(e)}var i=this.resolver;D(this._then,this.thenable,e,t,n)},t}}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(n(64))},function(e,t,n){"use strict";function i(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}var o=n(15),s=n(40),a=n(10),l=n(508),c=n(22),u=a.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||i()),d=32,p=String.fromCharCode(d),h=o.topLevelTypes,f={beforeInput:{phasedRegistrationNames:{bubbled:c({onBeforeInput:null}),captured:c({onBeforeInputCapture:null})},dependencies:[h.topCompositionEnd,h.topKeyPress,h.topTextInput,h.topPaste]}},m=null,g=!1,v={eventTypes:f,extractEvents:function(e,t,n,i){var o;if(u)switch(e){case h.topKeyPress:var a=i.which;if(a!==d)return;g=!0,o=p;break;case h.topTextInput:if(o=i.data,o===p&&g)return;break;default:return}else{switch(e){case h.topPaste:m=null;break;case h.topKeyPress:i.which&&!r(i)&&(m=String.fromCharCode(i.which));break;case h.topCompositionEnd:m=i.data}if(null===m)return;o=m}if(o){var c=l.getPooled(f.beforeInput,n,i);return c.data=o,m=null,s.accumulateTwoPhaseDispatches(c),c}}};e.exports=v},function(e,t,n){var i=n(3),r={addClass:function(e,t){return i(!/\s/.test(t),'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.add(t):r.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return i(!/\s/.test(t),'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',t),t&&(e.classList?e.classList.remove(t):r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?r.addClass:r.removeClass)(e,t)},hasClass:function(e,t){return i(!/\s/.test(t),"CSS.hasClass takes only a single class name."),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.exports=r},function(e,t,n){"use strict";function i(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function r(e){var t=k.getPooled(M.change,j,e);w.accumulateTwoPhaseDispatches(t),x.batchedUpdates(o,t)}function o(e){y.enqueueEvents(e),y.processEventQueue()}function s(e,t){L=e,j=t,L.attachEvent("onchange",r)}function a(){L&&(L.detachEvent("onchange",r),L=null,j=null)}function l(e,t,n){return e===E.topChange?n:void 0}function c(e,t,n){e===E.topFocus?(a(),s(t,n)):e===E.topBlur&&a()}function u(e,t){L=e,j=t,S=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(L,"value",I),L.attachEvent("onpropertychange",p)}function d(){L&&(delete L.value,L.detachEvent("onpropertychange",p),L=null,j=null,S=null,N=null)}function p(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==S&&(S=t,r(e))}}function h(e,t,n){return e===E.topInput?n:void 0}function f(e,t,n){e===E.topFocus?(d(),u(t,n)):e===E.topBlur&&d()}function m(e){return e!==E.topSelectionChange&&e!==E.topKeyUp&&e!==E.topKeyDown||!L||L.value===S?void 0:(S=L.value,j)}function g(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){return e===E.topClick?n:void 0}var b=n(15),y=n(52),w=n(40),_=n(10),x=n(21),k=n(37),T=n(124),C=n(285),D=n(22),E=b.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:D({onChange:null}),captured:D({onChangeCapture:null})},dependencies:[E.topBlur,E.topChange,E.topClick,E.topFocus,E.topInput,E.topKeyDown,E.topKeyUp,E.topSelectionChange]}},L=null,j=null,S=null,N=null,A=!1;_.canUseDOM&&(A=T("change")&&(!("documentMode"in document)||document.documentMode>8));var $=!1;_.canUseDOM&&($=T("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return N.get.call(this)},set:function(e){S=""+e,N.set.call(this,e)}},O={eventTypes:M,extractEvents:function(e,t,n,r){var o,s;if(i(t)?A?o=l:s=c:C(t)?$?o=h:(o=m,s=f):g(t)&&(o=v),o){var a=o(e,t,n);if(a){var u=k.getPooled(M.change,a,r);return w.accumulateTwoPhaseDispatches(u),u}}s&&s(e,t,n)}};e.exports=O},function(e){"use strict";var t=0,n={createReactRootIndex:function(){return t++}};e.exports=n},function(e,t,n){"use strict";function i(e){switch(e){case b.topCompositionStart:return w.compositionStart;case b.topCompositionEnd:return w.compositionEnd;case b.topCompositionUpdate:return w.compositionUpdate}}function r(e,t){return e===b.topKeyDown&&t.keyCode===m}function o(e,t){switch(e){case b.topKeyUp:return-1!==f.indexOf(t.keyCode);case b.topKeyDown:return t.keyCode!==m;case b.topKeyPress:case b.topMouseDown:case b.topBlur:return!0;default:return!1}}function s(e){this.root=e,this.startSelection=u.getSelection(e),this.startValue=this.getText()}var a=n(15),l=n(40),c=n(10),u=n(113),d=n(505),p=n(123),h=n(22),f=[9,13,27,32],m=229,g=c.canUseDOM&&"CompositionEvent"in window,v=!g||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11,b=a.topLevelTypes,y=null,w={compositionEnd:{phasedRegistrationNames:{bubbled:h({onCompositionEnd:null}),captured:h({onCompositionEndCapture:null})},dependencies:[b.topBlur,b.topCompositionEnd,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:h({onCompositionStart:null}),captured:h({onCompositionStartCapture:null})},dependencies:[b.topBlur,b.topCompositionStart,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:h({onCompositionUpdate:null}),captured:h({onCompositionUpdateCapture:null})},dependencies:[b.topBlur,b.topCompositionUpdate,b.topKeyDown,b.topKeyPress,b.topKeyUp,b.topMouseDown]}};s.prototype.getText=function(){return this.root.value||this.root[p()]},s.prototype.getData=function(){var e=this.getText(),t=this.startSelection.start,n=this.startValue.length-this.startSelection.end;return e.substr(t,e.length-n-t)};var _={eventTypes:w,extractEvents:function(e,t,n,a){var c,u;if(g?c=i(e):y?o(e,a)&&(c=w.compositionEnd):r(e,a)&&(c=w.compositionStart),v&&(y||c!==w.compositionStart?c===w.compositionEnd&&y&&(u=y.getData(),y=null):y=new s(t)),c){var p=d.getPooled(c,n,a);return u&&(p.data=u),l.accumulateTwoPhaseDispatches(p),p}}};e.exports=_},function(e,t,n){"use strict";function i(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var r,o=n(464),s=n(267),a=n(123),l=n(3),c=a();r="textContent"===c?function(e,t){e.textContent=t}:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);if(t){var n=e.ownerDocument||document;e.appendChild(n.createTextNode(t))}};var u={dangerouslyReplaceNodeWithMarkup:o.dangerouslyReplaceNodeWithMarkup,updateTextContent:r,processUpdates:function(e,t){for(var n,a=null,c=null,u=0;n=e[u];u++)if(n.type===s.MOVE_EXISTING||n.type===s.REMOVE_NODE){var d=n.fromIndex,p=n.parentNode.childNodes[d],h=n.parentID;l(p,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",d,h),a=a||{},a[h]=a[h]||[],a[h][d]=p,c=c||[],c.push(p)}var f=o.dangerouslyRenderMarkup(t);if(c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;n=e[g];g++)switch(n.type){case s.INSERT_MARKUP:i(n.parentNode,f[n.markupIndex],n.toIndex);break;case s.MOVE_EXISTING:i(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case s.TEXT_CONTENT:r(n.parentNode,n.textContent);break;case s.REMOVE_NODE:}}};e.exports=u},function(e,t,n){"use strict";function i(e){return e.substring(1,e.indexOf(" "))}var r=n(10),o=n(517),s=n(25),a=n(282),l=n(3),c=/^(<[^ \/>]+)/,u="data-danger-index",d={dangerouslyRenderMarkup:function(e){l(r.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering.");for(var t,n={},d=0;d<e.length;d++)l(e[d],"dangerouslyRenderMarkup(...): Missing markup."),t=i(e[d]),t=a(t)?t:"*",n[t]=n[t]||[],n[t][d]=e[d];var p=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var f=n[t];for(var m in f)if(f.hasOwnProperty(m)){var g=f[m];f[m]=g.replace(c,"$1 "+u+'="'+m+'" ')}var v=o(f.join(""),s);for(d=0;d<v.length;++d){var b=v[d];b.hasAttribute&&b.hasAttribute(u)?(m=+b.getAttribute(u),b.removeAttribute(u),l(!p.hasOwnProperty(m),"Danger: Assigning to an already-occupied result index."),p[m]=b,h+=1):console.error("Danger: Discarding unexpected node:",b)}}return l(h===p.length,"Danger: Did not assign to every index of resultList."),l(p.length===e.length,"Danger: Expected markup to render %s nodes, but rendered %s.",e.length,p.length),p},dangerouslyReplaceNodeWithMarkup:function(e,t){l(r.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use React.renderToString for server rendering."),l(t,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),l("html"!==e.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See renderComponentToString().");var n=o(t,s)[0];e.parentNode.replaceChild(n,e)}};e.exports=d},function(e,t,n){"use strict";var i=n(22),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({CompositionEventPlugin:null}),i({BeforeInputEventPlugin:null}),i({AnalyticsEventPlugin:null}),i({MobileSafariClickEventPlugin:null})];e.exports=r},function(e,t,n){"use strict";var i=n(15),r=n(40),o=n(78),s=n(20),a=n(22),l=i.topLevelTypes,c=s.getFirstReactDOM,u={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},d=[null,null],p={eventTypes:u,extractEvents:function(e,t,n,i){if(e===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var a;if(t.window===t)a=t;else{var p=t.ownerDocument;a=p?p.defaultView||p.parentWindow:window}var h,f;if(e===l.topMouseOut?(h=t,f=c(i.relatedTarget||i.toElement)||a):(h=a,f=t),h===f)return null;var m=h?s.getID(h):"",g=f?s.getID(f):"",v=o.getPooled(u.mouseLeave,m,i);v.type="mouseleave",v.target=h,v.relatedTarget=f;var b=o.getPooled(u.mouseEnter,g,i);return b.type="mouseenter",b.target=f,b.relatedTarget=h,r.accumulateEnterLeaveDispatches(v,b,m,g),d[0]=v,d[1]=b,d}};e.exports=p},function(e,t,n){var i=n(25),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:i})},registerDefault:function(){}};e.exports=r},function(e,t,n){"use strict";var i,r=n(39),o=n(10),s=r.injection.MUST_USE_ATTRIBUTE,a=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,c=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,d=r.injection.HAS_POSITIVE_NUMERIC_VALUE,p=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var h=document.implementation;i=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:s|l,allowTransparency:s,alt:null,async:l,autoComplete:null,autoPlay:l,cellPadding:null,cellSpacing:null,charSet:s,checked:a|l,classID:s,className:i?s:a,cols:s|d,colSpan:null,content:null,contentEditable:null,contextMenu:s,controls:a|l,coords:null,crossOrigin:null,data:null,dateTime:s,defer:l,dir:null,disabled:s|l,download:p,draggable:null,encType:null,form:s,formAction:s,formEncType:s,formMethod:s,formNoValidate:l,formTarget:s,frameBorder:s,height:s,hidden:s|l,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:s,loop:a|l,manifest:s,marginHeight:null,marginWidth:null,max:null,maxLength:s,media:s,mediaGroup:null,method:null,min:null,multiple:a|l,muted:a|l,name:null,noValidate:l,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|l,rel:null,required:l,role:s,rows:s|d,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:s|l,selected:a|l,shape:null,size:s|d,sizes:s,span:d,spellCheck:null,src:null,srcDoc:a,srcSet:s,start:u,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|c,width:s,wmode:s,autoCapitalize:null,autoCorrect:null,itemProp:s,itemScope:s|l,itemType:s,property:null},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},function(e,t,n){"use strict";var i=n(491),r=n(495),o={linkState:function(e){return new i(this.state[e],r.createStateKeySetter(this,e))}};e.exports=o},function(e,t,n){"use strict";var i=n(15),r=n(25),o=i.topLevelTypes,s={eventTypes:null,extractEvents:function(e,t,n,i){if(e===o.topTouchStart){var s=i.target;s&&!s.onclick&&(s.onclick=r)}}};e.exports=s},function(e,t,n){"use strict";var i=n(53),r=n(7),o=i.createFactory(n(276)),s=i.createFactory(n(472)),a=i.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:i.PropTypes.string.isRequired,transitionEnter:i.PropTypes.bool,transitionLeave:i.PropTypes.bool},getDefaultProps:function(){return{transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return s({name:this.props.transitionName,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return o(r({},this.props,{childFactory:this._wrapChild}))}});e.exports=a},function(e,t,n){"use strict";var i=n(53),r=n(459),o=n(498),s=n(288),a=17,l=5e3,c=null;c=function(){console.warn("transition(): tried to perform an animation without an animationend or transitionend event after timeout ("+l+"ms). You should either disable this transition in JS or add a CSS animation/transition.")};var u=i.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),i=this.props.name+"-"+e,s=i+"-active",a=null,u=function(e){e&&e.target!==n||(clearTimeout(a),r.removeClass(n,i),r.removeClass(n,s),o.removeEndEventListener(n,u),t&&t())};o.addEndEventListener(n,u),r.addClass(n,i),this.queueClass(s),a=setTimeout(c,l)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return s(this.props.children)}});e.exports=u},function(e,t,n){"use strict";var i=n(477),r=n(265),o=n(20),s=n(27),a=n(492),l=n(283),c=n(3),u=n(289),d=1,p=9,h={ReactReconcileTransaction:a,BackendIDOperations:i,unmountIDFromEnvironment:function(e){o.purgeID(e)},mountImageIntoNode:s.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(e,t,n){if(c(t&&(t.nodeType===d||t.nodeType===p),"mountComponentIntoNode(...): Target container is not valid."),n){if(r.canReuseMarkup(e,l(t)))return;c(t.nodeType!==p,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side."),console.warn("React attempted to use reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server.")}c(t.nodeType!==p,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See renderComponentToString() for server rendering."),u(t,e)})};e.exports=h},function(e,t,n){"use strict";var i=n(290),r={shouldComponentUpdate:function(e,t){return!i(this.props,e)||!i(this.state,t)}};e.exports=r},function(e,t,n){"use strict";var i=n(76),r=n(26),o=n(24),s=n(9),a=n(36),l=n(56),c=s.createFactory(a.button.type),u=l({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),d=o.createClass({displayName:"ReactDOMButton",mixins:[i,r],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&u[t]||(e[t]=this.props[t]);return c(e,this.props.children)}});e.exports=d},function(e,t,n){"use strict";var i=n(15),r=n(261),o=n(26),s=n(24),a=n(9),l=n(36),c=a.createFactory(l.form.type),u=s.createClass({displayName:"ReactDOMForm",mixins:[o,r],render:function(){return c(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(i.topLevelTypes.topSubmit,"submit")}});e.exports=u},function(e,t,n){"use strict";var i=n(259),r=n(463),o=n(51),s=n(20),a=n(27),l=n(3),c=n(289),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},d={updatePropertyByID:a.measure("ReactDOMIDOperations","updatePropertyByID",function(e,t,n){var i=s.getNode(e);l(!u.hasOwnProperty(t),"updatePropertyByID(...): %s",u[t]),null!=n?o.setValueForProperty(i,t,n):o.deleteValueForProperty(i,t)}),deletePropertyByID:a.measure("ReactDOMIDOperations","deletePropertyByID",function(e,t,n){var i=s.getNode(e);l(!u.hasOwnProperty(t),"updatePropertyByID(...): %s",u[t]),o.deleteValueForProperty(i,t,n)}),updateStylesByID:a.measure("ReactDOMIDOperations","updateStylesByID",function(e,t){var n=s.getNode(e);i.setValueForStyles(n,t)}),updateInnerHTMLByID:a.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(e,t){var n=s.getNode(e);c(n,t)}),updateTextContentByID:a.measure("ReactDOMIDOperations","updateTextContentByID",function(e,t){var n=s.getNode(e);r.updateTextContent(n,t)}),dangerouslyReplaceNodeWithMarkupByID:a.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(e,t){var n=s.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)}),dangerouslyProcessChildrenUpdates:a.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=s.getNode(e[n].parentID);r.processUpdates(e,t)})};e.exports=d},function(e,t,n){"use strict";var i=n(15),r=n(261),o=n(26),s=n(24),a=n(9),l=n(36),c=a.createFactory(l.img.type),u=s.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[o,r],render:function(){return c(this.props)},componentDidMount:function(){this.trapBubbledEvent(i.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(i.topLevelTypes.topError,"error")}});e.exports=u},function(e,t,n){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var r=n(76),o=n(51),s=n(110),a=n(26),l=n(24),c=n(9),u=n(36),d=n(20),p=n(21),h=n(7),f=n(3),m=c.createFactory(u.input.type),g={},v=l.createClass({displayName:"ReactDOMInput",mixins:[r,s.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=e?e:null}},render:function(){var e=h({},this.props);e.defaultChecked=null,e.defaultValue=null;var t=s.getValue(this);e.value=null!=t?t:this.state.initialValue;var n=s.getChecked(this);return e.checked=null!=n?n:this.state.initialChecked,e.onChange=this._handleChange,m(e,this.props.children)},componentDidMount:function(){var e=d.getID(this.getDOMNode());g[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=d.getID(e);delete g[t]},componentDidUpdate:function(){var e=this.getDOMNode();null!=this.props.checked&&o.setValueForProperty(e,"checked",this.props.checked||!1);var t=s.getValue(this);null!=t&&o.setValueForProperty(e,"value",""+t)},_handleChange:function(e){var t,n=s.getOnChange(this);n&&(t=n.call(this,e)),p.asap(i,this);var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var o=this.getDOMNode(),a=o;a.parentNode;)a=a.parentNode;for(var l=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),c=0,u=l.length;u>c;c++){var h=l[c];if(h!==o&&h.form===o.form){var m=d.getID(h);f(m,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var v=g[m];f(v,"ReactDOMInput: Unknown radio button ID %s.",m),p.asap(i,v)}}}return t}});e.exports=v},function(e,t,n){"use strict";var i=n(26),r=n(24),o=n(9),s=n(36),a=n(11),l=o.createFactory(s.option.type),c=r.createClass({displayName:"ReactDOMOption",mixins:[i],componentWillMount:function(){a(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.")},render:function(){return l(this.props,this.props.children)}});e.exports=c},function(e,t,n){"use strict";function i(){this.isMounted()&&(this.setState({value:this._pendingValue}),this._pendingValue=0)}function r(e,t){if(null!=e[t])if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function o(e,t){var n,i,r,o=e.props.multiple,s=null!=t?t:e.state.value,a=e.getDOMNode().options;if(o)for(n={},i=0,r=s.length;r>i;++i)n[""+s[i]]=!0;else n=""+s;for(i=0,r=a.length;r>i;i++){var l=o?n.hasOwnProperty(a[i].value):a[i].value===n;l!==a[i].selected&&(a[i].selected=l)}}var s=n(76),a=n(110),l=n(26),c=n(24),u=n(9),d=n(36),p=n(21),h=n(7),f=u.createFactory(d.select.type),m=c.createClass({displayName:"ReactDOMSelect",mixins:[s,a.Mixin,l],propTypes:{defaultValue:r,value:r},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillMount:function(){this._pendingValue=null},componentWillReceiveProps:function(e){!this.props.multiple&&e.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!e.multiple&&this.setState({value:this.state.value[0]})},render:function(){var e=h({},this.props);return e.onChange=this._handleChange,e.value=null,f(e,this.props.children)},componentDidMount:function(){o(this,a.getValue(this))},componentDidUpdate:function(e){var t=a.getValue(this),n=!!e.multiple,i=!!this.props.multiple;(null!=t||n!==i)&&o(this,t)},_handleChange:function(e){var t,n=a.getOnChange(this);n&&(t=n.call(this,e));var r;if(this.props.multiple){r=[];for(var o=e.target.options,s=0,l=o.length;l>s;s++)o[s].selected&&r.push(o[s].value)}else r=e.target.value;return this._pendingValue=r,p.asap(i,this),t}});e.exports=m},function(e,t,n){"use strict";function i(e,t,n,i){return e===n&&t===i}function r(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length,s=o+i;return{start:o,end:s}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,s=t.focusOffset,a=t.getRangeAt(0),l=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:a.toString().length,u=a.cloneRange();u.selectNodeContents(e),u.setEnd(a.startContainer,a.startOffset);var d=i(u.startContainer,u.startOffset,u.endContainer,u.endOffset),p=d?0:u.toString().length,h=p+c,f=document.createRange();f.setStart(n,r),f.setEnd(o,s);var m=f.collapsed;return{start:m?h:p,end:m?p:h}}function s(e,t){var n,i,r=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function a(e,t){if(window.getSelection){var n=window.getSelection(),i=e[u()].length,r=Math.min(t.start,i),o="undefined"==typeof t.end?r:Math.min(t.end,i);
if(!n.extend&&r>o){var s=o;o=r,r=s}var a=c(e,r),l=c(e,o);if(a&&l){var d=document.createRange();d.setStart(a.node,a.offset),n.removeAllRanges(),r>o?(n.addRange(d),n.extend(l.node,l.offset)):(d.setEnd(l.node,l.offset),n.addRange(d))}}}var l=n(10),c=n(522),u=n(123),d=l.canUseDOM&&document.selection,p={getOffsets:d?r:o,setOffsets:d?s:a};e.exports=p},function(e,t,n){"use strict";function i(){this.isMounted()&&this.forceUpdate()}var r=n(76),o=n(51),s=n(110),a=n(26),l=n(24),c=n(9),u=n(36),d=n(21),p=n(7),h=n(3),f=n(11),m=c.createFactory(u.textarea.type),g=l.createClass({displayName:"ReactDOMTextarea",mixins:[r,s.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(f(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),h(null==e,"If you supply `defaultValue` on a <textarea>, do not pass children."),Array.isArray(t)&&(h(t.length<=1,"<textarea> can only have at most one child."),t=t[0]),e=""+t),null==e&&(e="");var n=s.getValue(this);return{initialValue:""+(null!=n?n:e)}},render:function(){var e=p({},this.props);return h(null==e.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,m(e,this.state.initialValue)},componentDidUpdate:function(){var e=s.getValue(this);if(null!=e){var t=this.getDOMNode();o.setValueForProperty(t,"value",""+e)}},_handleChange:function(e){var t,n=s.getOnChange(this);return n&&(t=n.call(this,e)),d.asap(i,this),t}});e.exports=g},function(e,t,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(21),o=n(79),s=n(7),a=n(25),l={initialize:a,close:function(){p.isBatchingUpdates=!1}},c={initialize:a,close:r.flushBatchedUpdates.bind(r)},u=[c,l];s(i.prototype,o.Mixin,{getTransactionWrappers:function(){return u}});var d=new i,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n){var i=p.isBatchingUpdates;p.isBatchingUpdates=!0,i?e(t,n):d.perform(e,null,t,n)}};e.exports=p},function(e,t,n){"use strict";function i(){C.EventEmitter.injectReactEventListener(T),C.EventPluginHub.injectEventPluginOrder(l),C.EventPluginHub.injectInstanceHandle(D),C.EventPluginHub.injectMount(E),C.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:j,EnterLeaveEventPlugin:c,ChangeEventPlugin:o,CompositionEventPlugin:a,MobileSafariClickEventPlugin:p,SelectEventPlugin:M,BeforeInputEventPlugin:r}),C.NativeComponent.injectGenericComponentClass(g),C.NativeComponent.injectComponentClasses({button:v,form:b,img:y,input:w,option:_,select:x,textarea:k,html:N("html"),head:N("head"),body:N("body")}),C.CompositeComponent.injectMixin(h),C.DOMProperty.injectDOMPropertyConfig(d),C.DOMProperty.injectDOMPropertyConfig(S),C.EmptyComponent.injectEmptyComponent("noscript"),C.Updates.injectReconcileTransaction(f.ReactReconcileTransaction),C.Updates.injectBatchingStrategy(m),C.RootIndex.injectCreateReactRootIndex(u.canUseDOM?s.createReactRootIndex:L.createReactRootIndex),C.Component.injectEnvironment(f);var e=u.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(e)){var t=n(264);t.start()}}var r=n(458),o=n(460),s=n(461),a=n(462),l=n(465),c=n(466),u=n(10),d=n(468),p=n(470),h=n(26),f=n(473),m=n(484),g=n(263),v=n(475),b=n(476),y=n(478),w=n(479),_=n(480),x=n(481),k=n(483),T=n(489),C=n(490),D=n(55),E=n(20),M=n(501),L=n(502),j=n(503),S=n(500),N=n(516);e.exports={inject:i}},function(e,t,n){function i(e){for(var t=0,n=0;n<e.length;n++){var i=e[n];t+=i.totalTime}return t}function r(e){for(var t=[],n=0;n<e.length;n++){var i,r=e[n];for(i in r.writes)r.writes[i].forEach(function(e){t.push({id:i,type:u[e.type]||e.type,args:e.args})})}return t}function o(e){for(var t,n={},i=0;i<e.length;i++){var r=e[i],o=l({},r.exclusive,r.inclusive);for(var s in o)t=r.displayNames[s].current,n[t]=n[t]||{componentName:t,inclusive:0,exclusive:0,render:0,count:0},r.render[s]&&(n[t].render+=r.render[s]),r.exclusive[s]&&(n[t].exclusive+=r.exclusive[s]),r.inclusive[s]&&(n[t].inclusive+=r.inclusive[s]),r.counts[s]&&(n[t].count+=r.counts[s])}var a=[];for(t in n)n[t].exclusive>=c&&a.push(n[t]);return a.sort(function(e,t){return t.exclusive-e.exclusive}),a}function s(e,t){for(var n,i={},r=0;r<e.length;r++){var o,s=e[r],u=l({},s.exclusive,s.inclusive);t&&(o=a(s));for(var d in u)if(!t||o[d]){var p=s.displayNames[d];n=p.owner+" > "+p.current,i[n]=i[n]||{componentName:n,time:0,count:0},s.inclusive[d]&&(i[n].time+=s.inclusive[d]),s.counts[d]&&(i[n].count+=s.counts[d])}}var h=[];for(n in i)i[n].time>=c&&h.push(i[n]);return h.sort(function(e,t){return t.time-e.time}),h}function a(e){var t={},n=Object.keys(e.writes),i=l({},e.exclusive,e.inclusive);for(var r in i){for(var o=!1,s=0;s<n.length;s++)if(0===n[s].indexOf(r)){o=!0;break}!o&&e.counts[r]>0&&(t[r]=!0)}return t}var l=n(7),c=1.2,u={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},d={getExclusiveSummary:o,getInclusiveSummary:s,getDOMSummary:r,getTotalTime:i};e.exports=d},function(e){"use strict";var t={guard:function(e){return e}};e.exports=t},function(e,t,n){"use strict";function i(e){r.enqueueEvents(e),r.processEventQueue()}var r=n(52),o={handleTopLevel:function(e,t,n,o){var s=r.extractEvents(e,t,n,o);i(s)}};e.exports=o},function(e,t,n){"use strict";function i(e){var t=d.getID(e),n=u.getReactRootIDFromNodeID(t),i=d.findReactContainerForID(n),r=d.getFirstReactDOM(i);return r}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){for(var t=d.getFirstReactDOM(f(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=i(n);for(var r=0,o=e.ancestors.length;o>r;r++){t=e.ancestors[r];var s=d.getID(t)||"";g._handleTopLevel(e.topLevelType,t,s,e.nativeEvent)}}function s(e){var t=m(window);e(t)}var a=n(467),l=n(10),c=n(35),u=n(55),d=n(20),p=n(21),h=n(7),f=n(122),m=n(284);h(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var i=n;if(i)return a.listen(i,t,g.dispatchEvent.bind(null,e))},trapCapturedEvent:function(e,t,n){var i=n;if(i)return a.capture(i,t,g.dispatchEvent.bind(null,e))},monitorScrollValue:function(e){var t=s.bind(null,e);a.listen(window,"scroll",t),a.listen(window,"resize",t)},dispatchEvent:function(e,t){if(g._enabled){var n=r.getPooled(e,t);try{p.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=g},function(e,t,n){"use strict";var i=n(39),r=n(52),o=n(54),s=n(24),a=n(77),l=n(41),c=n(268),u=n(27),d=n(275),p=n(21),h={Component:o.injection,CompositeComponent:s.injection,DOMProperty:i.injection,EmptyComponent:a.injection,EventPluginHub:r.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:u.injection,RootIndex:d.injection,Updates:p.injection};e.exports=h},function(e,t,n){"use strict";function i(e,t){this.value=e,this.requestChange=t}function r(e){var t={value:"undefined"==typeof e?o.PropTypes.any.isRequired:e.isRequired,requestChange:o.PropTypes.func.isRequired};return o.PropTypes.shape(t)}var o=n(53);i.PropTypes={link:r},e.exports=i},function(e,t,n){"use strict";function i(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=l.getPooled()}var r=n(108),o=n(35),s=n(41),a=n(113),l=n(274),c=n(79),u=n(7),d={initialize:a.getSelectionInformation,close:a.restoreSelection},p={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},m=[f,d,p,h],g={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,l.release(this.putListenerQueue),this.putListenerQueue=null}};u(i.prototype,c.Mixin,g),o.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){u(o.isValidElement(e),"renderToString(): You must pass a valid ReactElement.");var t;try{var n=s.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var i=c(e,null),r=i.mountComponent(n,t,0);return a.addChecksumToMarkup(r)},null)}finally{l.release(t)}}function r(e){u(o.isValidElement(e),"renderToStaticMarkup(): You must pass a valid ReactElement.");var t;try{var n=s.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var i=c(e,null);return i.mountComponent(n,t,0)},null)}finally{l.release(t)}}var o=n(9),s=n(55),a=n(265),l=n(494),c=n(80),u=n(3);e.exports={renderToString:i,renderToStaticMarkup:r}},function(e,t,n){"use strict";function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.putListenerQueue=s.getPooled()}var r=n(35),o=n(108),s=n(274),a=n(79),l=n(7),c=n(25),u={initialize:function(){this.reactMountReady.reset()},close:c},d={initialize:function(){this.putListenerQueue.reset()},close:c},p=[d,u],h={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};l(i.prototype,a.Mixin,h),r.addPoolingTo(i),e.exports=i},function(e){"use strict";function t(e,t){var n={};return function(i){n[t]=i,e.setState(n)}}var n={createStateSetter:function(e,t){return function(n,i,r,o,s,a){var l=t.call(e,n,i,r,o,s,a);l&&e.setState(l)}},createStateKeySetter:function(e,n){var i=e.__keySetters||(e.__keySetters={});return i[n]||(i[n]=t(e,n))}};n.Mixin={createStateSetter:function(e){return n.createStateSetter(this,e)},createStateKeySetter:function(e){return n.createStateKeySetter(this,e)}},e.exports=n},function(e,t,n){"use strict";function i(){}function r(e){return function(t,n){var r;y.isDOMComponent(t)?r=t.getDOMNode():t.tagName&&(r=t);var o=new i;o.target=r;var s=new g(p.eventNameDispatchConfigs[e],h.getID(r),o);v(s,n),c.accumulateTwoPhaseDispatches(s),m.batchedUpdates(function(){l.enqueueEvents(s),l.processEventQueue()})}}function o(){y.Simulate={};var e;for(e in p.eventNameDispatchConfigs)y.Simulate[e]=r(e)}function s(e){return function(t,n){var r=new i(e);v(r,n),y.isDOMComponent(t)?y.simulateNativeEventOnDOMComponent(e,t,r):t.tagName&&y.simulateNativeEventOnNode(e,t,r)}}var a=n(15),l=n(52),c=n(40),u=n(53),d=n(9),p=n(41),h=n(20),f=n(114),m=n(21),g=n(37),v=n(7),b=a.topLevelTypes,y={renderIntoDocument:function(e){var t=document.createElement("div");return u.render(e,t)},isElement:function(e){return d.isValidElement(e)},isElementOfType:function(e,t){return d.isValidElement(e)&&e.type===t.type},isDOMComponent:function(e){return!!(e&&e.mountComponent&&e.tagName)},isDOMComponentElement:function(e){return!!(e&&d.isValidElement(e)&&e.tagName)},isCompositeComponent:function(e){return"function"==typeof e.render&&"function"==typeof e.setState},isCompositeComponentWithType:function(e,t){return!(!y.isCompositeComponent(e)||e.constructor!==t.type)},isCompositeComponentElement:function(e){if(!d.isValidElement(e))return!1;var t=e.type.prototype;return"function"==typeof t.render&&"function"==typeof t.setState},isCompositeComponentElementWithType:function(e,t){return!(!y.isCompositeComponentElement(e)||e.constructor!==t)},isTextComponent:function(e){return e instanceof f.type},findAllInRenderedTree:function(e,t){if(!e)return[];var n=t(e)?[e]:[];if(y.isDOMComponent(e)){var i,r=e._renderedChildren;for(i in r)r.hasOwnProperty(i)&&(n=n.concat(y.findAllInRenderedTree(r[i],t)))}else y.isCompositeComponent(e)&&(n=n.concat(y.findAllInRenderedTree(e._renderedComponent,t)));return n},scryRenderedDOMComponentsWithClass:function(e,t){return y.findAllInRenderedTree(e,function(e){var n=e.props.className;return y.isDOMComponent(e)&&n&&-1!==(" "+n+" ").indexOf(" "+t+" ")})},findRenderedDOMComponentWithClass:function(e,t){var n=y.scryRenderedDOMComponentsWithClass(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for class:"+t);return n[0]},scryRenderedDOMComponentsWithTag:function(e,t){return y.findAllInRenderedTree(e,function(e){return y.isDOMComponent(e)&&e.tagName===t.toUpperCase()})},findRenderedDOMComponentWithTag:function(e,t){var n=y.scryRenderedDOMComponentsWithTag(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for tag:"+t);return n[0]},scryRenderedComponentsWithType:function(e,t){return y.findAllInRenderedTree(e,function(e){return y.isCompositeComponentWithType(e,t)})},findRenderedComponentWithType:function(e,t){var n=y.scryRenderedComponentsWithType(e,t);if(1!==n.length)throw new Error("Did not find exactly one match for componentType:"+t);return n[0]},mockComponent:function(e,t){t=t||e.mockTagName||"div";var n=u.createClass({displayName:"ConvenienceConstructor",render:function(){return u.createElement(t,null,this.props.children)}});return e.mockImplementation(n),e.type=n.type,e.isReactLegacyFactory=!0,this},simulateNativeEventOnNode:function(e,t,n){n.target=t,p.ReactEventListener.dispatchEvent(e,n)},simulateNativeEventOnDOMComponent:function(e,t,n){y.simulateNativeEventOnNode(e,t.getDOMNode(),n)},nativeTouchData:function(e,t){return{touches:[{pageX:e,pageY:t}]}},Simulate:null,SimulateNative:{}},w=l.injection.injectEventPluginOrder;l.injection.injectEventPluginOrder=function(){w.apply(this,arguments),o()};var _=l.injection.injectEventPluginsByName;l.injection.injectEventPluginsByName=function(){_.apply(this,arguments),o()},o();var x;for(x in b){var k=0===x.indexOf("top")?x.charAt(3).toLowerCase()+x.substr(4):x;y.SimulateNative[k]=s(x)}e.exports=y},function(e,t,n){"use strict";var i=n(262),r={getChildMapping:function(e){return i.map(e,function(e){return e})},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var s,a={};for(var l in t){if(i.hasOwnProperty(l))for(s=0;s<i[l].length;s++){var c=i[l][s];a[i[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<r.length;s++)a[r[s]]=n(r[s]);return a}};e.exports=r},function(e,t,n){"use strict";function i(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var i=a[n];for(var r in i)if(r in t){l.push(i[r]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var s=n(10),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];s.canUseDOM&&i();var c={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){o(e,n,t)})}};e.exports=c},function(e,t,n){"use strict";var i=n(469),r=n(53),o=n(474),s=n(471),a=n(276),l=n(21),c=n(116),u=n(278),d=n(531);r.addons={CSSTransitionGroup:s,LinkedStateMixin:i,PureRenderMixin:o,TransitionGroup:a,batchedUpdates:l.batchedUpdates,classSet:c,cloneWithProps:u,update:d},r.addons.Perf=n(264),r.addons.TestUtils=n(496),e.exports=r},function(e,t,n){"use strict";var i=n(39),r=i.injection.MUST_USE_ATTRIBUTE,o={Properties:{cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=o},function(e,t,n){"use strict";function i(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(e){if(!b&&null!=m&&m==c()){var t=i(m);if(!v||!p(v,t)){v=t;var n=l.getPooled(f.select,g,e);return n.type="select",n.target=m,s.accumulateTwoPhaseDispatches(n),n}}}var o=n(15),s=n(40),a=n(113),l=n(37),c=n(281),u=n(285),d=n(22),p=n(290),h=o.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[h.topBlur,h.topContextMenu,h.topFocus,h.topKeyDown,h.topMouseDown,h.topMouseUp,h.topSelectionChange]}},m=null,g=null,v=null,b=!1,y={eventTypes:f,extractEvents:function(e,t,n,i){switch(e){case h.topFocus:(u(t)||"true"===t.contentEditable)&&(m=t,g=n,v=null);break;case h.topBlur:m=null,g=null,v=null;break;case h.topMouseDown:b=!0;break;case h.topContextMenu:case h.topMouseUp:return b=!1,r(i);case h.topSelectionChange:case h.topKeyDown:case h.topKeyUp:return r(i)}}};e.exports=y},function(e){"use strict";var t=Math.pow(2,53),n={createReactRootIndex:function(){return Math.ceil(Math.random()*t)}};e.exports=n},function(e,t,n){"use strict";var i=n(15),r=n(109),o=n(40),s=n(504),a=n(37),l=n(507),c=n(509),u=n(78),d=n(506),p=n(510),h=n(63),f=n(511),m=n(120),g=n(3),v=n(22),b=n(11),y=i.topLevelTypes,w={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},_={topBlur:w.blur,topClick:w.click,topContextMenu:w.contextMenu,topCopy:w.copy,topCut:w.cut,topDoubleClick:w.doubleClick,topDrag:w.drag,topDragEnd:w.dragEnd,topDragEnter:w.dragEnter,topDragExit:w.dragExit,topDragLeave:w.dragLeave,topDragOver:w.dragOver,topDragStart:w.dragStart,topDrop:w.drop,topError:w.error,topFocus:w.focus,topInput:w.input,topKeyDown:w.keyDown,topKeyPress:w.keyPress,topKeyUp:w.keyUp,topLoad:w.load,topMouseDown:w.mouseDown,topMouseMove:w.mouseMove,topMouseOut:w.mouseOut,topMouseOver:w.mouseOver,topMouseUp:w.mouseUp,topPaste:w.paste,topReset:w.reset,topScroll:w.scroll,topSubmit:w.submit,topTouchCancel:w.touchCancel,topTouchEnd:w.touchEnd,topTouchMove:w.touchMove,topTouchStart:w.touchStart,topWheel:w.wheel};for(var x in _)_[x].dependencies=[x];var k={eventTypes:w,executeDispatch:function(e,t,n){var i=r.executeDispatch(e,t,n);b("boolean"!=typeof i,"Returning `false` from an event handler is deprecated and will be ignored in a future release. Instead, manually call e.stopPropagation() or e.preventDefault(), as appropriate."),i===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,i){var r=_[e];if(!r)return null;var v;switch(e){case y.topInput:case y.topLoad:case y.topError:case y.topReset:case y.topSubmit:v=a;break;case y.topKeyPress:if(0===m(i))return null;case y.topKeyDown:case y.topKeyUp:v=c;break;case y.topBlur:case y.topFocus:v=l;break;case y.topClick:if(2===i.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:v=u;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:v=d;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:v=p;break;case y.topScroll:v=h;break;case y.topWheel:v=f;break;case y.topCopy:case y.topCut:case y.topPaste:v=s}g(v,"SimpleEventPlugin: Unhandled event type, `%s`.",e);var b=v.getPooled(r,n,i);return o.accumulateTwoPhaseDispatches(b),b}};e.exports=k},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(37),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(37),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(78),o={dataTransfer:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(63),o={relatedTarget:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(37),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(63),o=n(120),s=n(521),a=n(121),l={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(i,l),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(63),o=n(121),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,s),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){r.call(this,e,t,n)}var r=n(78),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),e.exports=i},function(e){"use strict";function t(e){for(var t=1,i=0,r=0;r<e.length;r++)t=(t+e.charCodeAt(r))%n,i=(i+t)%n;return t|i<<16}var n=65521;e.exports=t},function(e){function t(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=t},function(e,t,n){"use strict";function i(e){return r(e.replace(o,"ms-"))}var r=n(513),o=/^-ms-/;e.exports=i},function(e,t,n){function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return i(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=n(530);e.exports=r},function(e,t,n){"use strict";function i(e){var t=o.createFactory(e),n=r.createClass({displayName:"ReactFullPageComponent"+e,componentWillUnmount:function(){s(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName)},render:function(){return t(this.props)}});return n}var r=n(24),o=n(9),s=n(3);e.exports=i},function(e,t,n){function i(e){var t=e.match(u);return t&&t[1].toLowerCase()}function r(e,t){var n=c;l(!!c,"createNodesFromMarkup dummy not initialized");var r=i(e),o=r&&a(r);if(o){n.innerHTML=o[1]+e+o[2];for(var u=o[0];u--;)n=n.lastChild}else n.innerHTML=e;var d=n.getElementsByTagName("script");d.length&&(l(t,"createNodesFromMarkup(...): Unexpected <script> element rendered."),s(d).forEach(t));for(var p=s(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return p}var o=n(10),s=n(515),a=n(282),l=n(3),c=o.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;e.exports=r},function(e,t,n){"use strict";function i(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var i=isNaN(t);return i||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=n(258),o=r.isUnitlessNumber;e.exports=i},function(e){"use strict";var t={};Object.freeze(t),e.exports=t},function(e,t,n){"use strict";function i(e,t,n){var i=e,r=!i.hasOwnProperty(n);if(a(r,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",n),r&&null!=t){var s,l=typeof t;s="string"===l?o(t):"number"===l?o(""+t):t,i[n]=s}}function r(e){if(null==e)return e;var t={};return s(e,i,t),t}var o=n(114),s=n(291),a=n(11);e.exports=r},function(e,t,n){"use strict";function i(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?s[e.keyCode]||"Unidentified":""}var r=n(120),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},function(e){"use strict";function t(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function n(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,i){for(var r=t(e),o=0,s=0;r;){if(3==r.nodeType){if(s=o+r.textContent.length,i>=o&&s>=i)return{node:r,offset:i-o};o=s}r=t(n(r))}}e.exports=i},function(e){function t(e){return e.replace(n,"-$1").toLowerCase()}var n=/([A-Z])/g;e.exports=t},function(e,t,n){"use strict";function i(e){return r(e).replace(o,"-ms-")}var r=n(523),o=/^ms-/;e.exports=i},function(e){function t(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,n){function i(e){return r(e)&&3==e.nodeType}var r=n(525);e.exports=i},function(e){"use strict";function t(e){e||(e="");var t,n=arguments.length;if(n>1)for(var i=1;n>i;i++)t=arguments[i],t&&(e=(e?e+" ":"")+t);return e}e.exports=t},function(e,t,n){"use strict";var i,r=n(10);r.canUseDOM&&(i=window.performance||window.msPerformance||window.webkitPerformance),e.exports=i||{}},function(e,t,n){var i=n(528);i&&i.now||(i=Date);var r=i.now.bind(i);e.exports=r},function(e,t,n){function i(e){var t=e.length;if(r(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e),"toArray: Array-like object expected"),r("number"==typeof t,"toArray: Object needs a length property"),r(0===t||t-1 in e,"toArray: Object should have keys for indices"),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var i=Array(t),o=0;t>o;o++)i[o]=e[o];return i}var r=n(3);e.exports=i},function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function r(e,t,n){l(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var i=t[n];l(Array.isArray(i),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,i)}function o(e,t){if(l("object"==typeof t,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",m.join(", "),p),t.hasOwnProperty(p))return l(1===Object.keys(t).length,"Cannot have more than one key in an object with %s",p),t[p];var n=i(e);if(t.hasOwnProperty(h)){var a=t[h];l(a&&"object"==typeof a,"update(): %s expects a spec of type 'object'; got %s",h,a),l(n&&"object"==typeof n,"update(): %s expects a target of type 'object'; got %s",h,n),s(n,t[h])}t.hasOwnProperty(c)&&(r(e,t,c),t[c].forEach(function(e){n.push(e)})),t.hasOwnProperty(u)&&(r(e,t,u),t[u].forEach(function(e){n.unshift(e)
})),t.hasOwnProperty(d)&&(l(Array.isArray(e),"Expected %s target to be an array; got %s",d,e),l(Array.isArray(t[d]),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),t[d].forEach(function(e){l(Array.isArray(e),"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",d,t[d]),n.splice.apply(n,e)})),t.hasOwnProperty(f)&&(l("function"==typeof t[f],"update(): expected spec of %s to be a function; got %s.",f,t[f]),n=t[f](n));for(var v in t)g.hasOwnProperty(v)&&g[v]||(n[v]=o(e[v],t[v]));return n}var s=n(7),a=n(22),l=n(3),c=a({$push:null}),u=a({$unshift:null}),d=a({$splice:null}),p=a({$set:null}),h=a({$merge:null}),f=a({$apply:null}),m=[c,u,d,p,h,f],g={};m.forEach(function(e){g[e]=!0}),e.exports=o},function(e){"use strict";function t(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function n(){}n.prototype._events=void 0,n.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,n=this._events[e].length,i=new Array(n);n>t;t++)i[t]=this._events[e][t].fn;return i},n.prototype.emit=function(e,t,n,i,r,o){if(!this._events||!this._events[e])return!1;var s,a,l=this._events[e],c=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(e,l.fn,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,r),!0;case 6:return l.fn.call(l.context,t,n,i,r,o),!0}for(a=1,s=new Array(c-1);c>a;a++)s[a-1]=arguments[a];l.fn.apply(l.context,s)}else{var u,d=l.length;for(a=0;d>a;a++)switch(l[a].once&&this.removeListener(e,l[a].fn,!0),c){case 1:l[a].fn.call(l[a].context);break;case 2:l[a].fn.call(l[a].context,t);break;case 3:l[a].fn.call(l[a].context,t,n);break;default:if(!s)for(u=1,s=new Array(c-1);c>u;u++)s[u-1]=arguments[u];l[a].fn.apply(l[a].context,s)}}return!0},n.prototype.on=function(e,n,i){var r=new t(n,i||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},n.prototype.once=function(e,n,i){var r=new t(n,i||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},n.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var i=this._events[e],r=[];if(t&&(i.fn&&(i.fn!==t||n&&!i.once)&&r.push(i),!i.fn))for(var o=0,s=i.length;s>o;o++)(i[o].fn!==t||n&&!i[o].once)&&r.push(i[o]);return r.length?this._events[e]=1===r.length?r[0]:r:delete this._events[e],this},n.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[e]:this._events={},this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.EventEmitter=n,n.EventEmitter2=n,n.EventEmitter3=n,e.exports=n},function(e,t,n){var i=n(28),r=n(292);e.exports=i.extend({componentWillUnmount:r.stopListeningToAll},r)},function(e,t,n){var i=n(28);e.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(e,t){var n=function(n){e.apply(t,n)},i=this;return this.emitter.addListener(this.eventLabel,n),function(){i.emitter.removeListener(i.eventLabel,n)}},trigger:function(){var e=arguments,t=this.preEmit.apply(this,e);e=void 0===t?e:i.isArguments(t)?t:[].concat(t),this.shouldEmit.apply(this,e)&&this.emitter.emit(this.eventLabel,e)},triggerAsync:function(){var e=arguments,t=this;i.nextTick(function(){t.trigger.apply(t,e)})}}},function(e,t,n){var i=n(4),r=n(28);e.exports=function(e,t){return{componentDidMount:function(){for(var n in i.ListenerMethods)if(this[n]!==i.ListenerMethods[n]){if(this[n])throw"Can't have other property '"+n+"' when using Reflux.listenTo!";this[n]=i.ListenerMethods[n]}var o=this,s=void 0===t?this.setState:function(e){o.setState(r.object([t],[e]))};this.listenTo(e,s,s)},componentWillUnmount:i.ListenerMixin.componentWillUnmount}}},function(e,t,n){var i=n(28),r=n(4),o=n(126),s={preEmit:1,shouldEmit:1};e.exports=function(e){e=e||{};for(var t in e)if(!s[t]&&r.PublisherMethods[t])throw new Error("Cannot override API method "+t+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");var n=i.extend({eventLabel:"action",emitter:new i.EventEmitter,_isAction:!0},r.PublisherMethods,e),a=function(){a[a.sync?"trigger":"triggerAsync"].apply(a,arguments)};return i.extend(a,n),o.createdActions.push(a),a}},function(e,t,n){var i=n(4);e.exports=function(e,t,n){return{componentDidMount:function(){for(var r in i.ListenerMethods)if(this[r]!==i.ListenerMethods[r]){if(this[r])throw"Can't have other property '"+r+"' when using Reflux.listenTo!";this[r]=i.ListenerMethods[r]}this.listenTo(e,t,n)},componentWillUnmount:i.ListenerMethods.stopListeningToAll}}},function(e,t,n){var i=n(4);e.exports=function(e){return{componentDidMount:function(){for(var t in i.ListenerMethods)if(this[t]!==i.ListenerMethods[t]){if(this[t])throw"Can't have other property '"+t+"' when using Reflux.listenToMany!";this[t]=i.ListenerMethods[t]}this.listenToMany(e)},componentWillUnmount:i.ListenerMethods.stopListeningToAll}}},function(e){e.exports=function(e){"function"==typeof execScript?execScript(e):eval.call(null,e)}},function(e,t,n){n(539)(n(430)+"\n\n// SCRIPT-LOADER FOOTER\n//# sourceURL=script:///Users/nish/Development/nextgen/center-ui/node_modules/w2ui/dist/w2ui.js")},function(e){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[r]||(p.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",p.cssRules.length),d[r]=1),r}function i(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<u.length;i++)if(n=u[i]+t,void 0!==r[n])return n;return void 0!==r[t]?t:void 0}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,h)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function o(){return r(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(e,a,l){t(p,t(r(o(),{rotation:360/i.lines*e+"deg",left:~~a}),t(r(n("roundrect",{arcsize:i.corners}),{width:c,height:i.width,left:i.radius,top:-i.width>>1,filter:l}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.length+i.width,u=2*c,d=2*-(i.width+i.length)+"px",p=r(o(),{position:"absolute",top:d,left:d});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return t(e,p)},a.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,u=["webkit","Moz","ms","O"],d={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,o=n.el=r(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(r(o,{left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var s,a=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,d=u/i.speed,p=(1-i.opacity)/(d*i.trail/100),h=d/i.lines;!function f(){a++;for(var e=0;e<i.lines;e++)s=Math.max(1-(a+(i.lines-e)*h)%d*p,i.opacity),n.opacity(o,e*i.direction+l,s,i);n.timeout=n.el&&setTimeout(f,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function a(t,n){return r(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var l,u=0,d=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=r(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,d+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,r(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var f=r(e("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?l():c=i(f,"animation"),a})},function(e){function t(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=l[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(r(i.parts[s],t))}else{for(var a=[],s=0;s<i.parts.length;s++)a.push(r(i.parts[s],t));l[i.id]={id:i.id,refs:1,parts:a}}}}function n(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],s=r[1],a=r[2],l=r[3],c={css:s,media:a,sourceMap:l};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function i(){var e=document.createElement("style"),t=d();return e.type="text/css",t.appendChild(e),e}function r(e,t){var n,r,o;if(t.singleton){var l=h++;n=p||(p=i()),r=s.bind(null,n,l,!1),o=s.bind(null,n,l,!0)}else n=i(),r=a.bind(null,n),o=function(){n.parentNode.removeChild(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function o(e,t,n){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],r=e.lastIndexOf(i[0]),o=n?i[0]+n+i[1]:"";if(e.lastIndexOf(i[0])>=0){var s=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,r)+o+e.slice(s)}return e+o}function s(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=o(e.styleSheet.cssText,t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function a(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(r&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(r))+" */",n='@import url("data:stylesheet/css;base64,'+btoa(n)+'")'}catch(o){}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l={},c=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},u=c(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),d=c(function(){return document.head||document.getElementsByTagName("head")[0]}),p=null,h=0;e.exports=function(e,i){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");i=i||{},"undefined"==typeof i.singleton&&(i.singleton=u());var r=n(e);return t(r,i),function(e){for(var o=[],s=0;s<r.length;s++){var a=r[s],c=l[a.id];c.refs--,o.push(c)}if(e){var u=n(e);t(u,i)}for(var s=0;s<o.length;s++){var c=o[s];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete l[c.id]}}}}},function(e,t,n){var i=n(431);"string"==typeof i&&(i=[[e.id,i,""]]);n(542)(i,{})},function(e,t,n){var i,r,o;!function(s,a){"use strict";r=[n(545)],i=a,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t,n){return u("%s is `%j` should be a `%s`","/"+n.join("/"),e,t.meta.name)}function n(e,t){return new p(i(e,t,[]))}function i(t,n,i){var r=e.util.getKind(n);return h[r](t,n,i)}var r=e.Any,o=e.Obj,s=e.Str,a=e.Arr,l=e.struct,c=e.list,u=e.util.format,d=l({message:s,actual:r,expected:e.Type,path:c(e.union([s,e.Num]))},"ValidationError");d.of=function(e,n,i){return new d({message:t(e,n,i),actual:e,expected:n,path:i})};var p=l({errors:c(d),value:r},"ValidationResult");p.prototype.isValid=function(){return!this.errors.length},p.prototype.firstError=function(){return this.isValid()?null:this.errors[0]},p.prototype.toString=function(){return this.isValid()?u("[ValidationResult, true, %j]",this.value):u("[ValidationResult, false, (%s)]",this.errors.map(function(e){return e.message}).join(", "))};var h={};return h.irriducible=h.enums=function(e,t,n){return{value:e,errors:t.is(e)?[]:[d.of(e,t,n)]}},h.list=function(e,t,n){if(!a.is(e))return{value:e,errors:[d.of(e,t,n)]};for(var r={value:[],errors:[]},o=0,s=e.length;s>o;o++){var l=i(e[o],t.meta.type,n.concat(o));r.value[o]=l.value,r.errors=r.errors.concat(l.errors)}return r},h.subtype=function(e,t,n){var r=i(e,t.meta.type,n);return r.errors.length?r:(t.meta.predicate(r.value)||(r.errors=[d.of(e,t,n)]),r)},h.maybe=function(t,n,r){return e.Nil.is(t)?{value:null,errors:[]}:i(t,n.meta.type,r)},h.struct=function(e,t,n){if(!o.is(e))return{value:e,errors:[d.of(e,t,n)]};if(t.is(e))return{value:e,errors:[]};var r={value:{},errors:[]},s=t.meta.props;for(var a in s)if(s.hasOwnProperty(a)){var l=i(e[a],s[a],n.concat(a));r.value[a]=l.value,r.errors=r.errors.concat(l.errors)}return r.errors.length||(r.value=new t(r.value)),r},h.tuple=function(e,t,n){var r=t.meta.types,o=r.length;if(!a.is(e)||e.length>o)return{value:e,errors:[d.of(e,t,n)]};for(var s={value:[],errors:[]},l=0;o>l;l++){var c=i(e[l],r[l],n.concat(l));s.value[l]=c.value,s.errors=s.errors.concat(c.errors)}return s},h.dict=function(e,t,n){if(!o.is(e))return{value:e,errors:[d.of(e,t,n)]};var r={value:{},errors:[]};for(var s in e)if(e.hasOwnProperty(s)){n=n.concat(s);var a=i(s,t.meta.domain,n),l=i(e[s],t.meta.codomain,n);r.value[s]=l.value,r.errors=r.errors.concat(a.errors,l.errors)}return r},h.union=function(t,n,r){var o=n.dispatch(t);return e.Func.is(o)?i(t,o,r.concat(n.meta.types.indexOf(o))):{value:t,errors:[d.of(t,n,r)]}},e.util.mixin(e,{ValidationError:d,ValidationResult:p,validate:n}),e})},function(e,t){var n,i,r;!function(o,s){"use strict";i=[],n=s,r="function"==typeof n?n.apply(t,i):n,!(void 0!==r&&(e.exports=r))}(this,function(){"use strict";function e(e){throw _=!0,new Error(e)}function t(e){x.onFail(e)}function n(e){if(e!==!0){var n=k.call(arguments,1),i=n[0]?r.apply(null,n):"assert failed";t(i)}}function i(e,t,i){if(C.is(t))return e;for(var r in t)t.hasOwnProperty(r)&&(i!==!0&&n(!e.hasOwnProperty(r),"cannot overwrite property %s",r),e[r]=t[r]);return e}function r(){function e(e,o){if("%%"===e)return"%";if(i>=n)return e;var s=r.formatters[o];return s?s(t[i++]):e}var t=k.call(arguments),n=t.length,i=1,o=t[0],s=o.replace(/%([a-z%])/g,e);return n>i&&(s+=" "+t.slice(i).join(" ")),s}function o(e,t){return"function"==typeof t?r("Func",t.name):t}function s(e){return n(I.is(e),"Invalid argument `type` of value `%j` supplied to `getName()`, expected a type.",e),e.meta.name}function a(e){return n(I.is(e),"Invalid argument `type` of value `%j` supplied to `geKind()`, expected a type.",e),e.meta.kind}function l(e,t){n(!(e instanceof t),"Operator `new` is forbidden for `%s`",s(t))}function c(e){return L.is(e)?e.concat():j.is(e)?i({},e):e}function u(e,t){n(j.is(t));var i=c(e);for(var r in t)if(t.hasOwnProperty(r)){if(u.commands.hasOwnProperty(r))return n(1===Object.keys(t).length),u.commands[r](t[r],i);i[r]=u(i[r],t[r])}return i}function d(e,t){function i(r){return l(this,i),n(t(r),"Invalid `%s` supplied to `%s`",r,e),r}return n("string"==typeof e,"Invalid argument `name` supplied to `irriducible()`"),n("function"==typeof t,"Invalid argument `is` supplied to `irriducible()`"),i.meta={kind:"irriducible",name:e},i.displayName=e,i.is=t,i}function p(e,t){function r(i,o){if(r.is(i))return i;if(n(j.is(i),"Invalid `%s` supplied to `%s`, expected an `Obj`",i,t),!(this instanceof r))return new r(i,o);for(var s in e)if(e.hasOwnProperty(s)){var a=e[s],l=i[s];this[s]=a(l,o)}o!==!0&&Object.freeze(this)}return n(y(D,I).is(e),"Invalid argument `props` supplied to `struct()`"),n(f(D).is(t),"Invalid argument `name` supplied to `struct()`"),t=t||"struct",r.meta={kind:"struct",props:e,name:t},r.displayName=t,r.is=function(e){return e instanceof r},r.update=function(e,t,n){return new r(u(e,t,n))},r.extend=function(t,n){var o=p([e].concat(t).reduce(i,{}),n);return i(o.prototype,r.prototype),o},r}function h(e,t){function i(e,r){l(this,i),n(S.is(i.dispatch),"unimplemented %s.dispatch()",t);var o=i.dispatch(e);return n(I.is(o),"%s.dispatch() returns no type",t),o(e,r)}n(b(I).is(e),"Invalid argument `types` supplied to `union()`");var o=e.length;return n(o>=2,"Invalid argument `types` supplied to `union()`"),n(f(D).is(t),"Invalid argument `name` supplied to `union()`"),t=t||r("union([%s])",e.map(s).join(", ")),i.meta={kind:"union",types:e,name:t},i.displayName=t,i.is=function(t){return e.some(function(e){return e.is(t)})},i.dispatch=function(t){for(var n=0,i=e.length;i>n;n++)if(e[n].is(t))return e[n]},i}function f(e,t){function i(t,n){return l(this,i),C.is(t)?null:e(t,n)}return n(I.is(e),"Invalid argument `type` supplied to `maybe()`"),"maybe"===a(e)?e:(n(C.is(t)||D.is(t),"Invalid argument `name` supplied to `maybe()`"),t=t||r("maybe(%s)",s(e)),i.meta={kind:"maybe",type:e,name:t},i.displayName=t,i.is=function(t){return C.is(t)||e.is(t)},i)}function m(e,t){function i(e){return l(this,i),n(i.is(e),"Invalid `%s` supplied to `%s`, expected one of %j",e,t,r),e}n(j.is(e),"Invalid argument `map` supplied to `enums()`"),n(f(D).is(t),"Invalid argument `name` supplied to `enums()`"),t=t||"enums";var r=Object.keys(e);return i.meta={kind:"enums",map:e,name:t},i.displayName=t,i.is=function(t){return D.is(t)&&e.hasOwnProperty(t)},i}function g(e,t){function i(r,s){n(L.is(r)&&r.length===o,"Invalid `%s` supplied to `%s`, expected an `Arr` of length `%s`",r,t,o);var a=s!==!0;if(i.isTuple(r)&&Object.isFrozen(r)===a)return r;for(var l=[],c=0;o>c;c++){var u=e[c],d=r[c];l.push(u(d,s))}return a&&Object.freeze(l),l}n(b(I).is(e),"Invalid argument `types` supplied to `tuple()`");var o=e.length;return n(f(D).is(t),"Invalid argument `name` supplied to `tuple()`"),t=t||r("tuple([%s])",e.map(s).join(", ")),i.meta={kind:"tuple",types:e,length:o,name:t},i.displayName=t,i.isTuple=function(t){return e.every(function(e,n){return e.is(t[n])})},i.is=function(e){return L.is(e)&&e.length===o&&i.isTuple(e)},i.update=function(e,t,n){return i(u(e,t,n))},i}function v(e,t,i){function o(r,s){l(this,o);var c=e(r,s);return n(t(c),"Invalid `%s` supplied to `%s`, %s",r,i,a),c}n(I.is(e),"Invalid argument `type` supplied to `subtype()`"),n(S.is(t),"Invalid argument `predicate` supplied to `subtype()`"),n(f(D).is(i),"Invalid argument `name` supplied to `subtype()`"),i=i||r("subtype(%s)",s(e));var a=t.__doc__||r("insert a valid value for %s",t.name||"the subtype");return o.meta={kind:"subtype",type:e,predicate:t,name:i},o.displayName=i,o.is=function(n){return e.is(n)&&t(n)},o.update=function(e,t,n){return o(u(e,t,n))},o}function b(e,t){function i(r,o){n(L.is(r),"Invalid `%s` supplied to `%s`, expected an `Arr`",r,t);var s=o!==!0;if(i.isList(r)&&Object.isFrozen(r)===s)return r;for(var a=[],l=0,c=r.length;c>l;l++){var u=r[l];a.push(e(u,o))}return s&&Object.freeze(a),a}return n(I.is(e),"Invalid argument `type` supplied to `list()`"),n(f(D).is(t),"Invalid argument `name` supplied to `list()`"),t=t||r("list(%s)",s(e)),i.meta={kind:"list",type:e,name:t},i.displayName=t,i.isList=function(t){return t.every(e.is)},i.is=function(e){return L.is(e)&&i.isList(e)},i.update=function(e,t,n){return i(u(e,t,n))},i}function y(e,t,i){function o(r,s){n(j.is(r),"Invalid `%s` supplied to `%s`, expected an `Obj`",r,i);var a=s!==!0;if(o.isDict(r)&&Object.isFrozen(r)===a)return r;var l={};for(var c in r)if(r.hasOwnProperty(c)){c=e(c);var u=r[c];l[c]=t(u,s)}return a&&Object.freeze(l),l}return n(I.is(e),"Invalid argument `domain` supplied to `dict()`"),n(I.is(t),"Invalid argument `codomain` supplied to `dict()`"),n(f(D).is(i),"Invalid argument `name` supplied to `dict()`"),i=i||r("dict(%s, %s)",s(e),s(t)),o.meta={kind:"dict",domain:e,codomain:t,name:i},o.displayName=i,o.isDict=function(n){for(var i in n)if(n.hasOwnProperty(i)&&(!e.is(i)||!t.is(n[i])))return!1;return!0},o.is=function(e){return j.is(e)&&o.isDict(e)},o.update=function(e,t,n){return o(u(e,t,n))},o}function w(e,t,i){function o(e){return w.is(e)||(e=o.of(e)),n(o.is(e),"Invalid `%s` supplied to `%s`",e,i),e}e=L.is(e)?e:[e],n(b(I).is(e),"Invalid argument `domain` supplied to `func()`"),n(I.is(t),"Invalid argument `codomain` supplied to `func()`"),i=i||r("func([%s], %s)",e.map(s).join(", "),s(t));var a=e.length;return o.meta={kind:"func",domain:e,codomain:t,name:i},o.displayName=i,o.is=function(n){return w.is(n)&&n.func.domain.length===e.length&&n.func.domain.every(function(t,n){return t===e[n]})&&n.func.codomain===t},o.of=function(i){function r(){var n=k.call(arguments),r=Math.min(n.length,a);if(n=g(e.slice(0,r))(n),r===a){var o=i.apply(this,n);return o=t(o)}var s=Function.prototype.bind.apply(i,[this].concat(n)),l=w(e.slice(r),t);return l.of(s)}return n("function"==typeof i),o.is(i)?i:(r.func={domain:e,codomain:t,f:i},r)},o}var _=!1,x={onFail:e},k=Array.prototype.slice;r.formatters={s:function(e){return String(e)},j:function(e){try{return JSON.stringify(e,o)}catch(t){return String(e)}}},u.commands={$apply:function(e,t){return n(S.is(e)),e(t)},$push:function(e,t){return n(L.is(e)),n(L.is(t)),t.concat(e)},$remove:function(e,t){n(L.is(e)),n(j.is(t));for(var i=0,r=e.length;r>i;i++)delete t[e[i]];return t},$set:function(e){return e},$splice:function(e,t){return n(b(L).is(e)),n(L.is(t)),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)},$swap:function(e,t){n(j.is(e)),n(E.is(e.from)),n(E.is(e.to)),n(L.is(t));var i=t[e.to];return t[e.to]=t[e.from],t[e.from]=i,t},$unshift:function(e,t){return n(L.is(e)),n(L.is(t)),e.concat(t)},$merge:function(e,t){return i(i({},t),e,!0)}};var T=d("Any",function(){return!0}),C=d("Nil",function(e){return null===e||void 0===e}),D=d("Str",function(e){return"string"==typeof e}),E=d("Num",function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}),M=d("Bool",function(e){return e===!0||e===!1}),L=d("Arr",function(e){return e instanceof Array}),j=d("Obj",function(e){return!C.is(e)&&"object"==typeof e&&!L.is(e)}),S=d("Func",function(e){return"function"==typeof e}),N=d("Err",function(e){return e instanceof Error}),A=d("Re",function(e){return e instanceof RegExp}),$=d("Dat",function(e){return e instanceof Date}),I=d("Type",function(e){return S.is(e)&&j.is(e.meta)});return m.of=function(e,t){e=D.is(e)?e.split(" "):e;var n={};return e.forEach(function(e){n[e]=e}),m(n,t)},w.is=function(e){return S.is(e)&&j.is(e.func)},{util:{mixin:i,format:r,getName:s,getKind:a,slice:k,shallowCopy:c,update:u},options:x,assert:n,fail:t,Any:T,Nil:C,Str:D,Num:E,Bool:M,Arr:L,Obj:j,Func:S,Err:N,Re:A,Dat:$,Type:I,irriducible:d,struct:p,enums:m,union:h,maybe:f,tuple:g,subtype:v,list:b,dict:y,func:w}})},function(e,t,n){var i,r;/*! tether 0.6.5 */
!function(o,s){i=s,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r))}(this,function(){return function(){var e,t,n,i,r,o,s,a,l,c,u,d,p,h,f,m,g,v,b,y={}.hasOwnProperty,w=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},_=[].slice;null==this.Tether&&(this.Tether={modules:[]}),d=function(e){var t,n,i,r,o;if(n=getComputedStyle(e).position,"fixed"===n)return e;for(i=void 0,t=e;t=t.parentNode;){try{r=getComputedStyle(t)}catch(s){}if(null==r)return t;if(/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&("absolute"!==n||"relative"===(o=r.position)||"absolute"===o||"fixed"===o))return t}return document.body},g=function(){var e;return e=0,function(){return e++}}(),b={},c=function(e){var t,i,o,s,a;if(o=e._tetherZeroElement,null==o&&(o=e.createElement("div"),o.setAttribute("data-tether-id",g()),r(o.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(o),e._tetherZeroElement=o),t=o.getAttribute("data-tether-id"),null==b[t]){b[t]={},a=o.getBoundingClientRect();for(i in a)s=a[i],b[t][i]=s;n(function(){return b[t]=void 0})}return b[t]},h=null,s=function(e){var t,n,i,r,o,s,a;e===document?(n=document,e=document.documentElement):n=e.ownerDocument,i=n.documentElement,t={},a=e.getBoundingClientRect();for(r in a)s=a[r],t[r]=s;return o=c(n),t.top-=o.top,t.left-=o.left,null==t.width&&(t.width=document.body.scrollWidth-t.left-t.right),null==t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-i.clientTop,t.left=t.left-i.clientLeft,t.right=n.body.clientWidth-t.width-t.left,t.bottom=n.body.clientHeight-t.height-t.top,t},l=function(e){return e.offsetParent||document.documentElement},u=function(){var e,t,n,i,o;return e=document.createElement("div"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),r(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),i=e.offsetWidth,t.style.overflow="scroll",o=e.offsetWidth,i===o&&(o=t.clientWidth),document.body.removeChild(t),n=i-o,{width:n,height:n}},r=function(e){var t,n,i,r,o,s,a;for(null==e&&(e={}),t=[],Array.prototype.push.apply(t,arguments),a=t.slice(1),o=0,s=a.length;s>o;o++)if(i=a[o])for(n in i)y.call(i,n)&&(r=i[n],e[n]=r);return e},f=function(e,t){var n,i,r,o,s,l;if(null!=e.classList){for(s=t.split(" "),l=[],r=0,o=s.length;o>r;r++)i=s[r],i.trim()&&l.push(e.classList.remove(i));return l}return n=a(e).replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," "),m(e,n)},t=function(e,t){var n,i,r,o,s;if(null!=e.classList){for(o=t.split(" "),s=[],i=0,r=o.length;r>i;i++)n=o[i],n.trim()&&s.push(e.classList.add(n));return s}return f(e,t),n=a(e)+(" "+t),m(e,n)},p=function(e,t){return null!=e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(a(e))},a=function(e){return e.className instanceof SVGAnimatedString?e.className.baseVal:e.className},m=function(e,t){return e.setAttribute("class",t)},v=function(e,n,i){var r,o,s,a,l,c;for(o=0,a=i.length;a>o;o++)r=i[o],w.call(n,r)<0&&p(e,r)&&f(e,r);for(c=[],s=0,l=n.length;l>s;s++)r=n[s],c.push(p(e,r)?void 0:t(e,r));return c},i=[],n=function(e){return i.push(e)},o=function(){var e,t;for(t=[];e=i.pop();)t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[e]&&(r[e]=[]),this.bindings[e].push({handler:t,ctx:n,once:i})},e.prototype.once=function(e,t,n){return this.on(e,t,n,!0)},e.prototype.off=function(e,t){var n,i,r;if(null!=(null!=(i=this.bindings)?i[e]:void 0)){if(null==t)return delete this.bindings[e];for(n=0,r=[];n<this.bindings[e].length;)r.push(this.bindings[e][n].handler===t?this.bindings[e].splice(n,1):n++);return r}},e.prototype.trigger=function(){var e,t,n,i,r,o,s,a,l;if(n=arguments[0],e=2<=arguments.length?_.call(arguments,1):[],null!=(s=this.bindings)?s[n]:void 0){for(r=0,l=[];r<this.bindings[n].length;)a=this.bindings[n][r],i=a.handler,t=a.ctx,o=a.once,i.apply(null!=t?t:this,e),l.push(o?this.bindings[n].splice(r,1):r++);return l}},e}(),this.Tether.Utils={getScrollParent:d,getBounds:s,getOffsetParent:l,extend:r,addClass:t,removeClass:f,hasClass:p,updateClasses:v,defer:n,flush:o,uniqueId:g,Evented:e,getScrollBarSize:u}}.call(this),function(){var e,t,n,i,r,o,s,a,l,c,u,d,p,h,f,m,g,v,b,y,w,_,x,k,T,C,D,E,M,L=[].slice,j=function(e,t){return function(){return e.apply(t,arguments)}};if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");i=this.Tether,M=i.Utils,m=M.getScrollParent,g=M.getSize,h=M.getOuterSize,d=M.getBounds,p=M.getOffsetParent,c=M.extend,r=M.addClass,x=M.removeClass,C=M.updateClasses,l=M.defer,u=M.flush,f=M.getScrollBarSize,D=function(e,t,n){return null==n&&(n=1),e+n>=t&&t>=e-n},T=function(){var e,t,n,i,r;for(e=document.createElement("div"),r=["transform","webkitTransform","OTransform","MozTransform","msTransform"],n=0,i=r.length;i>n;n++)if(t=r[n],void 0!==e.style[t])return t}(),k=[],_=function(){var e,t,n;for(t=0,n=k.length;n>t;t++)e=k[t],e.position(!1);return u()},v=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},function(){var e,t,n,i,r,o,s,a,l;for(t=null,n=null,i=null,r=function(){if(null!=n&&n>16)return n=Math.min(n-16,250),void(i=setTimeout(r,250));if(!(null!=t&&v()-t<10))return null!=i&&(clearTimeout(i),i=null),t=v(),_(),n=v()-t},a=["resize","scroll","touchmove"],l=[],o=0,s=a.length;s>o;o++)e=a[o],l.push(window.addEventListener(e,r));return l}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},n={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},a=function(n,i){var r,o;return r=n.left,o=n.top,"auto"===r&&(r=e[i.left]),"auto"===o&&(o=t[i.top]),{left:r,top:o}},s=function(e){var t,i;return{left:null!=(t=n[e.left])?t:e.left,top:null!=(i=n[e.top])?i:e.top}},o=function(){var e,t,n,i,r,o,s;for(t=1<=arguments.length?L.call(arguments,0):[],n={top:0,left:0},r=0,o=t.length;o>r;r++)s=t[r],i=s.top,e=s.left,"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof e&&(e=parseFloat(e,10)),n.top+=i,n.left+=e;return n},b=function(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e},y=w=function(e){var t,n,i;return i=e.split(" "),n=i[0],t=i[1],{top:n,left:t}},E=function(){function e(e){this.position=j(this.position,this);var t,n,r,o,s;for(k.push(this),this.history=[],this.setOptions(e,!1),o=i.modules,n=0,r=o.length;r>n;n++)t=o[n],null!=(s=t.initialize)&&s.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,n;return(null!=(t=this.options.classes)?t[e]:void 0)?this.options.classes[e]:(null!=(n=this.options.classes)?n[e]:void 0)!==!1?this.options.classPrefix?""+this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var n,i,o,s,a,l;for(this.options=e,null==t&&(t=!0),n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=c(n,this.options),a=this.options,this.element=a.element,this.target=a.target,this.targetModifier=a.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),l=["element","target"],o=0,s=l.length;s>o;o++){if(i=l[o],null==this[i])throw new Error("Tether Error: Both element and target must be defined");null!=this[i].jquery?this[i]=this[i][0]:"string"==typeof this[i]&&(this[i]=document.querySelector(this[i]))}if(r(this.element,this.getClass("element")),r(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");return this.targetAttachment=y(this.options.targetAttachment),this.attachment=y(this.options.attachment),this.offset=w(this.options.offset),this.targetOffset=w(this.options.targetOffset),null!=this.scrollParent&&this.disable(),this.scrollParent="scroll-handle"===this.targetModifier?this.target:m(this.target),this.options.enabled!==!1?this.enable(t):void 0},e.prototype.getTargetBounds=function(){var e,t,n,i,r,o,s,a,l;if(null==this.targetModifier)return d(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:(e=d(this.target),r={height:e.height,width:e.width,top:e.top,left:e.left},r.height=Math.min(r.height,e.height-(pageYOffset-e.top)),r.height=Math.min(r.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),r.height=Math.min(innerHeight,r.height),r.height-=2,r.width=Math.min(r.width,e.width-(pageXOffset-e.left)),r.width=Math.min(r.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),r.width=Math.min(innerWidth,r.width),r.width-=2,r.top<pageYOffset&&(r.top=pageYOffset),r.left<pageXOffset&&(r.left=pageXOffset),r);case"scroll-handle":return l=this.target,l===document.body?(l=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=d(l),a=getComputedStyle(l),n=l.scrollWidth>l.clientWidth||"scroll"===[a.overflow,a.overflowX]||this.target!==document.body,o=0,n&&(o=15),i=e.height-parseFloat(a.borderTopWidth)-parseFloat(a.borderBottomWidth)-o,r={width:15,height:.975*i*(i/l.scrollHeight),left:e.left+e.width-parseFloat(a.borderLeftWidth)-15},t=0,408>i&&this.target===document.body&&(t=-11e-5*Math.pow(i,2)-.00727*i+22.58),this.target!==document.body&&(r.height=Math.max(r.height,24)),s=this.target.scrollTop/(l.scrollHeight-i),r.top=s*(i-r.height-t)+e.top+parseFloat(a.borderTopWidth),this.target===document.body&&(r.height=Math.max(r.height,24)),r}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return null==this._cache&&(this._cache={}),null==this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){return null==e&&(e=!0),r(this.target,this.getClass("enabled")),r(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e?this.position():void 0},e.prototype.disable=function(){return x(this.target,this.getClass("enabled")),x(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent?this.scrollParent.removeEventListener("scroll",this.position):void 0},e.prototype.destroy=function(){var e,t,n,i,r;for(this.disable(),r=[],e=n=0,i=k.length;i>n;e=++n){if(t=k[e],t===this){k.splice(e,1);break}r.push(void 0)}return r},e.prototype.updateAttachClasses=function(e,t){var n,i,r,o,s,a,c,u,d,p=this;for(null==e&&(e=this.attachment),null==t&&(t=this.targetAttachment),o=["left","top","bottom","right","middle","center"],(null!=(d=this._addAttachClasses)?d.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),n=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],e.top&&n.push(""+this.getClass("element-attached")+"-"+e.top),e.left&&n.push(""+this.getClass("element-attached")+"-"+e.left),t.top&&n.push(""+this.getClass("target-attached")+"-"+t.top),t.left&&n.push(""+this.getClass("target-attached")+"-"+t.left),i=[],s=0,c=o.length;c>s;s++)r=o[s],i.push(""+this.getClass("element-attached")+"-"+r);for(a=0,u=o.length;u>a;a++)r=o[a],i.push(""+this.getClass("target-attached")+"-"+r);return l(function(){return null!=p._addAttachClasses?(C(p.element,p._addAttachClasses,i),C(p.target,p._addAttachClasses,i),p._addAttachClasses=void 0):void 0})},e.prototype.position=function(e){var t,n,r,l,c,h,m,g,v,y,w,_,x,k,T,C,D,E,M,L,j,S,N,A,$,I,O,R,P,Y,z,F,U,H,B,W=this;if(null==e&&(e=!0),this.enabled){for(this.clearCache(),L=a(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,L),t=this.cache("element-bounds",function(){return d(W.element)}),$=t.width,r=t.height,0===$&&0===r&&null!=this.lastSize?(Y=this.lastSize,$=Y.width,r=Y.height):this.lastSize={width:$,height:r},N=S=this.cache("target-bounds",function(){return W.getTargetBounds()}),v=b(s(this.attachment),{width:$,height:r}),j=b(s(L),N),c=b(this.offset,{width:$,height:r}),h=b(this.targetOffset,N),v=o(v,c),j=o(j,h),l=S.left+j.left-v.left,A=S.top+j.top-v.top,z=i.modules,I=0,R=z.length;R>I;I++)if(m=z[I],T=m.position.call(this,{left:l,top:A,targetAttachment:L,targetPos:S,attachment:this.attachment,elementPos:t,offset:v,targetOffset:j,manualOffset:c,manualTargetOffset:h,scrollbarSize:E}),null!=T&&"object"==typeof T){if(T===!1)return!1;A=T.top,l=T.left}if(g={page:{top:A,left:l},viewport:{top:A-pageYOffset,bottom:pageYOffset-A-r+innerHeight,left:l-pageXOffset,right:pageXOffset-l-$+innerWidth}},document.body.scrollWidth>window.innerWidth&&(E=this.cache("scrollbar-size",f),g.viewport.bottom-=E.height),document.body.scrollHeight>window.innerHeight&&(E=this.cache("scrollbar-size",f),g.viewport.right-=E.width),(""!==(F=document.body.style.position)&&"static"!==F||""!==(U=document.body.parentElement.style.position)&&"static"!==U)&&(g.page.bottom=document.body.scrollHeight-A-r,g.page.right=document.body.scrollWidth-l-$),(null!=(H=this.options.optimizations)?H.moveElement:void 0)!==!1&&null==this.targetModifier){for(w=this.cache("target-offsetparent",function(){return p(W.target)}),k=this.cache("target-offsetparent-bounds",function(){return d(w)}),x=getComputedStyle(w),n=getComputedStyle(this.element),_=k,y={},B=["Top","Left","Bottom","Right"],O=0,P=B.length;P>O;O++)M=B[O],y[M.toLowerCase()]=parseFloat(x["border"+M+"Width"]);k.right=document.body.scrollWidth-k.left-_.width+y.right,k.bottom=document.body.scrollHeight-k.top-_.height+y.bottom,g.page.top>=k.top+y.top&&g.page.bottom>=k.bottom&&g.page.left>=k.left+y.left&&g.page.right>=k.right&&(D=w.scrollTop,C=w.scrollLeft,g.offset={top:g.page.top-k.top+D-y.top,left:g.page.left-k.left+C-y.left})}return this.move(g),this.history.unshift(g),this.history.length>3&&this.history.pop(),e&&u(),!0}},e.prototype.move=function(e){var t,n,i,r,o,s,a,u,d,h,f,m,g,v,b,y,w,_=this;if(null!=this.element.parentNode){u={};for(h in e){u[h]={};for(r in e[h]){for(i=!1,y=this.history,v=0,b=y.length;b>v;v++)if(a=y[v],!D(null!=(w=a[h])?w[r]:void 0,e[h][r])){i=!0;break}i||(u[h][r]=!0)}}t={top:"",left:"",right:"",bottom:""},d=function(e,n){var i,r,o;return(null!=(o=_.options.optimizations)?o.gpu:void 0)===!1?(e.top?t.top=""+n.top+"px":t.bottom=""+n.bottom+"px",e.left?t.left=""+n.left+"px":t.right=""+n.right+"px"):(e.top?(t.top=0,r=n.top):(t.bottom=0,r=-n.bottom),e.left?(t.left=0,i=n.left):(t.right=0,i=-n.right),t[T]="translateX("+Math.round(i)+"px) translateY("+Math.round(r)+"px)","msTransform"!==T?t[T]+=" translateZ(0)":void 0)},o=!1,(u.page.top||u.page.bottom)&&(u.page.left||u.page.right)?(t.position="absolute",d(u.page,e.page)):(u.viewport.top||u.viewport.bottom)&&(u.viewport.left||u.viewport.right)?(t.position="fixed",d(u.viewport,e.viewport)):null!=u.offset&&u.offset.top&&u.offset.left?(t.position="absolute",s=this.cache("target-offsetparent",function(){return p(_.target)}),p(this.element)!==s&&l(function(){return _.element.parentNode.removeChild(_.element),s.appendChild(_.element)}),d(u.offset,e.offset),o=!0):(t.position="absolute",d({top:!0,left:!0},e.page)),o||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),g={},m=!1;for(r in t)f=t[r],n=this.element.style[r],""===n||""===f||"top"!==r&&"left"!==r&&"bottom"!==r&&"right"!==r||(n=parseFloat(n),f=parseFloat(f)),n!==f&&(m=!0,g[r]=t[r]);return m?l(function(){return c(_.element.style,g)}):void 0}},e}(),i.position=_,this.Tether=c(E,i)}.call(this),function(){var e,t,n,i,r,o,s,a,l,c,u=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};c=this.Tether.Utils,s=c.getOuterSize,o=c.getBounds,a=c.getSize,i=c.extend,l=c.updateClasses,n=c.defer,t={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"},e=["left","top","right","bottom"],r=function(t,n){var i,r,s,a,l,c,u;if("scrollParent"===n?n=t.scrollParent:"window"===n&&(n=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),n===document&&(n=n.documentElement),null!=n.nodeType)for(r=a=o(n),l=getComputedStyle(n),n=[r.left,r.top,a.width+r.left,a.height+r.top],i=c=0,u=e.length;u>c;i=++c)s=e[i],s=s[0].toUpperCase()+s.substr(1),"Top"===s||"Left"===s?n[i]+=parseFloat(l["border"+s+"Width"]):n[i]-=parseFloat(l["border"+s+"Width"]);return n},this.Tether.modules.push({position:function(t){var s,a,c,d,p,h,f,m,g,v,b,y,w,_,x,k,T,C,D,E,M,L,j,S,N,A,$,I,O,R,P,Y,z,F,U,H,B,W,q,V,G,K,J,Q,X,Z,et,tt=this;if(A=t.top,b=t.left,M=t.targetAttachment,!this.options.constraints)return!0;for(C=function(t){var n,i,r,o;for(tt.removeClass(t),o=[],i=0,r=e.length;r>i;i++)n=e[i],o.push(tt.removeClass(""+t+"-"+n));return o},V=this.cache("element-bounds",function(){return o(tt.element)}),v=V.height,$=V.width,0===$&&0===v&&null!=this.lastSize&&(G=this.lastSize,$=G.width,v=G.height),j=this.cache("target-bounds",function(){return tt.getTargetBounds()}),L=j.height,S=j.width,E={},g={},a=[this.getClass("pinned"),this.getClass("out-of-bounds")],K=this.options.constraints,I=0,Y=K.length;Y>I;I++)m=K[I],m.outOfBoundsClass&&a.push(m.outOfBoundsClass),m.pinnedClass&&a.push(m.pinnedClass);for(O=0,z=a.length;z>O;O++)for(f=a[O],J=["left","top","right","bottom"],R=0,F=J.length;F>R;R++)D=J[R],a.push(""+f+"-"+D);for(s=[],E=i({},M),g=i({},this.attachment),Q=this.options.constraints,P=0,U=Q.length;U>P;P++){if(m=Q[P],N=m.to,c=m.attachment,x=m.pin,null==c&&(c=""),u.call(c," ")>=0?(X=c.split(" "),h=X[0],p=X[1]):p=h=c,d=r(this,N),("target"===h||"both"===h)&&(A<d[1]&&"top"===E.top&&(A+=L,E.top="bottom"),A+v>d[3]&&"bottom"===E.top&&(A-=L,E.top="top")),"together"===h&&(A<d[1]&&"top"===E.top&&("bottom"===g.top?(A+=L,E.top="bottom",A+=v,g.top="top"):"top"===g.top&&(A+=L,E.top="bottom",A-=v,g.top="bottom")),A+v>d[3]&&"bottom"===E.top&&("top"===g.top?(A-=L,E.top="top",A-=v,g.top="bottom"):"bottom"===g.top&&(A-=L,E.top="top",A+=v,g.top="top")),"middle"===E.top&&(A+v>d[3]&&"top"===g.top?(A-=v,g.top="bottom"):A<d[1]&&"bottom"===g.top&&(A+=v,g.top="top"))),("target"===p||"both"===p)&&(b<d[0]&&"left"===E.left&&(b+=S,E.left="right"),b+$>d[2]&&"right"===E.left&&(b-=S,E.left="left")),"together"===p&&(b<d[0]&&"left"===E.left?"right"===g.left?(b+=S,E.left="right",b+=$,g.left="left"):"left"===g.left&&(b+=S,E.left="right",b-=$,g.left="right"):b+$>d[2]&&"right"===E.left?"left"===g.left?(b-=S,E.left="left",b-=$,g.left="right"):"right"===g.left&&(b-=S,E.left="left",b+=$,g.left="left"):"center"===E.left&&(b+$>d[2]&&"left"===g.left?(b-=$,g.left="right"):b<d[0]&&"right"===g.left&&(b+=$,g.left="left"))),("element"===h||"both"===h)&&(A<d[1]&&"bottom"===g.top&&(A+=v,g.top="top"),A+v>d[3]&&"top"===g.top&&(A-=v,g.top="bottom")),("element"===p||"both"===p)&&(b<d[0]&&"right"===g.left&&(b+=$,g.left="left"),b+$>d[2]&&"left"===g.left&&(b-=$,g.left="right")),"string"==typeof x?x=function(){var e,t,n,i;for(n=x.split(","),i=[],t=0,e=n.length;e>t;t++)_=n[t],i.push(_.trim());return i}():x===!0&&(x=["top","left","right","bottom"]),x||(x=[]),k=[],y=[],A<d[1]&&(u.call(x,"top")>=0?(A=d[1],k.push("top")):y.push("top")),A+v>d[3]&&(u.call(x,"bottom")>=0?(A=d[3]-v,k.push("bottom")):y.push("bottom")),b<d[0]&&(u.call(x,"left")>=0?(b=d[0],k.push("left")):y.push("left")),b+$>d[2]&&(u.call(x,"right")>=0?(b=d[2]-$,k.push("right")):y.push("right")),k.length)for(T=null!=(Z=this.options.pinnedClass)?Z:this.getClass("pinned"),s.push(T),W=0,H=k.length;H>W;W++)D=k[W],s.push(""+T+"-"+D);if(y.length)for(w=null!=(et=this.options.outOfBoundsClass)?et:this.getClass("out-of-bounds"),s.push(w),q=0,B=y.length;B>q;q++)D=y[q],s.push(""+w+"-"+D);(u.call(k,"left")>=0||u.call(k,"right")>=0)&&(g.left=E.left=!1),(u.call(k,"top")>=0||u.call(k,"bottom")>=0)&&(g.top=E.top=!1),(E.top!==M.top||E.left!==M.left||g.top!==this.attachment.top||g.left!==this.attachment.left)&&this.updateAttachClasses(g,E)}return n(function(){return l(tt.target,s,a),l(tt.element,s,a)}),{top:A,left:b}}})}.call(this),function(){var e,t,n,i;i=this.Tether.Utils,t=i.getBounds,n=i.updateClasses,e=i.defer,this.Tether.modules.push({position:function(i){var r,o,s,a,l,c,u,d,p,h,f,m,g,v,b,y,w,_,x,k,T,C,D,E,M,L=this;if(f=i.top,c=i.left,T=this.cache("element-bounds",function(){return t(L.element)}),l=T.height,m=T.width,h=this.getTargetBounds(),a=f+l,u=c+m,r=[],f<=h.bottom&&a>=h.top)for(C=["left","right"],g=0,w=C.length;w>g;g++)d=C[g],((D=h[d])===c||D===u)&&r.push(d);if(c<=h.right&&u>=h.left)for(E=["top","bottom"],v=0,_=E.length;_>v;v++)d=E[v],((M=h[d])===f||M===a)&&r.push(d);for(s=[],o=[],p=["left","top","right","bottom"],s.push(this.getClass("abutted")),b=0,x=p.length;x>b;b++)d=p[b],s.push(""+this.getClass("abutted")+"-"+d);for(r.length&&o.push(this.getClass("abutted")),y=0,k=r.length;k>y;y++)d=r[y],o.push(""+this.getClass("abutted")+"-"+d);return e(function(){return n(L.target,o,s),n(L.element,o,s)}),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,n,i,r,o,s,a;return s=e.top,t=e.left,this.options.shift?(n=function(e){return"function"==typeof e?e.call(this,{top:s,left:t}):e},i=n(this.options.shift),"string"==typeof i?(i=i.split(" "),i[1]||(i[1]=i[0]),o=i[0],r=i[1],o=parseFloat(o,10),r=parseFloat(r,10)):(a=[i.top,i.left],o=a[0],r=a[1]),s+=o,t+=r,{top:s,left:t}):void 0}})}.call(this),this.Tether})},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s?62:t===a?63:l>t?-1:l+10>t?t-l+26+26:u+26>t?t-u:c+26>t?t-c+26:void 0}function i(e){function n(e){c[d++]=e}var i,r,s,a,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;l="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,c=new o(3*e.length/4-l),s=l>0?e.length-4:e.length;var d=0;for(i=0,r=0;s>i;i+=4,r+=3)a=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===l?(a=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&a)):1===l&&(a=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(a>>8&255),n(255&a)),c}function r(e){function t(e){return n.charAt(e)}function i(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,s,a=e.length%3,l="";for(r=0,s=e.length-a;s>r;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],l+=i(o);switch(a){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0);e.toByteArray=i,e.fromByteArray=r}(t)},function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?r-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return s?0/0:1/0*(h?-1:1);s+=Math.pow(2,i),o-=c}return(h?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,f=i?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+d>=1?p/l:p*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,r),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[n+h]=255&a,h+=f,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+h]=255&s,h+=f,s/=256,c-=8);e[n+h-f]|=128*m}},function(e){var t=Array.isArray,n=Object.prototype.toString;e.exports=t||function(e){return!!e&&"[object Array]"==n.call(e)}},function(e){function t(){}var n=e.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var i=[];if(t){var r=document.createElement("div"),o=new MutationObserver(function(){var e=i.slice();i.length=0,e.forEach(function(e){e()})});return o.observe(r,{attributes:!0}),function(e){i.length||r.setAttribute("yes","no"),i.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(e){i.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=t,n.addListener=t,n.once=t,n.off=t,n.removeListener=t,n.removeAllListeners=t,n.emit=t,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},function(){},function(e,t,n,i){"use strict";function r(e,t){this.$Response_response=e;var n=this.$Response_getItem();return t&&n&&(n=o.isArray(n)?n.map(function(e){return new t(e)}):new t(n)),this.$Response_item=n,this}var o=n(i);r.prototype.$Response_getItem=function(){var e=this.getResponse()._embedded,t=e?e.item:null;return t},r.prototype.getResponse=function(){return this.$Response_response},r.prototype.getItem=function(){return this.$Response_item},r.prototype.getItemAsList=function(){return this.$Response_item?[].concat(this.$Response_item):[]},r.prototype.getLink=function(e){var t=this.getResponse(),n=t._links;return n&&n[e]?n[e].href:void 0},e.exports=r}]));